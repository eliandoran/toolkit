import{s as Ta,p as ta,i as ye,n as ra,f as X,e as he,a as Qe,c as pe,b as Oe,J as sr,g as Xe,o as Ce,h as $e,q as As,t as hr,d as pr,j as mr,k as Ms,l as kr,m as Rr}from"../chunks/scheduler.DJLZbcZU.js";import{S as ka,i as Ra,c as Ie,a as De,m as Ae,t as Me,b as Ve,d as Fe,e as jr}from"../chunks/index.DoLMYupk.js";import{C as ja,t as Vs}from"../chunks/codemirror.iXHfvlEK.js";import{j as Ia}from"../chunks/index.BK3SR7OR.js";import{S as Ur}from"../chunks/stack-view.BQxpEf_4.js";import{T as Fs}from"../chunks/tool.DgcHezec.js";import{W as Da}from"../chunks/warning-box.CTlSCpsY.js";import{c as Us,g as qs}from"../chunks/_commonjsHelpers.Cpj98o6Y.js";import{e as na}from"../chunks/each.D6YF6ztN.js";import{T as Aa}from"../chunks/text-file-picker.DCLF0mex.js";var Gr={exports:{}},Ma={},Ue={},At={},or={},H={},ar={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(y){if(super(),!e.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((k,D)=>`${k}${D}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((k,D)=>(D instanceof r&&(k[D.str]=(k[D.str]||0)+1),k),{})}}e._Code=n,e.nil=new n("");function a(v,...y){const k=[v[0]];let D=0;for(;D<y.length;)o(k,y[D]),k.push(v[++D]);return new n(k)}e._=a;const s=new n("+");function l(v,...y){const k=[O(v[0])];let D=0;for(;D<y.length;)k.push(s),o(k,y[D]),k.push(s,O(v[++D]));return d(k),new n(k)}e.str=l;function o(v,y){y instanceof n?v.push(...y._items):y instanceof r?v.push(y):v.push($(y))}e.addCodeArg=o;function d(v){let y=1;for(;y<v.length-1;){if(v[y]===s){const k=u(v[y-1],v[y+1]);if(k!==void 0){v.splice(y-1,3,k);continue}v[y++]="+"}y++}}function u(v,y){if(y==='""')return v;if(v==='""')return y;if(typeof v=="string")return y instanceof r||v[v.length-1]!=='"'?void 0:typeof y!="string"?`${v.slice(0,-1)}${y}"`:y[0]==='"'?v.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(v instanceof r))return`"${v}${y.slice(1)}`}function f(v,y){return y.emptyStr()?v:v.emptyStr()?y:l`${v}${y}`}e.strConcat=f;function $(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:O(Array.isArray(v)?v.join(","):v)}function C(v){return new n(O(v))}e.stringify=C;function O(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=O;function S(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new n(`.${v}`):a`[${v}]`}e.getProperty=S;function P(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new n(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=P;function _(v){return new n(v.toString())}e.regexpCode=_})(ar);var Jr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ar;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(d){d[d.Started=0]="Started",d[d.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,$;if(!(($=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||$===void 0)&&$.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class s extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:$}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${$}]`}}e.ValueScopeName=s;const l=(0,t._)`\n`;class o extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?l:t.nil}}get(){return this._scope}name(u){return new s(u,this._newName(u))}value(u,f){var $;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const C=this.toName(u),{prefix:O}=C,S=($=f.key)!==null&&$!==void 0?$:f.ref;let P=this._values[O];if(P){const y=P.get(S);if(y)return y}else P=this._values[O]=new Map;P.set(S,C);const _=this._scope[O]||(this._scope[O]=[]),v=_.length;return _[v]=f.ref,C.setValue(f,{property:O,itemIndex:v}),C}getValue(u,f){const $=this._values[u];if($)return $.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${u}${$.scopePath}`})}scopeCode(u=this._values,f,$){return this._reduceValues(u,C=>{if(C.value===void 0)throw new Error(`CodeGen: name "${C}" has no value`);return C.value.code},f,$)}_reduceValues(u,f,$={},C){let O=t.nil;for(const S in u){const P=u[S];if(!P)continue;const _=$[S]=$[S]||new Map;P.forEach(v=>{if(_.has(v))return;_.set(v,n.Started);let y=f(v);if(y){const k=this.opts.es5?e.varKinds.var:e.varKinds.const;O=(0,t._)`${O}${k} ${v} = ${y};${this.opts._n}`}else if(y=C==null?void 0:C(v))O=(0,t._)`${O}${y}${this.opts._n}`;else throw new r(v);_.set(v,n.Completed)})}return O}}e.ValueScope=o})(Jr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ar,r=Jr;var n=ar;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Jr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(i,p){return this}}class l extends s{constructor(i,p,N){super(),this.varKind=i,this.name=p,this.rhs=N}render({es5:i,_n:p}){const N=i?r.varKinds.var:this.varKind,j=this.rhs===void 0?"":` = ${this.rhs}`;return`${N} ${this.name}${j};`+p}optimizeNames(i,p){if(i[this.name.str])return this.rhs&&(this.rhs=me(this.rhs,i,p)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(i,p,N){super(),this.lhs=i,this.rhs=p,this.sideEffects=N}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,p){if(!(this.lhs instanceof t.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=me(this.rhs,i,p),this}get names(){const i=this.lhs instanceof t.Name?{}:{...this.lhs.names};return ze(i,this.rhs)}}class d extends o{constructor(i,p,N,j){super(i,N,j),this.op=p}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class u extends s{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class f extends s{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class $ extends s{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class C extends s{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,p){return this.code=me(this.code,i,p),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class O extends s{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((p,N)=>p+N.render(i),"")}optimizeNodes(){const{nodes:i}=this;let p=i.length;for(;p--;){const N=i[p].optimizeNodes();Array.isArray(N)?i.splice(p,1,...N):N?i[p]=N:i.splice(p,1)}return i.length>0?this:void 0}optimizeNames(i,p){const{nodes:N}=this;let j=N.length;for(;j--;){const A=N[j];A.optimizeNames(i,p)||(lt(i,A.names),N.splice(j,1))}return N.length>0?this:void 0}get names(){return this.nodes.reduce((i,p)=>ce(i,p.names),{})}}class S extends O{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class P extends O{}class _ extends S{}_.kind="else";class v extends S{constructor(i,p){super(p),this.condition=i}render(i){let p=`if(${this.condition})`+super.render(i);return this.else&&(p+="else "+this.else.render(i)),p}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let p=this.else;if(p){const N=p.optimizeNodes();p=this.else=Array.isArray(N)?new _(N):N}if(p)return i===!1?p instanceof v?p:p.nodes:this.nodes.length?this:new v(ut(i),p instanceof v?[p]:p.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,p){var N;if(this.else=(N=this.else)===null||N===void 0?void 0:N.optimizeNames(i,p),!!(super.optimizeNames(i,p)||this.else))return this.condition=me(this.condition,i,p),this}get names(){const i=super.names;return ze(i,this.condition),this.else&&ce(i,this.else.names),i}}v.kind="if";class y extends S{}y.kind="for";class k extends y{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,p){if(super.optimizeNames(i,p))return this.iteration=me(this.iteration,i,p),this}get names(){return ce(super.names,this.iteration.names)}}class D extends y{constructor(i,p,N,j){super(),this.varKind=i,this.name=p,this.from=N,this.to=j}render(i){const p=i.es5?r.varKinds.var:this.varKind,{name:N,from:j,to:A}=this;return`for(${p} ${N}=${j}; ${N}<${A}; ${N}++)`+super.render(i)}get names(){const i=ze(super.names,this.from);return ze(i,this.to)}}class M extends y{constructor(i,p,N,j){super(),this.loop=i,this.varKind=p,this.name=N,this.iterable=j}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,p){if(super.optimizeNames(i,p))return this.iterable=me(this.iterable,i,p),this}get names(){return ce(super.names,this.iterable.names)}}class Q extends S{constructor(i,p,N){super(),this.name=i,this.args=p,this.async=N}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}Q.kind="func";class te extends O{render(i){return"return "+super.render(i)}}te.kind="return";class Te extends S{render(i){let p="try"+super.render(i);return this.catch&&(p+=this.catch.render(i)),this.finally&&(p+=this.finally.render(i)),p}optimizeNodes(){var i,p;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(p=this.finally)===null||p===void 0||p.optimizeNodes(),this}optimizeNames(i,p){var N,j;return super.optimizeNames(i,p),(N=this.catch)===null||N===void 0||N.optimizeNames(i,p),(j=this.finally)===null||j===void 0||j.optimizeNames(i,p),this}get names(){const i=super.names;return this.catch&&ce(i,this.catch.names),this.finally&&ce(i,this.finally.names),i}}class qe extends S{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}qe.kind="catch";class xe extends S{render(i){return"finally"+super.render(i)}}xe.kind="finally";class et{constructor(i,p={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...p,_n:p.lines?`
`:""},this._extScope=i,this._scope=new r.Scope({parent:i}),this._nodes=[new P]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,p){const N=this._extScope.value(i,p);return(this._values[N.prefix]||(this._values[N.prefix]=new Set)).add(N),N}getScopeValue(i,p){return this._extScope.getValue(i,p)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,p,N,j){const A=this._scope.toName(p);return N!==void 0&&j&&(this._constants[A.str]=N),this._leafNode(new l(i,A,N)),A}const(i,p,N){return this._def(r.varKinds.const,i,p,N)}let(i,p,N){return this._def(r.varKinds.let,i,p,N)}var(i,p,N){return this._def(r.varKinds.var,i,p,N)}assign(i,p,N){return this._leafNode(new o(i,p,N))}add(i,p){return this._leafNode(new d(i,e.operators.ADD,p))}code(i){return typeof i=="function"?i():i!==t.nil&&this._leafNode(new C(i)),this}object(...i){const p=["{"];for(const[N,j]of i)p.length>1&&p.push(","),p.push(N),(N!==j||this.opts.es5)&&(p.push(":"),(0,t.addCodeArg)(p,j));return p.push("}"),new t._Code(p)}if(i,p,N){if(this._blockNode(new v(i)),p&&N)this.code(p).else().code(N).endIf();else if(p)this.code(p).endIf();else if(N)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new v(i))}else(){return this._elseNode(new _)}endIf(){return this._endBlockNode(v,_)}_for(i,p){return this._blockNode(i),p&&this.code(p).endFor(),this}for(i,p){return this._for(new k(i),p)}forRange(i,p,N,j,A=this.opts.es5?r.varKinds.var:r.varKinds.let){const G=this._scope.toName(i);return this._for(new D(A,G,p,N),()=>j(G))}forOf(i,p,N,j=r.varKinds.const){const A=this._scope.toName(i);if(this.opts.es5){const G=p instanceof t.Name?p:this.var("_arr",p);return this.forRange("_i",0,(0,t._)`${G}.length`,W=>{this.var(A,(0,t._)`${G}[${W}]`),N(A)})}return this._for(new M("of",j,A,p),()=>N(A))}forIn(i,p,N,j=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,t._)`Object.keys(${p})`,N);const A=this._scope.toName(i);return this._for(new M("in",j,A,p),()=>N(A))}endFor(){return this._endBlockNode(y)}label(i){return this._leafNode(new u(i))}break(i){return this._leafNode(new f(i))}return(i){const p=new te;if(this._blockNode(p),this.code(i),p.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(te)}try(i,p,N){if(!p&&!N)throw new Error('CodeGen: "try" without "catch" and "finally"');const j=new Te;if(this._blockNode(j),this.code(i),p){const A=this.name("e");this._currNode=j.catch=new qe(A),p(A)}return N&&(this._currNode=j.finally=new xe,this.code(N)),this._endBlockNode(qe,xe)}throw(i){return this._leafNode(new $(i))}block(i,p){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(p),this}endBlock(i){const p=this._blockStarts.pop();if(p===void 0)throw new Error("CodeGen: not in self-balancing block");const N=this._nodes.length-p;if(N<0||i!==void 0&&N!==i)throw new Error(`CodeGen: wrong number of nodes: ${N} vs ${i} expected`);return this._nodes.length=p,this}func(i,p=t.nil,N,j){return this._blockNode(new Q(i,p,N)),j&&this.code(j).endFunc(),this}endFunc(){return this._endBlockNode(Q)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,p){const N=this._currNode;if(N instanceof i||p&&N instanceof p)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${p?`${i.kind}/${p.kind}`:i.kind}"`)}_elseNode(i){const p=this._currNode;if(!(p instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=p.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const p=this._nodes;p[p.length-1]=i}}e.CodeGen=et;function ce(w,i){for(const p in i)w[p]=(w[p]||0)+(i[p]||0);return w}function ze(w,i){return i instanceof t._CodeOrName?ce(w,i.names):w}function me(w,i,p){if(w instanceof t.Name)return N(w);if(!j(w))return w;return new t._Code(w._items.reduce((A,G)=>(G instanceof t.Name&&(G=N(G)),G instanceof t._Code?A.push(...G._items):A.push(G),A),[]));function N(A){const G=p[A.str];return G===void 0||i[A.str]!==1?A:(delete i[A.str],G)}function j(A){return A instanceof t._Code&&A._items.some(G=>G instanceof t.Name&&i[G.str]===1&&p[G.str]!==void 0)}}function lt(w,i){for(const p in i)w[p]=(w[p]||0)-(i[p]||0)}function ut(w){return typeof w=="boolean"||typeof w=="number"||w===null?!w:(0,t._)`!${T(w)}`}e.not=ut;const wt=g(e.operators.AND);function qt(...w){return w.reduce(wt)}e.and=qt;const Et=g(e.operators.OR);function R(...w){return w.reduce(Et)}e.or=R;function g(w){return(i,p)=>i===t.nil?p:p===t.nil?i:(0,t._)`${T(i)} ${w} ${T(p)}`}function T(w){return w instanceof t.Name?w:(0,t._)`(${w})`}})(H);var I={};Object.defineProperty(I,"__esModule",{value:!0});I.checkStrictMode=I.getErrorPath=I.Type=I.useFunc=I.setEvaluated=I.evaluatedPropsToName=I.mergeEvaluated=I.eachItem=I.unescapeJsonPointer=I.escapeJsonPointer=I.escapeFragment=I.unescapeFragment=I.schemaRefOrVal=I.schemaHasRulesButRef=I.schemaHasRules=I.checkUnknownRules=I.alwaysValidSchema=I.toHash=void 0;const Y=H,zs=ar;function Ls(e){const t={};for(const r of e)t[r]=!0;return t}I.toHash=Ls;function Ks(e,t){return typeof t=="boolean"?t:Object.keys(t).length===0?!0:(Va(e,t),!Fa(t,e.self.RULES.all))}I.alwaysValidSchema=Ks;function Va(e,t=e.schema){const{opts:r,self:n}=e;if(!r.strictSchema||typeof t=="boolean")return;const a=n.RULES.keywords;for(const s in t)a[s]||za(e,`unknown keyword: "${s}"`)}I.checkUnknownRules=Va;function Fa(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(t[r])return!0;return!1}I.schemaHasRules=Fa;function Hs(e,t){if(typeof e=="boolean")return!e;for(const r in e)if(r!=="$ref"&&t.all[r])return!0;return!1}I.schemaHasRulesButRef=Hs;function Gs({topSchemaRef:e,schemaPath:t},r,n,a){if(!a){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,Y._)`${r}`}return(0,Y._)`${e}${t}${(0,Y.getProperty)(n)}`}I.schemaRefOrVal=Gs;function Js(e){return Ua(decodeURIComponent(e))}I.unescapeFragment=Js;function Ws(e){return encodeURIComponent(en(e))}I.escapeFragment=Ws;function en(e){return typeof e=="number"?`${e}`:e.replace(/~/g,"~0").replace(/\//g,"~1")}I.escapeJsonPointer=en;function Ua(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}I.unescapeJsonPointer=Ua;function Bs(e,t){if(Array.isArray(e))for(const r of e)t(r);else t(e)}I.eachItem=Bs;function aa({mergeNames:e,mergeToName:t,mergeValues:r,resultToName:n}){return(a,s,l,o)=>{const d=l===void 0?s:l instanceof Y.Name?(s instanceof Y.Name?e(a,s,l):t(a,s,l),l):s instanceof Y.Name?(t(a,l,s),s):r(s,l);return o===Y.Name&&!(d instanceof Y.Name)?n(a,d):d}}I.mergeEvaluated={props:aa({mergeNames:(e,t,r)=>e.if((0,Y._)`${r} !== true && ${t} !== undefined`,()=>{e.if((0,Y._)`${t} === true`,()=>e.assign(r,!0),()=>e.assign(r,(0,Y._)`${r} || {}`).code((0,Y._)`Object.assign(${r}, ${t})`))}),mergeToName:(e,t,r)=>e.if((0,Y._)`${r} !== true`,()=>{t===!0?e.assign(r,!0):(e.assign(r,(0,Y._)`${r} || {}`),tn(e,r,t))}),mergeValues:(e,t)=>e===!0?!0:{...e,...t},resultToName:qa}),items:aa({mergeNames:(e,t,r)=>e.if((0,Y._)`${r} !== true && ${t} !== undefined`,()=>e.assign(r,(0,Y._)`${t} === true ? true : ${r} > ${t} ? ${r} : ${t}`)),mergeToName:(e,t,r)=>e.if((0,Y._)`${r} !== true`,()=>e.assign(r,t===!0?!0:(0,Y._)`${r} > ${t} ? ${r} : ${t}`)),mergeValues:(e,t)=>e===!0?!0:Math.max(e,t),resultToName:(e,t)=>e.var("items",t)})};function qa(e,t){if(t===!0)return e.var("props",!0);const r=e.var("props",(0,Y._)`{}`);return t!==void 0&&tn(e,r,t),r}I.evaluatedPropsToName=qa;function tn(e,t,r){Object.keys(r).forEach(n=>e.assign((0,Y._)`${t}${(0,Y.getProperty)(n)}`,!0))}I.setEvaluated=tn;const sa={};function Qs(e,t){return e.scopeValue("func",{ref:t,code:sa[t.code]||(sa[t.code]=new zs._Code(t.code))})}I.useFunc=Qs;var Wr;(function(e){e[e.Num=0]="Num",e[e.Str=1]="Str"})(Wr||(I.Type=Wr={}));function Xs(e,t,r){if(e instanceof Y.Name){const n=t===Wr.Num;return r?n?(0,Y._)`"[" + ${e} + "]"`:(0,Y._)`"['" + ${e} + "']"`:n?(0,Y._)`"/" + ${e}`:(0,Y._)`"/" + ${e}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,Y.getProperty)(e).toString():"/"+en(e)}I.getErrorPath=Xs;function za(e,t,r=e.opts.strictSchema){if(r){if(t=`strict mode: ${t}`,r===!0)throw new Error(t);e.self.logger.warn(t)}}I.checkStrictMode=za;var Ze={};Object.defineProperty(Ze,"__esModule",{value:!0});const ve=H,Ys={data:new ve.Name("data"),valCxt:new ve.Name("valCxt"),instancePath:new ve.Name("instancePath"),parentData:new ve.Name("parentData"),parentDataProperty:new ve.Name("parentDataProperty"),rootData:new ve.Name("rootData"),dynamicAnchors:new ve.Name("dynamicAnchors"),vErrors:new ve.Name("vErrors"),errors:new ve.Name("errors"),this:new ve.Name("this"),self:new ve.Name("self"),scope:new ve.Name("scope"),json:new ve.Name("json"),jsonPos:new ve.Name("jsonPos"),jsonLen:new ve.Name("jsonLen"),jsonPart:new ve.Name("jsonPart")};Ze.default=Ys;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=H,r=I,n=Ze;e.keywordError={message:({keyword:_})=>(0,t.str)`must pass "${_}" keyword validation`},e.keyword$DataError={message:({keyword:_,schemaType:v})=>v?(0,t.str)`"${_}" keyword must be ${v} ($data)`:(0,t.str)`"${_}" keyword is invalid ($data)`};function a(_,v=e.keywordError,y,k){const{it:D}=_,{gen:M,compositeRule:Q,allErrors:te}=D,Te=$(_,v,y);k??(Q||te)?d(M,Te):u(D,(0,t._)`[${Te}]`)}e.reportError=a;function s(_,v=e.keywordError,y){const{it:k}=_,{gen:D,compositeRule:M,allErrors:Q}=k,te=$(_,v,y);d(D,te),M||Q||u(k,n.default.vErrors)}e.reportExtraError=s;function l(_,v){_.assign(n.default.errors,v),_.if((0,t._)`${n.default.vErrors} !== null`,()=>_.if(v,()=>_.assign((0,t._)`${n.default.vErrors}.length`,v),()=>_.assign(n.default.vErrors,null)))}e.resetErrorsCount=l;function o({gen:_,keyword:v,schemaValue:y,data:k,errsCount:D,it:M}){if(D===void 0)throw new Error("ajv implementation error");const Q=_.name("err");_.forRange("i",D,n.default.errors,te=>{_.const(Q,(0,t._)`${n.default.vErrors}[${te}]`),_.if((0,t._)`${Q}.instancePath === undefined`,()=>_.assign((0,t._)`${Q}.instancePath`,(0,t.strConcat)(n.default.instancePath,M.errorPath))),_.assign((0,t._)`${Q}.schemaPath`,(0,t.str)`${M.errSchemaPath}/${v}`),M.opts.verbose&&(_.assign((0,t._)`${Q}.schema`,y),_.assign((0,t._)`${Q}.data`,k))})}e.extendErrors=o;function d(_,v){const y=_.const("err",v);_.if((0,t._)`${n.default.vErrors} === null`,()=>_.assign(n.default.vErrors,(0,t._)`[${y}]`),(0,t._)`${n.default.vErrors}.push(${y})`),_.code((0,t._)`${n.default.errors}++`)}function u(_,v){const{gen:y,validateName:k,schemaEnv:D}=_;D.$async?y.throw((0,t._)`new ${_.ValidationError}(${v})`):(y.assign((0,t._)`${k}.errors`,v),y.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(_,v,y){const{createErrors:k}=_.it;return k===!1?(0,t._)`{}`:C(_,v,y)}function C(_,v,y={}){const{gen:k,it:D}=_,M=[O(D,y),S(_,y)];return P(_,v,M),k.object(...M)}function O({errorPath:_},{instancePath:v}){const y=v?(0,t.str)`${_}${(0,r.getErrorPath)(v,r.Type.Str)}`:_;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,y)]}function S({keyword:_,it:{errSchemaPath:v}},{schemaPath:y,parentSchema:k}){let D=k?v:(0,t.str)`${v}/${_}`;return y&&(D=(0,t.str)`${D}${(0,r.getErrorPath)(y,r.Type.Str)}`),[f.schemaPath,D]}function P(_,{params:v,message:y},k){const{keyword:D,data:M,schemaValue:Q,it:te}=_,{opts:Te,propertyName:qe,topSchemaRef:xe,schemaPath:et}=te;k.push([f.keyword,D],[f.params,typeof v=="function"?v(_):v||(0,t._)`{}`]),Te.messages&&k.push([f.message,typeof y=="function"?y(_):y]),Te.verbose&&k.push([f.schema,Q],[f.parentSchema,(0,t._)`${xe}${et}`],[n.default.data,M]),qe&&k.push([f.propertyName,qe])}})(or);Object.defineProperty(At,"__esModule",{value:!0});At.boolOrEmptySchema=At.topBoolOrEmptySchema=void 0;const Zs=or,xs=H,eo=Ze,to={message:"boolean schema is false"};function ro(e){const{gen:t,schema:r,validateName:n}=e;r===!1?La(e,!1):typeof r=="object"&&r.$async===!0?t.return(eo.default.data):(t.assign((0,xs._)`${n}.errors`,null),t.return(!0))}At.topBoolOrEmptySchema=ro;function no(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),La(e)):r.var(t,!0)}At.boolOrEmptySchema=no;function La(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Zs.reportError)(a,to,void 0,t)}var ue={},_t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.getRules=_t.isJSONType=void 0;const ao=["string","number","integer","boolean","null","object","array"],so=new Set(ao);function oo(e){return typeof e=="string"&&so.has(e)}_t.isJSONType=oo;function io(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}_t.getRules=io;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.shouldUseRule=rt.shouldUseGroup=rt.schemaHasRulesForType=void 0;function co({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Ka(e,n)}rt.schemaHasRulesForType=co;function Ka(e,t){return t.rules.some(r=>Ha(e,r))}rt.shouldUseGroup=Ka;function Ha(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}rt.shouldUseRule=Ha;Object.defineProperty(ue,"__esModule",{value:!0});ue.reportTypeError=ue.checkDataTypes=ue.checkDataType=ue.coerceAndCheckDataType=ue.getJSONTypes=ue.getSchemaTypes=ue.DataType=void 0;const lo=_t,uo=rt,fo=or,L=H,Ga=I;var It;(function(e){e[e.Correct=0]="Correct",e[e.Wrong=1]="Wrong"})(It||(ue.DataType=It={}));function ho(e){const t=Ja(e.type);if(t.includes("null")){if(e.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!t.length&&e.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');e.nullable===!0&&t.push("null")}return t}ue.getSchemaTypes=ho;function Ja(e){const t=Array.isArray(e)?e:e?[e]:[];if(t.every(lo.isJSONType))return t;throw new Error("type must be JSONType or JSONType[]: "+t.join(","))}ue.getJSONTypes=Ja;function po(e,t){const{gen:r,data:n,opts:a}=e,s=mo(t,a.coerceTypes),l=t.length>0&&!(s.length===0&&t.length===1&&(0,uo.schemaHasRulesForType)(e,t[0]));if(l){const o=rn(t,n,a.strictNumbers,It.Wrong);r.if(o,()=>{s.length?vo(e,t,s):nn(e)})}return l}ue.coerceAndCheckDataType=po;const Wa=new Set(["string","number","integer","boolean","null"]);function mo(e,t){return t?e.filter(r=>Wa.has(r)||t==="array"&&r==="array"):[]}function vo(e,t,r){const{gen:n,data:a,opts:s}=e,l=n.let("dataType",(0,L._)`typeof ${a}`),o=n.let("coerced",(0,L._)`undefined`);s.coerceTypes==="array"&&n.if((0,L._)`${l} == 'object' && Array.isArray(${a}) && ${a}.length == 1`,()=>n.assign(a,(0,L._)`${a}[0]`).assign(l,(0,L._)`typeof ${a}`).if(rn(t,a,s.strictNumbers),()=>n.assign(o,a))),n.if((0,L._)`${o} !== undefined`);for(const u of r)(Wa.has(u)||u==="array"&&s.coerceTypes==="array")&&d(u);n.else(),nn(e),n.endIf(),n.if((0,L._)`${o} !== undefined`,()=>{n.assign(a,o),$o(e,o)});function d(u){switch(u){case"string":n.elseIf((0,L._)`${l} == "number" || ${l} == "boolean"`).assign(o,(0,L._)`"" + ${a}`).elseIf((0,L._)`${a} === null`).assign(o,(0,L._)`""`);return;case"number":n.elseIf((0,L._)`${l} == "boolean" || ${a} === null
              || (${l} == "string" && ${a} && ${a} == +${a})`).assign(o,(0,L._)`+${a}`);return;case"integer":n.elseIf((0,L._)`${l} === "boolean" || ${a} === null
              || (${l} === "string" && ${a} && ${a} == +${a} && !(${a} % 1))`).assign(o,(0,L._)`+${a}`);return;case"boolean":n.elseIf((0,L._)`${a} === "false" || ${a} === 0 || ${a} === null`).assign(o,!1).elseIf((0,L._)`${a} === "true" || ${a} === 1`).assign(o,!0);return;case"null":n.elseIf((0,L._)`${a} === "" || ${a} === 0 || ${a} === false`),n.assign(o,null);return;case"array":n.elseIf((0,L._)`${l} === "string" || ${l} === "number"
              || ${l} === "boolean" || ${a} === null`).assign(o,(0,L._)`[${a}]`)}}}function $o({gen:e,parentData:t,parentDataProperty:r},n){e.if((0,L._)`${t} !== undefined`,()=>e.assign((0,L._)`${t}[${r}]`,n))}function Br(e,t,r,n=It.Correct){const a=n===It.Correct?L.operators.EQ:L.operators.NEQ;let s;switch(e){case"null":return(0,L._)`${t} ${a} null`;case"array":s=(0,L._)`Array.isArray(${t})`;break;case"object":s=(0,L._)`${t} && typeof ${t} == "object" && !Array.isArray(${t})`;break;case"integer":s=l((0,L._)`!(${t} % 1) && !isNaN(${t})`);break;case"number":s=l();break;default:return(0,L._)`typeof ${t} ${a} ${e}`}return n===It.Correct?s:(0,L.not)(s);function l(o=L.nil){return(0,L.and)((0,L._)`typeof ${t} == "number"`,o,r?(0,L._)`isFinite(${t})`:L.nil)}}ue.checkDataType=Br;function rn(e,t,r,n){if(e.length===1)return Br(e[0],t,r,n);let a;const s=(0,Ga.toHash)(e);if(s.array&&s.object){const l=(0,L._)`typeof ${t} != "object"`;a=s.null?l:(0,L._)`!${t} || ${l}`,delete s.null,delete s.array,delete s.object}else a=L.nil;s.number&&delete s.integer;for(const l in s)a=(0,L.and)(a,Br(l,t,r,n));return a}ue.checkDataTypes=rn;const yo={message:({schema:e})=>`must be ${e}`,params:({schema:e,schemaValue:t})=>typeof e=="string"?(0,L._)`{type: ${e}}`:(0,L._)`{type: ${t}}`};function nn(e){const t=_o(e);(0,fo.reportError)(t,yo)}ue.reportTypeError=nn;function _o(e){const{gen:t,data:r,schema:n}=e,a=(0,Ga.schemaRefOrVal)(e,n,"type");return{gen:t,keyword:"type",data:r,schema:n.type,schemaCode:a,schemaValue:a,parentSchema:n,params:{},it:e}}var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.assignDefaults=void 0;const kt=H,go=I;function wo(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)oa(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,s)=>oa(e,s,a.default))}Ir.assignDefaults=wo;function oa(e,t,r){const{gen:n,compositeRule:a,data:s,opts:l}=e;if(r===void 0)return;const o=(0,kt._)`${s}${(0,kt.getProperty)(t)}`;if(a){(0,go.checkStrictMode)(e,`default is ignored for: ${o}`);return}let d=(0,kt._)`${o} === undefined`;l.useDefaults==="empty"&&(d=(0,kt._)`${d} || ${o} === null || ${o} === ""`),n.if(d,(0,kt._)`${o} = ${(0,kt.stringify)(r)}`)}var Ye={},K={};Object.defineProperty(K,"__esModule",{value:!0});K.validateUnion=K.validateArray=K.usePattern=K.callValidateCode=K.schemaProperties=K.allSchemaProperties=K.noPropertyInData=K.propertyInData=K.isOwnProperty=K.hasPropFunc=K.reportMissingProp=K.checkMissingProp=K.checkReportMissingProp=void 0;const ee=H,an=I,st=Ze,Eo=I;function bo(e,t){const{gen:r,data:n,it:a}=e;r.if(on(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ee._)`${t}`},!0),e.error()})}K.checkReportMissingProp=bo;function So({gen:e,data:t,it:{opts:r}},n,a){return(0,ee.or)(...n.map(s=>(0,ee.and)(on(e,t,s,r.ownProperties),(0,ee._)`${a} = ${s}`)))}K.checkMissingProp=So;function Po(e,t){e.setParams({missingProperty:t},!0),e.error()}K.reportMissingProp=Po;function Ba(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ee._)`Object.prototype.hasOwnProperty`})}K.hasPropFunc=Ba;function sn(e,t,r){return(0,ee._)`${Ba(e)}.call(${t}, ${r})`}K.isOwnProperty=sn;function No(e,t,r,n){const a=(0,ee._)`${t}${(0,ee.getProperty)(r)} !== undefined`;return n?(0,ee._)`${a} && ${sn(e,t,r)}`:a}K.propertyInData=No;function on(e,t,r,n){const a=(0,ee._)`${t}${(0,ee.getProperty)(r)} === undefined`;return n?(0,ee.or)(a,(0,ee.not)(sn(e,t,r))):a}K.noPropertyInData=on;function Qa(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}K.allSchemaProperties=Qa;function Oo(e,t){return Qa(t).filter(r=>!(0,an.alwaysValidSchema)(e,t[r]))}K.schemaProperties=Oo;function Co({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:l},o,d,u){const f=u?(0,ee._)`${e}, ${t}, ${n}${a}`:t,$=[[st.default.instancePath,(0,ee.strConcat)(st.default.instancePath,s)],[st.default.parentData,l.parentData],[st.default.parentDataProperty,l.parentDataProperty],[st.default.rootData,st.default.rootData]];l.opts.dynamicRef&&$.push([st.default.dynamicAnchors,st.default.dynamicAnchors]);const C=(0,ee._)`${f}, ${r.object(...$)}`;return d!==ee.nil?(0,ee._)`${o}.call(${d}, ${C})`:(0,ee._)`${o}(${C})`}K.callValidateCode=Co;const To=(0,ee._)`new RegExp`;function ko({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,s=a(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,ee._)`${a.code==="new RegExp"?To:(0,Eo.useFunc)(e,a)}(${r}, ${n})`})}K.usePattern=ko;function Ro(e){const{gen:t,data:r,keyword:n,it:a}=e,s=t.name("valid");if(a.allErrors){const o=t.let("valid",!0);return l(()=>t.assign(o,!1)),o}return t.var(s,!0),l(()=>t.break()),s;function l(o){const d=t.const("len",(0,ee._)`${r}.length`);t.forRange("i",0,d,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:an.Type.Num},s),t.if((0,ee.not)(s),o)})}}K.validateArray=Ro;function jo(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>(0,an.alwaysValidSchema)(a,d))&&!a.opts.unevaluated)return;const l=t.let("valid",!1),o=t.name("_valid");t.block(()=>r.forEach((d,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},o);t.assign(l,(0,ee._)`${l} || ${o}`),e.mergeValidEvaluated(f,o)||t.if((0,ee.not)(l))})),e.result(l,()=>e.reset(),()=>e.error(!0))}K.validateUnion=jo;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.validateKeywordUsage=Ye.validSchemaType=Ye.funcKeywordCode=Ye.macroKeywordCode=void 0;const _e=H,vt=Ze,Io=K,Do=or;function Ao(e,t){const{gen:r,keyword:n,schema:a,parentSchema:s,it:l}=e,o=t.macro.call(l.self,a,s,l),d=Xa(r,n,o);l.opts.validateSchema!==!1&&l.self.validateSchema(o,!0);const u=r.name("valid");e.subschema({schema:o,schemaPath:_e.nil,errSchemaPath:`${l.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}Ye.macroKeywordCode=Ao;function Mo(e,t){var r;const{gen:n,keyword:a,schema:s,parentSchema:l,$data:o,it:d}=e;Fo(d,t);const u=!o&&t.compile?t.compile.call(d.self,s,l,d):t.validate,f=Xa(n,a,u),$=n.let("valid");e.block$data($,C),e.ok((r=t.valid)!==null&&r!==void 0?r:$);function C(){if(t.errors===!1)P(),t.modifying&&ia(e),_(()=>e.error());else{const v=t.async?O():S();t.modifying&&ia(e),_(()=>Vo(e,v))}}function O(){const v=n.let("ruleErrs",null);return n.try(()=>P((0,_e._)`await `),y=>n.assign($,!1).if((0,_e._)`${y} instanceof ${d.ValidationError}`,()=>n.assign(v,(0,_e._)`${y}.errors`),()=>n.throw(y))),v}function S(){const v=(0,_e._)`${f}.errors`;return n.assign(v,null),P(_e.nil),v}function P(v=t.async?(0,_e._)`await `:_e.nil){const y=d.opts.passContext?vt.default.this:vt.default.self,k=!("compile"in t&&!o||t.schema===!1);n.assign($,(0,_e._)`${v}${(0,Io.callValidateCode)(e,f,y,k)}`,t.modifying)}function _(v){var y;n.if((0,_e.not)((y=t.valid)!==null&&y!==void 0?y:$),v)}}Ye.funcKeywordCode=Mo;function ia(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,_e._)`${n.parentData}[${n.parentDataProperty}]`))}function Vo(e,t){const{gen:r}=e;r.if((0,_e._)`Array.isArray(${t})`,()=>{r.assign(vt.default.vErrors,(0,_e._)`${vt.default.vErrors} === null ? ${t} : ${vt.default.vErrors}.concat(${t})`).assign(vt.default.errors,(0,_e._)`${vt.default.vErrors}.length`),(0,Do.extendErrors)(e)},()=>e.error())}function Fo({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Xa(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,_e.stringify)(r)})}function Uo(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Ye.validSchemaType=Uo;function qo({schema:e,opts:t,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const l=a.dependencies;if(l!=null&&l.some(o=>!Object.prototype.hasOwnProperty.call(e,o)))throw new Error(`parent schema must have dependencies of ${s}: ${l.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[s])){const d=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}Ye.validateKeywordUsage=qo;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.extendSubschemaMode=ct.extendSubschemaData=ct.getSubschema=void 0;const Be=H,Ya=I;function zo(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:l}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const o=e.schema[t];return r===void 0?{schema:o,schemaPath:(0,Be._)`${e.schemaPath}${(0,Be.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:o[r],schemaPath:(0,Be._)`${e.schemaPath}${(0,Be.getProperty)(t)}${(0,Be.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Ya.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||l===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:l,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}ct.getSubschema=zo;function Lo(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:l}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:$}=t,C=o.let("data",(0,Be._)`${t.data}${(0,Be.getProperty)(r)}`,!0);d(C),e.errorPath=(0,Be.str)`${u}${(0,Ya.getErrorPath)(r,n,$.jsPropertySyntax)}`,e.parentDataProperty=(0,Be._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(a!==void 0){const u=a instanceof Be.Name?a:o.let("data",a,!0);d(u),l!==void 0&&(e.propertyName=l)}s&&(e.dataTypes=s);function d(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}ct.extendSubschemaData=Lo;function Ko(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}ct.extendSubschemaMode=Ko;var fe={},Za=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var l=s[a];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},xa={exports:{}},it=xa.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};wr(t,n,a,e,"",e)};it.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};it.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};it.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};it.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function wr(e,t,r,n,a,s,l,o,d,u){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,s,l,o,d,u);for(var f in n){var $=n[f];if(Array.isArray($)){if(f in it.arrayKeywords)for(var C=0;C<$.length;C++)wr(e,t,r,$[C],a+"/"+f+"/"+C,s,a,f,n,C)}else if(f in it.propsKeywords){if($&&typeof $=="object")for(var O in $)wr(e,t,r,$[O],a+"/"+f+"/"+Ho(O),s,a,f,n,O)}else(f in it.keywords||e.allKeys&&!(f in it.skipKeywords))&&wr(e,t,r,$,a+"/"+f,s,a,f,n)}r(n,a,s,l,o,d,u)}}function Ho(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var Go=xa.exports;Object.defineProperty(fe,"__esModule",{value:!0});fe.getSchemaRefs=fe.resolveUrl=fe.normalizeId=fe._getFullPath=fe.getFullPath=fe.inlineRef=void 0;const Jo=I,Wo=Za,Bo=Go,Qo=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Xo(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Qr(e):t?es(e)<=t:!1}fe.inlineRef=Xo;const Yo=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Qr(e){for(const t in e){if(Yo.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Qr)||typeof r=="object"&&Qr(r))return!0}return!1}function es(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!Qo.has(r)&&(typeof e[r]=="object"&&(0,Jo.eachItem)(e[r],n=>t+=es(n)),t===1/0))return 1/0}return t}function ts(e,t="",r){r!==!1&&(t=Dt(t));const n=e.parse(t);return rs(e,n)}fe.getFullPath=ts;function rs(e,t){return e.serialize(t).split("#")[0]+"#"}fe._getFullPath=rs;const Zo=/#\/?$/;function Dt(e){return e?e.replace(Zo,""):""}fe.normalizeId=Dt;function xo(e,t,r){return r=Dt(r),e.resolve(t,r)}fe.resolveUrl=xo;const ei=/^[a-z_][-a-z0-9._]*$/i;function ti(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Dt(e[r]||t),s={"":a},l=ts(n,a,!1),o={},d=new Set;return Bo(e,{allKeys:!0},($,C,O,S)=>{if(S===void 0)return;const P=l+C;let _=s[S];typeof $[r]=="string"&&(_=v.call(this,$[r])),y.call(this,$.$anchor),y.call(this,$.$dynamicAnchor),s[C]=_;function v(k){const D=this.opts.uriResolver.resolve;if(k=Dt(_?D(_,k):k),d.has(k))throw f(k);d.add(k);let M=this.refs[k];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?u($,M.schema,k):k!==Dt(P)&&(k[0]==="#"?(u($,o[k],k),o[k]=$):this.refs[k]=P),k}function y(k){if(typeof k=="string"){if(!ei.test(k))throw new Error(`invalid anchor "${k}"`);v.call(this,`#${k}`)}}}),o;function u($,C,O){if(C!==void 0&&!Wo($,C))throw f(O)}function f($){return new Error(`reference "${$}" resolves to more than one schema`)}}fe.getSchemaRefs=ti;Object.defineProperty(Ue,"__esModule",{value:!0});Ue.getData=Ue.KeywordCxt=Ue.validateFunctionCode=void 0;const ns=At,ca=ue,cn=rt,Pr=ue,ri=Ir,xt=Ye,qr=ct,V=H,q=Ze,ni=fe,nt=I,Xt=or;function ai(e){if(os(e)&&(is(e),ss(e))){ii(e);return}as(e,()=>(0,ns.topBoolOrEmptySchema)(e))}Ue.validateFunctionCode=ai;function as({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},s){a.code.es5?e.func(t,(0,V._)`${q.default.data}, ${q.default.valCxt}`,n.$async,()=>{e.code((0,V._)`"use strict"; ${la(r,a)}`),oi(e,a),e.code(s)}):e.func(t,(0,V._)`${q.default.data}, ${si(a)}`,n.$async,()=>e.code(la(r,a)).code(s))}function si(e){return(0,V._)`{${q.default.instancePath}="", ${q.default.parentData}, ${q.default.parentDataProperty}, ${q.default.rootData}=${q.default.data}${e.dynamicRef?(0,V._)`, ${q.default.dynamicAnchors}={}`:V.nil}}={}`}function oi(e,t){e.if(q.default.valCxt,()=>{e.var(q.default.instancePath,(0,V._)`${q.default.valCxt}.${q.default.instancePath}`),e.var(q.default.parentData,(0,V._)`${q.default.valCxt}.${q.default.parentData}`),e.var(q.default.parentDataProperty,(0,V._)`${q.default.valCxt}.${q.default.parentDataProperty}`),e.var(q.default.rootData,(0,V._)`${q.default.valCxt}.${q.default.rootData}`),t.dynamicRef&&e.var(q.default.dynamicAnchors,(0,V._)`${q.default.valCxt}.${q.default.dynamicAnchors}`)},()=>{e.var(q.default.instancePath,(0,V._)`""`),e.var(q.default.parentData,(0,V._)`undefined`),e.var(q.default.parentDataProperty,(0,V._)`undefined`),e.var(q.default.rootData,q.default.data),t.dynamicRef&&e.var(q.default.dynamicAnchors,(0,V._)`{}`)})}function ii(e){const{schema:t,opts:r,gen:n}=e;as(e,()=>{r.$comment&&t.$comment&&ls(e),fi(e),n.let(q.default.vErrors,null),n.let(q.default.errors,0),r.unevaluated&&ci(e),cs(e),mi(e)})}function ci(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,V._)`${r}.evaluated`),t.if((0,V._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,V._)`${e.evaluated}.props`,(0,V._)`undefined`)),t.if((0,V._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,V._)`${e.evaluated}.items`,(0,V._)`undefined`))}function la(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,V._)`/*# sourceURL=${r} */`:V.nil}function li(e,t){if(os(e)&&(is(e),ss(e))){ui(e,t);return}(0,ns.boolOrEmptySchema)(e,t)}function ss({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function os(e){return typeof e.schema!="boolean"}function ui(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&ls(e),hi(e),pi(e);const s=n.const("_errs",q.default.errors);cs(e,s),n.var(t,(0,V._)`${s} === ${q.default.errors}`)}function is(e){(0,nt.checkUnknownRules)(e),di(e)}function cs(e,t){if(e.opts.jtd)return ua(e,[],!1,t);const r=(0,ca.getSchemaTypes)(e.schema),n=(0,ca.coerceAndCheckDataType)(e,r);ua(e,r,!n,t)}function di(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,nt.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function fi(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,nt.checkStrictMode)(e,"default is ignored in the schema root")}function hi(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ni.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function pi(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function ls({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)e.code((0,V._)`${q.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const l=(0,V.str)`${n}/$comment`,o=e.scopeValue("root",{ref:t.root});e.code((0,V._)`${q.default.self}.opts.$comment(${s}, ${l}, ${o}.schema)`)}}function mi(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=e;r.$async?t.if((0,V._)`${q.default.errors} === 0`,()=>t.return(q.default.data),()=>t.throw((0,V._)`new ${a}(${q.default.vErrors})`)):(t.assign((0,V._)`${n}.errors`,q.default.vErrors),s.unevaluated&&vi(e),t.return((0,V._)`${q.default.errors} === 0`))}function vi({gen:e,evaluated:t,props:r,items:n}){r instanceof V.Name&&e.assign((0,V._)`${t}.props`,r),n instanceof V.Name&&e.assign((0,V._)`${t}.items`,n)}function ua(e,t,r,n){const{gen:a,schema:s,data:l,allErrors:o,opts:d,self:u}=e,{RULES:f}=u;if(s.$ref&&(d.ignoreKeywordsWithRef||!(0,nt.schemaHasRulesButRef)(s,f))){a.block(()=>fs(e,"$ref",f.all.$ref.definition));return}d.jtd||$i(e,t),a.block(()=>{for(const C of f.rules)$(C);$(f.post)});function $(C){(0,cn.shouldUseGroup)(s,C)&&(C.type?(a.if((0,Pr.checkDataType)(C.type,l,d.strictNumbers)),da(e,C),t.length===1&&t[0]===C.type&&r&&(a.else(),(0,Pr.reportTypeError)(e)),a.endIf()):da(e,C),o||a.if((0,V._)`${q.default.errors} === ${n||0}`))}}function da(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,ri.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,cn.shouldUseRule)(n,s)&&fs(e,s.keyword,s.definition,t.type)})}function $i(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(yi(e,t),e.opts.allowUnionTypes||_i(e,t),gi(e,e.dataTypes))}function yi(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{us(e.dataTypes,r)||ln(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Ei(e,t)}}function _i(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&ln(e,"use allowUnionTypes to allow union type keyword")}function gi(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,cn.shouldUseRule)(e.schema,a)){const{type:s}=a.definition;s.length&&!s.some(l=>wi(t,l))&&ln(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function wi(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function us(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Ei(e,t){const r=[];for(const n of e.dataTypes)us(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function ln(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,nt.checkStrictMode)(e,t,e.opts.strictTypes)}class ds{constructor(t,r,n){if((0,xt.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,nt.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",hs(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,xt.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",q.default.errors))}result(t,r,n){this.failResult((0,V.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,V.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,V._)`${r} !== undefined && (${(0,V.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Xt.reportExtraError:Xt.reportError)(this,this.def.error,r)}$dataError(){(0,Xt.reportError)(this,this.def.$dataError||Xt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Xt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=V.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=V.nil,r=V.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:l}=this;n.if((0,V.or)((0,V._)`${a} === undefined`,r)),t!==V.nil&&n.assign(t,!0),(s.length||l.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==V.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,V.or)(l(),o());function l(){if(n.length){if(!(r instanceof V.Name))throw new Error("ajv implementation error");const d=Array.isArray(n)?n:[n];return(0,V._)`${(0,Pr.checkDataTypes)(d,r,s.opts.strictNumbers,Pr.DataType.Wrong)}`}return V.nil}function o(){if(a.validateSchema){const d=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,V._)`!${d}(${r})`}return V.nil}}subschema(t,r){const n=(0,qr.getSubschema)(this.it,t);(0,qr.extendSubschemaData)(n,this.it,t),(0,qr.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return li(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=nt.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=nt.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,V.Name)),!0}}Ue.KeywordCxt=ds;function fs(e,t,r,n){const a=new ds(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,xt.funcKeywordCode)(a,r):"macro"in r?(0,xt.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,xt.funcKeywordCode)(a,r)}const bi=/^\/(?:[^~]|~0|~1)*$/,Si=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function hs(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,s;if(e==="")return q.default.rootData;if(e[0]==="/"){if(!bi.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,s=q.default.rootData}else{const u=Si.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(a=u[2],a==="#"){if(f>=t)throw new Error(d("property/index",f));return n[t-f]}if(f>t)throw new Error(d("data",f));if(s=r[t-f],!a)return s}let l=s;const o=a.split("/");for(const u of o)u&&(s=(0,V._)`${s}${(0,V.getProperty)((0,nt.unescapeJsonPointer)(u))}`,l=(0,V._)`${l} && ${s}`);return l;function d(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}Ue.getData=hs;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});class Pi extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}ir.default=Pi;var Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});const zr=fe;class Ni extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,zr.resolveUrl)(t,r,n),this.missingSchema=(0,zr.normalizeId)((0,zr.getFullPath)(t,this.missingRef))}}Vt.default=Ni;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.resolveSchema=Ee.getCompilingSchema=Ee.resolveRef=Ee.compileSchema=Ee.SchemaEnv=void 0;const ke=H,Oi=ir,mt=Ze,je=fe,fa=I,Ci=Ue;class Dr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,je.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}Ee.SchemaEnv=Dr;function un(e){const t=ps.call(this,e);if(t)return t;const r=(0,je.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,l=new ke.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let o;e.$async&&(o=l.scopeValue("Error",{ref:Oi.default,code:(0,ke._)`require("ajv/dist/runtime/validation_error").default`}));const d=l.scopeName("validate");e.validateName=d;const u={gen:l,allErrors:this.opts.allErrors,data:mt.default.data,parentData:mt.default.parentData,parentDataProperty:mt.default.parentDataProperty,dataNames:[mt.default.data],dataPathArr:[ke.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,ke.stringify)(e.schema)}:{ref:e.schema}),validateName:d,ValidationError:o,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:ke.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,ke._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,Ci.validateFunctionCode)(u),l.optimize(this.opts.code.optimize);const $=l.toString();f=`${l.scopeRefs(mt.default.scope)}return ${$}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const O=new Function(`${mt.default.self}`,`${mt.default.scope}`,f)(this,this.scope.get());if(this.scope.value(d,{ref:O}),O.errors=null,O.schema=e.schema,O.schemaEnv=e,e.$async&&(O.$async=!0),this.opts.code.source===!0&&(O.source={validateName:d,validateCode:$,scopeValues:l._values}),this.opts.unevaluated){const{props:S,items:P}=u;O.evaluated={props:S instanceof ke.Name?void 0:S,items:P instanceof ke.Name?void 0:P,dynamicProps:S instanceof ke.Name,dynamicItems:P instanceof ke.Name},O.source&&(O.source.evaluated=(0,ke.stringify)(O.evaluated))}return e.validate=O,e}catch($){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),$}finally{this._compilations.delete(e)}}Ee.compileSchema=un;function Ti(e,t,r){var n;r=(0,je.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=ji.call(this,e,r);if(s===void 0){const l=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:o}=this.opts;l&&(s=new Dr({schema:l,schemaId:o,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=ki.call(this,s)}Ee.resolveRef=Ti;function ki(e){return(0,je.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:un.call(this,e)}function ps(e){for(const t of this._compilations)if(Ri(t,e))return t}Ee.getCompilingSchema=ps;function Ri(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function ji(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Ar.call(this,e,t)}function Ar(e,t){const r=this.opts.uriResolver.parse(t),n=(0,je._getFullPath)(this.opts.uriResolver,r);let a=(0,je.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Lr.call(this,r,e);const s=(0,je.normalizeId)(n),l=this.refs[s]||this.schemas[s];if(typeof l=="string"){const o=Ar.call(this,e,l);return typeof(o==null?void 0:o.schema)!="object"?void 0:Lr.call(this,r,o)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||un.call(this,l),s===(0,je.normalizeId)(t)){const{schema:o}=l,{schemaId:d}=this.opts,u=o[d];return u&&(a=(0,je.resolveUrl)(this.opts.uriResolver,a,u)),new Dr({schema:o,schemaId:d,root:e,baseId:a})}return Lr.call(this,r,l)}}Ee.resolveSchema=Ar;const Ii=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Lr(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const o of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const d=r[(0,fa.unescapeFragment)(o)];if(d===void 0)return;r=d;const u=typeof r=="object"&&r[this.opts.schemaId];!Ii.has(o)&&u&&(t=(0,je.resolveUrl)(this.opts.uriResolver,t,u))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,fa.schemaHasRulesButRef)(r,this.RULES)){const o=(0,je.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Ar.call(this,n,o)}const{schemaId:l}=this.opts;if(s=s||new Dr({schema:r,schemaId:l,root:n,baseId:t}),s.schema!==s.root.schema)return s}const Di="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Ai="Meta-schema for $data reference (JSON AnySchema extension proposal)",Mi="object",Vi=["$data"],Fi={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ui=!1,qi={$id:Di,description:Ai,type:Mi,required:Vi,properties:Fi,additionalProperties:Ui};var dn={},Xr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(Us,function(r){function n(){for(var h=arguments.length,c=Array(h),m=0;m<h;m++)c[m]=arguments[m];if(c.length>1){c[0]=c[0].slice(0,-1);for(var b=c.length-1,E=1;E<b;++E)c[E]=c[E].slice(1,-1);return c[b]=c[b].slice(1),c.join("")}else return c[0]}function a(h){return"(?:"+h+")"}function s(h){return h===void 0?"undefined":h===null?"null":Object.prototype.toString.call(h).split(" ").pop().split("]").shift().toLowerCase()}function l(h){return h.toUpperCase()}function o(h){return h!=null?h instanceof Array?h:typeof h.length!="number"||h.split||h.setInterval||h.call?[h]:Array.prototype.slice.call(h):[]}function d(h,c){var m=h;if(c)for(var b in c)m[b]=c[b];return m}function u(h){var c="[A-Za-z]",m="[0-9]",b=n(m,"[A-Fa-f]"),E=a(a("%[EFef]"+b+"%"+b+b+"%"+b+b)+"|"+a("%[89A-Fa-f]"+b+"%"+b+b)+"|"+a("%"+b+b)),F="[\\:\\/\\?\\#\\[\\]\\@]",U="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",B=n(F,U),x=h?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",se=h?"[\\uE000-\\uF8FF]":"[]",J=n(c,m,"[\\-\\.\\_\\~]",x);a(c+n(c,m,"[\\+\\-\\.]")+"*"),a(a(E+"|"+n(J,U,"[\\:]"))+"*");var Z=a(a("25[0-5]")+"|"+a("2[0-4]"+m)+"|"+a("1"+m+m)+"|"+a("0?[1-9]"+m)+"|0?0?"+m),oe=a(Z+"\\."+Z+"\\."+Z+"\\."+Z),z=a(b+"{1,4}"),re=a(a(z+"\\:"+z)+"|"+oe),le=a(a(z+"\\:")+"{6}"+re),ne=a("\\:\\:"+a(z+"\\:")+"{5}"+re),at=a(a(z)+"?\\:\\:"+a(z+"\\:")+"{4}"+re),Ge=a(a(a(z+"\\:")+"{0,1}"+z)+"?\\:\\:"+a(z+"\\:")+"{3}"+re),Je=a(a(a(z+"\\:")+"{0,2}"+z)+"?\\:\\:"+a(z+"\\:")+"{2}"+re),Tt=a(a(a(z+"\\:")+"{0,3}"+z)+"?\\:\\:"+z+"\\:"+re),ht=a(a(a(z+"\\:")+"{0,4}"+z)+"?\\:\\:"+re),Pe=a(a(a(z+"\\:")+"{0,5}"+z)+"?\\:\\:"+z),We=a(a(a(z+"\\:")+"{0,6}"+z)+"?\\:\\:"),pt=a([le,ne,at,Ge,Je,Tt,ht,Pe,We].join("|")),tt=a(a(J+"|"+E)+"+");a("[vV]"+b+"+\\."+n(J,U,"[\\:]")+"+"),a(a(E+"|"+n(J,U))+"*");var Bt=a(E+"|"+n(J,U,"[\\:\\@]"));return a(a(E+"|"+n(J,U,"[\\@]"))+"+"),a(a(Bt+"|"+n("[\\/\\?]",se))+"*"),{NOT_SCHEME:new RegExp(n("[^]",c,m,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",J,U),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",J,U),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",J,U),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",J,U),"g"),NOT_QUERY:new RegExp(n("[^\\%]",J,U,"[\\:\\@\\/\\?]",se),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",J,U,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",J,U),"g"),UNRESERVED:new RegExp(J,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",J,B),"g"),PCT_ENCODED:new RegExp(E,"g"),IPV4ADDRESS:new RegExp("^("+oe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+pt+")"+a(a("\\%25|\\%(?!"+b+"{2})")+"("+tt+")")+"?\\]?$")}}var f=u(!1),$=u(!0),C=function(){function h(c,m){var b=[],E=!0,F=!1,U=void 0;try{for(var B=c[Symbol.iterator](),x;!(E=(x=B.next()).done)&&(b.push(x.value),!(m&&b.length===m));E=!0);}catch(se){F=!0,U=se}finally{try{!E&&B.return&&B.return()}finally{if(F)throw U}}return b}return function(c,m){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return h(c,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(h){if(Array.isArray(h)){for(var c=0,m=Array(h.length);c<h.length;c++)m[c]=h[c];return m}else return Array.from(h)},S=2147483647,P=36,_=1,v=26,y=38,k=700,D=72,M=128,Q="-",te=/^xn--/,Te=/[^\0-\x7E]/,qe=/[\x2E\u3002\uFF0E\uFF61]/g,xe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},et=P-_,ce=Math.floor,ze=String.fromCharCode;function me(h){throw new RangeError(xe[h])}function lt(h,c){for(var m=[],b=h.length;b--;)m[b]=c(h[b]);return m}function ut(h,c){var m=h.split("@"),b="";m.length>1&&(b=m[0]+"@",h=m[1]),h=h.replace(qe,".");var E=h.split("."),F=lt(E,c).join(".");return b+F}function wt(h){for(var c=[],m=0,b=h.length;m<b;){var E=h.charCodeAt(m++);if(E>=55296&&E<=56319&&m<b){var F=h.charCodeAt(m++);(F&64512)==56320?c.push(((E&1023)<<10)+(F&1023)+65536):(c.push(E),m--)}else c.push(E)}return c}var qt=function(c){return String.fromCodePoint.apply(String,O(c))},Et=function(c){return c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:P},R=function(c,m){return c+22+75*(c<26)-((m!=0)<<5)},g=function(c,m,b){var E=0;for(c=b?ce(c/k):c>>1,c+=ce(c/m);c>et*v>>1;E+=P)c=ce(c/et);return ce(E+(et+1)*c/(c+y))},T=function(c){var m=[],b=c.length,E=0,F=M,U=D,B=c.lastIndexOf(Q);B<0&&(B=0);for(var x=0;x<B;++x)c.charCodeAt(x)>=128&&me("not-basic"),m.push(c.charCodeAt(x));for(var se=B>0?B+1:0;se<b;){for(var J=E,Z=1,oe=P;;oe+=P){se>=b&&me("invalid-input");var z=Et(c.charCodeAt(se++));(z>=P||z>ce((S-E)/Z))&&me("overflow"),E+=z*Z;var re=oe<=U?_:oe>=U+v?v:oe-U;if(z<re)break;var le=P-re;Z>ce(S/le)&&me("overflow"),Z*=le}var ne=m.length+1;U=g(E-J,ne,J==0),ce(E/ne)>S-F&&me("overflow"),F+=ce(E/ne),E%=ne,m.splice(E++,0,F)}return String.fromCodePoint.apply(String,m)},w=function(c){var m=[];c=wt(c);var b=c.length,E=M,F=0,U=D,B=!0,x=!1,se=void 0;try{for(var J=c[Symbol.iterator](),Z;!(B=(Z=J.next()).done);B=!0){var oe=Z.value;oe<128&&m.push(ze(oe))}}catch(Qt){x=!0,se=Qt}finally{try{!B&&J.return&&J.return()}finally{if(x)throw se}}var z=m.length,re=z;for(z&&m.push(Q);re<b;){var le=S,ne=!0,at=!1,Ge=void 0;try{for(var Je=c[Symbol.iterator](),Tt;!(ne=(Tt=Je.next()).done);ne=!0){var ht=Tt.value;ht>=E&&ht<le&&(le=ht)}}catch(Qt){at=!0,Ge=Qt}finally{try{!ne&&Je.return&&Je.return()}finally{if(at)throw Ge}}var Pe=re+1;le-E>ce((S-F)/Pe)&&me("overflow"),F+=(le-E)*Pe,E=le;var We=!0,pt=!1,tt=void 0;try{for(var Bt=c[Symbol.iterator](),Yn;!(We=(Yn=Bt.next()).done);We=!0){var Zn=Yn.value;if(Zn<E&&++F>S&&me("overflow"),Zn==E){for(var ur=F,dr=P;;dr+=P){var fr=dr<=U?_:dr>=U+v?v:dr-U;if(ur<fr)break;var xn=ur-fr,ea=P-fr;m.push(ze(R(fr+xn%ea,0))),ur=ce(xn/ea)}m.push(ze(R(ur,0))),U=g(F,Pe,re==z),F=0,++re}}}catch(Qt){pt=!0,tt=Qt}finally{try{!We&&Bt.return&&Bt.return()}finally{if(pt)throw tt}}++F,++E}return m.join("")},i=function(c){return ut(c,function(m){return te.test(m)?T(m.slice(4).toLowerCase()):m})},p=function(c){return ut(c,function(m){return Te.test(m)?"xn--"+w(m):m})},N={version:"2.1.0",ucs2:{decode:wt,encode:qt},decode:T,encode:w,toASCII:p,toUnicode:i},j={};function A(h){var c=h.charCodeAt(0),m=void 0;return c<16?m="%0"+c.toString(16).toUpperCase():c<128?m="%"+c.toString(16).toUpperCase():c<2048?m="%"+(c>>6|192).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase():m="%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase(),m}function G(h){for(var c="",m=0,b=h.length;m<b;){var E=parseInt(h.substr(m+1,2),16);if(E<128)c+=String.fromCharCode(E),m+=3;else if(E>=194&&E<224){if(b-m>=6){var F=parseInt(h.substr(m+4,2),16);c+=String.fromCharCode((E&31)<<6|F&63)}else c+=h.substr(m,6);m+=6}else if(E>=224){if(b-m>=9){var U=parseInt(h.substr(m+4,2),16),B=parseInt(h.substr(m+7,2),16);c+=String.fromCharCode((E&15)<<12|(U&63)<<6|B&63)}else c+=h.substr(m,9);m+=9}else c+=h.substr(m,3),m+=3}return c}function W(h,c){function m(b){var E=G(b);return E.match(c.UNRESERVED)?E:b}return h.scheme&&(h.scheme=String(h.scheme).replace(c.PCT_ENCODED,m).toLowerCase().replace(c.NOT_SCHEME,"")),h.userinfo!==void 0&&(h.userinfo=String(h.userinfo).replace(c.PCT_ENCODED,m).replace(c.NOT_USERINFO,A).replace(c.PCT_ENCODED,l)),h.host!==void 0&&(h.host=String(h.host).replace(c.PCT_ENCODED,m).toLowerCase().replace(c.NOT_HOST,A).replace(c.PCT_ENCODED,l)),h.path!==void 0&&(h.path=String(h.path).replace(c.PCT_ENCODED,m).replace(h.scheme?c.NOT_PATH:c.NOT_PATH_NOSCHEME,A).replace(c.PCT_ENCODED,l)),h.query!==void 0&&(h.query=String(h.query).replace(c.PCT_ENCODED,m).replace(c.NOT_QUERY,A).replace(c.PCT_ENCODED,l)),h.fragment!==void 0&&(h.fragment=String(h.fragment).replace(c.PCT_ENCODED,m).replace(c.NOT_FRAGMENT,A).replace(c.PCT_ENCODED,l)),h}function ae(h){return h.replace(/^0*(.*)/,"$1")||"0"}function Le(h,c){var m=h.match(c.IPV4ADDRESS)||[],b=C(m,2),E=b[1];return E?E.split(".").map(ae).join("."):h}function bt(h,c){var m=h.match(c.IPV6ADDRESS)||[],b=C(m,3),E=b[1],F=b[2];if(E){for(var U=E.toLowerCase().split("::").reverse(),B=C(U,2),x=B[0],se=B[1],J=se?se.split(":").map(ae):[],Z=x.split(":").map(ae),oe=c.IPV4ADDRESS.test(Z[Z.length-1]),z=oe?7:8,re=Z.length-z,le=Array(z),ne=0;ne<z;++ne)le[ne]=J[ne]||Z[re+ne]||"";oe&&(le[z-1]=Le(le[z-1],c));var at=le.reduce(function(Pe,We,pt){if(!We||We==="0"){var tt=Pe[Pe.length-1];tt&&tt.index+tt.length===pt?tt.length++:Pe.push({index:pt,length:1})}return Pe},[]),Ge=at.sort(function(Pe,We){return We.length-Pe.length})[0],Je=void 0;if(Ge&&Ge.length>1){var Tt=le.slice(0,Ge.index),ht=le.slice(Ge.index+Ge.length);Je=Tt.join(":")+"::"+ht.join(":")}else Je=le.join(":");return F&&(Je+="%"+F),Je}else return h}var zt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Lt="".match(/(){0}/)[1]===void 0;function be(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m={},b=c.iri!==!1?$:f;c.reference==="suffix"&&(h=(c.scheme?c.scheme+":":"")+"//"+h);var E=h.match(zt);if(E){Lt?(m.scheme=E[1],m.userinfo=E[3],m.host=E[4],m.port=parseInt(E[5],10),m.path=E[6]||"",m.query=E[7],m.fragment=E[8],isNaN(m.port)&&(m.port=E[5])):(m.scheme=E[1]||void 0,m.userinfo=h.indexOf("@")!==-1?E[3]:void 0,m.host=h.indexOf("//")!==-1?E[4]:void 0,m.port=parseInt(E[5],10),m.path=E[6]||"",m.query=h.indexOf("?")!==-1?E[7]:void 0,m.fragment=h.indexOf("#")!==-1?E[8]:void 0,isNaN(m.port)&&(m.port=h.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?E[4]:void 0)),m.host&&(m.host=bt(Le(m.host,b),b)),m.scheme===void 0&&m.userinfo===void 0&&m.host===void 0&&m.port===void 0&&!m.path&&m.query===void 0?m.reference="same-document":m.scheme===void 0?m.reference="relative":m.fragment===void 0?m.reference="absolute":m.reference="uri",c.reference&&c.reference!=="suffix"&&c.reference!==m.reference&&(m.error=m.error||"URI is not a "+c.reference+" reference.");var F=j[(c.scheme||m.scheme||"").toLowerCase()];if(!c.unicodeSupport&&(!F||!F.unicodeSupport)){if(m.host&&(c.domainHost||F&&F.domainHost))try{m.host=N.toASCII(m.host.replace(b.PCT_ENCODED,G).toLowerCase())}catch(U){m.error=m.error||"Host's domain name can not be converted to ASCII via punycode: "+U}W(m,f)}else W(m,b);F&&F.parse&&F.parse(m,c)}else m.error=m.error||"URI can not be parsed.";return m}function Kt(h,c){var m=c.iri!==!1?$:f,b=[];return h.userinfo!==void 0&&(b.push(h.userinfo),b.push("@")),h.host!==void 0&&b.push(bt(Le(String(h.host),m),m).replace(m.IPV6ADDRESS,function(E,F,U){return"["+F+(U?"%25"+U:"")+"]"})),(typeof h.port=="number"||typeof h.port=="string")&&(b.push(":"),b.push(String(h.port))),b.length?b.join(""):void 0}var St=/^\.\.?\//,Pt=/^\/\.(\/|$)/,Nt=/^\/\.\.(\/|$)/,Ht=/^\/?(?:.|\n)*?(?=\/|$)/;function Ke(h){for(var c=[];h.length;)if(h.match(St))h=h.replace(St,"");else if(h.match(Pt))h=h.replace(Pt,"/");else if(h.match(Nt))h=h.replace(Nt,"/"),c.pop();else if(h==="."||h==="..")h="";else{var m=h.match(Ht);if(m){var b=m[0];h=h.slice(b.length),c.push(b)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function ge(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=c.iri?$:f,b=[],E=j[(c.scheme||h.scheme||"").toLowerCase()];if(E&&E.serialize&&E.serialize(h,c),h.host&&!m.IPV6ADDRESS.test(h.host)){if(c.domainHost||E&&E.domainHost)try{h.host=c.iri?N.toUnicode(h.host):N.toASCII(h.host.replace(m.PCT_ENCODED,G).toLowerCase())}catch(B){h.error=h.error||"Host's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+B}}W(h,m),c.reference!=="suffix"&&h.scheme&&(b.push(h.scheme),b.push(":"));var F=Kt(h,c);if(F!==void 0&&(c.reference!=="suffix"&&b.push("//"),b.push(F),h.path&&h.path.charAt(0)!=="/"&&b.push("/")),h.path!==void 0){var U=h.path;!c.absolutePath&&(!E||!E.absolutePath)&&(U=Ke(U)),F===void 0&&(U=U.replace(/^\/\//,"/%2F")),b.push(U)}return h.query!==void 0&&(b.push("?"),b.push(h.query)),h.fragment!==void 0&&(b.push("#"),b.push(h.fragment)),b.join("")}function Ot(h,c){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=arguments[3],E={};return b||(h=be(ge(h,m),m),c=be(ge(c,m),m)),m=m||{},!m.tolerant&&c.scheme?(E.scheme=c.scheme,E.userinfo=c.userinfo,E.host=c.host,E.port=c.port,E.path=Ke(c.path||""),E.query=c.query):(c.userinfo!==void 0||c.host!==void 0||c.port!==void 0?(E.userinfo=c.userinfo,E.host=c.host,E.port=c.port,E.path=Ke(c.path||""),E.query=c.query):(c.path?(c.path.charAt(0)==="/"?E.path=Ke(c.path):((h.userinfo!==void 0||h.host!==void 0||h.port!==void 0)&&!h.path?E.path="/"+c.path:h.path?E.path=h.path.slice(0,h.path.lastIndexOf("/")+1)+c.path:E.path=c.path,E.path=Ke(E.path)),E.query=c.query):(E.path=h.path,c.query!==void 0?E.query=c.query:E.query=h.query),E.userinfo=h.userinfo,E.host=h.host,E.port=h.port),E.scheme=h.scheme),E.fragment=c.fragment,E}function Gt(h,c,m){var b=d({scheme:"null"},m);return ge(Ot(be(h,b),be(c,b),b,!0),b)}function dt(h,c){return typeof h=="string"?h=ge(be(h,c),c):s(h)==="object"&&(h=be(ge(h,c),c)),h}function Jt(h,c,m){return typeof h=="string"?h=ge(be(h,m),m):s(h)==="object"&&(h=ge(h,m)),typeof c=="string"?c=ge(be(c,m),m):s(c)==="object"&&(c=ge(c,m)),h===c}function lr(h,c){return h&&h.toString().replace(!c||!c.iri?f.ESCAPE:$.ESCAPE,A)}function Se(h,c){return h&&h.toString().replace(!c||!c.iri?f.PCT_ENCODED:$.PCT_ENCODED,G)}var ft={scheme:"http",domainHost:!0,parse:function(c,m){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c},serialize:function(c,m){var b=String(c.scheme).toLowerCase()==="https";return(c.port===(b?443:80)||c.port==="")&&(c.port=void 0),c.path||(c.path="/"),c}},Kn={scheme:"https",domainHost:ft.domainHost,parse:ft.parse,serialize:ft.serialize};function Hn(h){return typeof h.secure=="boolean"?h.secure:String(h.scheme).toLowerCase()==="wss"}var Wt={scheme:"ws",domainHost:!0,parse:function(c,m){var b=c;return b.secure=Hn(b),b.resourceName=(b.path||"/")+(b.query?"?"+b.query:""),b.path=void 0,b.query=void 0,b},serialize:function(c,m){if((c.port===(Hn(c)?443:80)||c.port==="")&&(c.port=void 0),typeof c.secure=="boolean"&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){var b=c.resourceName.split("?"),E=C(b,2),F=E[0],U=E[1];c.path=F&&F!=="/"?F:void 0,c.query=U,c.resourceName=void 0}return c.fragment=void 0,c}},Gn={scheme:"wss",domainHost:Wt.domainHost,parse:Wt.parse,serialize:Wt.serialize},Ss={},Jn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",He="[0-9A-Fa-f]",Ps=a(a("%[EFef]"+He+"%"+He+He+"%"+He+He)+"|"+a("%[89A-Fa-f]"+He+"%"+He+He)+"|"+a("%"+He+He)),Ns="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Os="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Cs=n(Os,'[\\"\\\\]'),Ts="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ks=new RegExp(Jn,"g"),Ct=new RegExp(Ps,"g"),Rs=new RegExp(n("[^]",Ns,"[\\.]",'[\\"]',Cs),"g"),Wn=new RegExp(n("[^]",Jn,Ts),"g"),js=Wn;function Fr(h){var c=G(h);return c.match(ks)?c:h}var Bn={scheme:"mailto",parse:function(c,m){var b=c,E=b.to=b.path?b.path.split(","):[];if(b.path=void 0,b.query){for(var F=!1,U={},B=b.query.split("&"),x=0,se=B.length;x<se;++x){var J=B[x].split("=");switch(J[0]){case"to":for(var Z=J[1].split(","),oe=0,z=Z.length;oe<z;++oe)E.push(Z[oe]);break;case"subject":b.subject=Se(J[1],m);break;case"body":b.body=Se(J[1],m);break;default:F=!0,U[Se(J[0],m)]=Se(J[1],m);break}}F&&(b.headers=U)}b.query=void 0;for(var re=0,le=E.length;re<le;++re){var ne=E[re].split("@");if(ne[0]=Se(ne[0]),m.unicodeSupport)ne[1]=Se(ne[1],m).toLowerCase();else try{ne[1]=N.toASCII(Se(ne[1],m).toLowerCase())}catch(at){b.error=b.error||"Email address's domain name can not be converted to ASCII via punycode: "+at}E[re]=ne.join("@")}return b},serialize:function(c,m){var b=c,E=o(c.to);if(E){for(var F=0,U=E.length;F<U;++F){var B=String(E[F]),x=B.lastIndexOf("@"),se=B.slice(0,x).replace(Ct,Fr).replace(Ct,l).replace(Rs,A),J=B.slice(x+1);try{J=m.iri?N.toUnicode(J):N.toASCII(Se(J,m).toLowerCase())}catch(re){b.error=b.error||"Email address's domain name can not be converted to "+(m.iri?"Unicode":"ASCII")+" via punycode: "+re}E[F]=se+"@"+J}b.path=E.join(",")}var Z=c.headers=c.headers||{};c.subject&&(Z.subject=c.subject),c.body&&(Z.body=c.body);var oe=[];for(var z in Z)Z[z]!==Ss[z]&&oe.push(z.replace(Ct,Fr).replace(Ct,l).replace(Wn,A)+"="+Z[z].replace(Ct,Fr).replace(Ct,l).replace(js,A));return oe.length&&(b.query=oe.join("&")),b}},Is=/^([^\:]+)\:(.*)/,Qn={scheme:"urn",parse:function(c,m){var b=c.path&&c.path.match(Is),E=c;if(b){var F=m.scheme||E.scheme||"urn",U=b[1].toLowerCase(),B=b[2],x=F+":"+(m.nid||U),se=j[x];E.nid=U,E.nss=B,E.path=void 0,se&&(E=se.parse(E,m))}else E.error=E.error||"URN can not be parsed.";return E},serialize:function(c,m){var b=m.scheme||c.scheme||"urn",E=c.nid,F=b+":"+(m.nid||E),U=j[F];U&&(c=U.serialize(c,m));var B=c,x=c.nss;return B.path=(E||m.nid)+":"+x,B}},Ds=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Xn={scheme:"urn:uuid",parse:function(c,m){var b=c;return b.uuid=b.nss,b.nss=void 0,!m.tolerant&&(!b.uuid||!b.uuid.match(Ds))&&(b.error=b.error||"UUID is not valid."),b},serialize:function(c,m){var b=c;return b.nss=(c.uuid||"").toLowerCase(),b}};j[ft.scheme]=ft,j[Kn.scheme]=Kn,j[Wt.scheme]=Wt,j[Gn.scheme]=Gn,j[Bn.scheme]=Bn,j[Qn.scheme]=Qn,j[Xn.scheme]=Xn,r.SCHEMES=j,r.pctEncChar=A,r.pctDecChars=G,r.parse=be,r.removeDotSegments=Ke,r.serialize=ge,r.resolveComponents=Ot,r.resolve=Gt,r.normalize=dt,r.equal=Jt,r.escapeComponent=lr,r.unescapeComponent=Se,Object.defineProperty(r,"__esModule",{value:!0})})})(Xr,Xr.exports);var zi=Xr.exports;Object.defineProperty(dn,"__esModule",{value:!0});const ms=zi;ms.code='require("ajv/dist/runtime/uri").default';dn.default=ms;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Ue;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=H;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=ir,a=Vt,s=_t,l=Ee,o=H,d=fe,u=ue,f=I,$=qi,C=dn,O=(R,g)=>new RegExp(R,g);O.code="new RegExp";const S=["removeAdditional","useDefaults","coerceTypes"],P=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),_={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function k(R){var g,T,w,i,p,N,j,A,G,W,ae,Le,bt,zt,Lt,be,Kt,St,Pt,Nt,Ht,Ke,ge,Ot,Gt;const dt=R.strict,Jt=(g=R.code)===null||g===void 0?void 0:g.optimize,lr=Jt===!0||Jt===void 0?1:Jt||0,Se=(w=(T=R.code)===null||T===void 0?void 0:T.regExp)!==null&&w!==void 0?w:O,ft=(i=R.uriResolver)!==null&&i!==void 0?i:C.default;return{strictSchema:(N=(p=R.strictSchema)!==null&&p!==void 0?p:dt)!==null&&N!==void 0?N:!0,strictNumbers:(A=(j=R.strictNumbers)!==null&&j!==void 0?j:dt)!==null&&A!==void 0?A:!0,strictTypes:(W=(G=R.strictTypes)!==null&&G!==void 0?G:dt)!==null&&W!==void 0?W:"log",strictTuples:(Le=(ae=R.strictTuples)!==null&&ae!==void 0?ae:dt)!==null&&Le!==void 0?Le:"log",strictRequired:(zt=(bt=R.strictRequired)!==null&&bt!==void 0?bt:dt)!==null&&zt!==void 0?zt:!1,code:R.code?{...R.code,optimize:lr,regExp:Se}:{optimize:lr,regExp:Se},loopRequired:(Lt=R.loopRequired)!==null&&Lt!==void 0?Lt:y,loopEnum:(be=R.loopEnum)!==null&&be!==void 0?be:y,meta:(Kt=R.meta)!==null&&Kt!==void 0?Kt:!0,messages:(St=R.messages)!==null&&St!==void 0?St:!0,inlineRefs:(Pt=R.inlineRefs)!==null&&Pt!==void 0?Pt:!0,schemaId:(Nt=R.schemaId)!==null&&Nt!==void 0?Nt:"$id",addUsedSchema:(Ht=R.addUsedSchema)!==null&&Ht!==void 0?Ht:!0,validateSchema:(Ke=R.validateSchema)!==null&&Ke!==void 0?Ke:!0,validateFormats:(ge=R.validateFormats)!==null&&ge!==void 0?ge:!0,unicodeRegExp:(Ot=R.unicodeRegExp)!==null&&Ot!==void 0?Ot:!0,int32range:(Gt=R.int32range)!==null&&Gt!==void 0?Gt:!0,uriResolver:ft}}class D{constructor(g={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,g=this.opts={...g,...k(g)};const{es5:T,lines:w}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:P,es5:T,lines:w}),this.logger=ce(g.logger);const i=g.validateFormats;g.validateFormats=!1,this.RULES=(0,s.getRules)(),M.call(this,_,g,"NOT SUPPORTED"),M.call(this,v,g,"DEPRECATED","warn"),this._metaOpts=xe.call(this),g.formats&&Te.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),g.keywords&&qe.call(this,g.keywords),typeof g.meta=="object"&&this.addMetaSchema(g.meta),te.call(this),g.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:g,meta:T,schemaId:w}=this.opts;let i=$;w==="id"&&(i={...$},i.id=i.$id,delete i.$id),T&&g&&this.addMetaSchema(i,i[w],!1)}defaultMeta(){const{meta:g,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof g=="object"?g[T]||g:void 0}validate(g,T){let w;if(typeof g=="string"){if(w=this.getSchema(g),!w)throw new Error(`no schema with key or ref "${g}"`)}else w=this.compile(g);const i=w(T);return"$async"in w||(this.errors=w.errors),i}compile(g,T){const w=this._addSchema(g,T);return w.validate||this._compileSchemaEnv(w)}compileAsync(g,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:w}=this.opts;return i.call(this,g,T);async function i(W,ae){await p.call(this,W.$schema);const Le=this._addSchema(W,ae);return Le.validate||N.call(this,Le)}async function p(W){W&&!this.getSchema(W)&&await i.call(this,{$ref:W},!0)}async function N(W){try{return this._compileSchemaEnv(W)}catch(ae){if(!(ae instanceof a.default))throw ae;return j.call(this,ae),await A.call(this,ae.missingSchema),N.call(this,W)}}function j({missingSchema:W,missingRef:ae}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${ae} cannot be resolved`)}async function A(W){const ae=await G.call(this,W);this.refs[W]||await p.call(this,ae.$schema),this.refs[W]||this.addSchema(ae,W,T)}async function G(W){const ae=this._loading[W];if(ae)return ae;try{return await(this._loading[W]=w(W))}finally{delete this._loading[W]}}}addSchema(g,T,w,i=this.opts.validateSchema){if(Array.isArray(g)){for(const N of g)this.addSchema(N,void 0,w,i);return this}let p;if(typeof g=="object"){const{schemaId:N}=this.opts;if(p=g[N],p!==void 0&&typeof p!="string")throw new Error(`schema ${N} must be string`)}return T=(0,d.normalizeId)(T||p),this._checkUnique(T),this.schemas[T]=this._addSchema(g,w,T,i,!0),this}addMetaSchema(g,T,w=this.opts.validateSchema){return this.addSchema(g,T,!0,w),this}validateSchema(g,T){if(typeof g=="boolean")return!0;let w;if(w=g.$schema,w!==void 0&&typeof w!="string")throw new Error("$schema must be a string");if(w=w||this.opts.defaultMeta||this.defaultMeta(),!w)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(w,g);if(!i&&T){const p="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(p);else throw new Error(p)}return i}getSchema(g){let T;for(;typeof(T=Q.call(this,g))=="string";)g=T;if(T===void 0){const{schemaId:w}=this.opts,i=new l.SchemaEnv({schema:{},schemaId:w});if(T=l.resolveSchema.call(this,i,g),!T)return;this.refs[g]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(g){if(g instanceof RegExp)return this._removeAllSchemas(this.schemas,g),this._removeAllSchemas(this.refs,g),this;switch(typeof g){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=Q.call(this,g);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[g],delete this.refs[g],this}case"object":{const T=g;this._cache.delete(T);let w=g[this.opts.schemaId];return w&&(w=(0,d.normalizeId)(w),delete this.schemas[w],delete this.refs[w]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(g){for(const T of g)this.addKeyword(T);return this}addKeyword(g,T){let w;if(typeof g=="string")w=g,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=w);else if(typeof g=="object"&&T===void 0){if(T=g,w=T.keyword,Array.isArray(w)&&!w.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(me.call(this,w,T),!T)return(0,f.eachItem)(w,p=>lt.call(this,p)),this;wt.call(this,T);const i={...T,type:(0,u.getJSONTypes)(T.type),schemaType:(0,u.getJSONTypes)(T.schemaType)};return(0,f.eachItem)(w,i.type.length===0?p=>lt.call(this,p,i):p=>i.type.forEach(N=>lt.call(this,p,i,N))),this}getKeyword(g){const T=this.RULES.all[g];return typeof T=="object"?T.definition:!!T}removeKeyword(g){const{RULES:T}=this;delete T.keywords[g],delete T.all[g];for(const w of T.rules){const i=w.rules.findIndex(p=>p.keyword===g);i>=0&&w.rules.splice(i,1)}return this}addFormat(g,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[g]=T,this}errorsText(g=this.errors,{separator:T=", ",dataVar:w="data"}={}){return!g||g.length===0?"No errors":g.map(i=>`${w}${i.instancePath} ${i.message}`).reduce((i,p)=>i+T+p)}$dataMetaSchema(g,T){const w=this.RULES.all;g=JSON.parse(JSON.stringify(g));for(const i of T){const p=i.split("/").slice(1);let N=g;for(const j of p)N=N[j];for(const j in w){const A=w[j];if(typeof A!="object")continue;const{$data:G}=A.definition,W=N[j];G&&W&&(N[j]=Et(W))}}return g}_removeAllSchemas(g,T){for(const w in g){const i=g[w];(!T||T.test(w))&&(typeof i=="string"?delete g[w]:i&&!i.meta&&(this._cache.delete(i.schema),delete g[w]))}}_addSchema(g,T,w,i=this.opts.validateSchema,p=this.opts.addUsedSchema){let N;const{schemaId:j}=this.opts;if(typeof g=="object")N=g[j];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof g!="boolean")throw new Error("schema must be object or boolean")}let A=this._cache.get(g);if(A!==void 0)return A;w=(0,d.normalizeId)(N||w);const G=d.getSchemaRefs.call(this,g,w);return A=new l.SchemaEnv({schema:g,schemaId:j,meta:T,baseId:w,localRefs:G}),this._cache.set(A.schema,A),p&&!w.startsWith("#")&&(w&&this._checkUnique(w),this.refs[w]=A),i&&this.validateSchema(g,!0),A}_checkUnique(g){if(this.schemas[g]||this.refs[g])throw new Error(`schema with key or id "${g}" already exists`)}_compileSchemaEnv(g){if(g.meta?this._compileMetaSchema(g):l.compileSchema.call(this,g),!g.validate)throw new Error("ajv implementation error");return g.validate}_compileMetaSchema(g){const T=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,g)}finally{this.opts=T}}}D.ValidationError=n.default,D.MissingRefError=a.default,e.default=D;function M(R,g,T,w="error"){for(const i in R){const p=i;p in g&&this.logger[w](`${T}: option ${i}. ${R[p]}`)}}function Q(R){return R=(0,d.normalizeId)(R),this.schemas[R]||this.refs[R]}function te(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const g in R)this.addSchema(R[g],g)}function Te(){for(const R in this.opts.formats){const g=this.opts.formats[R];g&&this.addFormat(R,g)}}function qe(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const g in R){const T=R[g];T.keyword||(T.keyword=g),this.addKeyword(T)}}function xe(){const R={...this.opts};for(const g of S)delete R[g];return R}const et={log(){},warn(){},error(){}};function ce(R){if(R===!1)return et;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const ze=/^[a-z_$][a-z0-9_$:-]*$/i;function me(R,g){const{RULES:T}=this;if((0,f.eachItem)(R,w=>{if(T.keywords[w])throw new Error(`Keyword ${w} is already defined`);if(!ze.test(w))throw new Error(`Keyword ${w} has invalid name`)}),!!g&&g.$data&&!("code"in g||"validate"in g))throw new Error('$data keyword must have "code" or "validate" function')}function lt(R,g,T){var w;const i=g==null?void 0:g.post;if(T&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:p}=this;let N=i?p.post:p.rules.find(({type:A})=>A===T);if(N||(N={type:T,rules:[]},p.rules.push(N)),p.keywords[R]=!0,!g)return;const j={keyword:R,definition:{...g,type:(0,u.getJSONTypes)(g.type),schemaType:(0,u.getJSONTypes)(g.schemaType)}};g.before?ut.call(this,N,j,g.before):N.rules.push(j),p.all[R]=j,(w=g.implements)===null||w===void 0||w.forEach(A=>this.addKeyword(A))}function ut(R,g,T){const w=R.rules.findIndex(i=>i.keyword===T);w>=0?R.rules.splice(w,0,g):(R.rules.push(g),this.logger.warn(`rule ${T} is not defined`))}function wt(R){let{metaSchema:g}=R;g!==void 0&&(R.$data&&this.opts.$data&&(g=Et(g)),R.validateSchema=this.compile(g,!0))}const qt={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Et(R){return{anyOf:[R,qt]}}})(Ma);var fn={},hn={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});const Li={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};pn.default=Li;var gt={};Object.defineProperty(gt,"__esModule",{value:!0});gt.callRef=gt.getValidate=void 0;const Ki=Vt,ha=K,we=H,Rt=Ze,pa=Ee,vr=I,Hi={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:s,validateName:l,opts:o,self:d}=n,{root:u}=s;if((r==="#"||r==="#/")&&a===u.baseId)return $();const f=pa.resolveRef.call(d,u,a,r);if(f===void 0)throw new Ki.default(n.opts.uriResolver,a,r);if(f instanceof pa.SchemaEnv)return C(f);return O(f);function $(){if(s===u)return Er(e,l,s,s.$async);const S=t.scopeValue("root",{ref:u});return Er(e,(0,we._)`${S}.validate`,u,u.$async)}function C(S){const P=vs(e,S);Er(e,P,S,S.$async)}function O(S){const P=t.scopeValue("schema",o.code.source===!0?{ref:S,code:(0,we.stringify)(S)}:{ref:S}),_=t.name("valid"),v=e.subschema({schema:S,dataTypes:[],schemaPath:we.nil,topSchemaRef:P,errSchemaPath:r},_);e.mergeEvaluated(v),e.ok(_)}}};function vs(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,we._)`${r.scopeValue("wrapper",{ref:t})}.validate`}gt.getValidate=vs;function Er(e,t,r,n){const{gen:a,it:s}=e,{allErrors:l,schemaEnv:o,opts:d}=s,u=d.passContext?Rt.default.this:we.nil;n?f():$();function f(){if(!o.$async)throw new Error("async schema referenced by sync schema");const S=a.let("valid");a.try(()=>{a.code((0,we._)`await ${(0,ha.callValidateCode)(e,t,u)}`),O(t),l||a.assign(S,!0)},P=>{a.if((0,we._)`!(${P} instanceof ${s.ValidationError})`,()=>a.throw(P)),C(P),l||a.assign(S,!1)}),e.ok(S)}function $(){e.result((0,ha.callValidateCode)(e,t,u),()=>O(t),()=>C(t))}function C(S){const P=(0,we._)`${S}.errors`;a.assign(Rt.default.vErrors,(0,we._)`${Rt.default.vErrors} === null ? ${P} : ${Rt.default.vErrors}.concat(${P})`),a.assign(Rt.default.errors,(0,we._)`${Rt.default.vErrors}.length`)}function O(S){var P;if(!s.opts.unevaluated)return;const _=(P=r==null?void 0:r.validate)===null||P===void 0?void 0:P.evaluated;if(s.props!==!0)if(_&&!_.dynamicProps)_.props!==void 0&&(s.props=vr.mergeEvaluated.props(a,_.props,s.props));else{const v=a.var("props",(0,we._)`${S}.evaluated.props`);s.props=vr.mergeEvaluated.props(a,v,s.props,we.Name)}if(s.items!==!0)if(_&&!_.dynamicItems)_.items!==void 0&&(s.items=vr.mergeEvaluated.items(a,_.items,s.items));else{const v=a.var("items",(0,we._)`${S}.evaluated.items`);s.items=vr.mergeEvaluated.items(a,v,s.items,we.Name)}}}gt.callRef=Er;gt.default=Hi;Object.defineProperty(hn,"__esModule",{value:!0});const Gi=pn,Ji=gt,Wi=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Gi.default,Ji.default];hn.default=Wi;var mn={},vn={};Object.defineProperty(vn,"__esModule",{value:!0});const Nr=H,ot=Nr.operators,Or={maximum:{okStr:"<=",ok:ot.LTE,fail:ot.GT},minimum:{okStr:">=",ok:ot.GTE,fail:ot.LT},exclusiveMaximum:{okStr:"<",ok:ot.LT,fail:ot.GTE},exclusiveMinimum:{okStr:">",ok:ot.GT,fail:ot.LTE}},Bi={message:({keyword:e,schemaCode:t})=>(0,Nr.str)`must be ${Or[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,Nr._)`{comparison: ${Or[e].okStr}, limit: ${t}}`},Qi={keyword:Object.keys(Or),type:"number",schemaType:"number",$data:!0,error:Bi,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,Nr._)`${r} ${Or[t].fail} ${n} || isNaN(${r})`)}};vn.default=Qi;var $n={};Object.defineProperty($n,"__esModule",{value:!0});const er=H,Xi={message:({schemaCode:e})=>(0,er.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,er._)`{multipleOf: ${e}}`},Yi={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Xi,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,l=t.let("res"),o=s?(0,er._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${s}`:(0,er._)`${l} !== parseInt(${l})`;e.fail$data((0,er._)`(${n} === 0 || (${l} = ${r}/${n}, ${o}))`)}};$n.default=Yi;var yn={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});function $s(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}_n.default=$s;$s.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(yn,"__esModule",{value:!0});const $t=H,Zi=I,xi=_n,ec={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,$t.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,$t._)`{limit: ${e}}`},tc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:ec,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,s=t==="maxLength"?$t.operators.GT:$t.operators.LT,l=a.opts.unicode===!1?(0,$t._)`${r}.length`:(0,$t._)`${(0,Zi.useFunc)(e.gen,xi.default)}(${r})`;e.fail$data((0,$t._)`${l} ${s} ${n}`)}};yn.default=tc;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});const rc=K,Cr=H,nc={message:({schemaCode:e})=>(0,Cr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Cr._)`{pattern: ${e}}`},ac={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:nc,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:s}=e,l=s.opts.unicodeRegExp?"u":"",o=r?(0,Cr._)`(new RegExp(${a}, ${l}))`:(0,rc.usePattern)(e,n);e.fail$data((0,Cr._)`!${o}.test(${t})`)}};gn.default=ac;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const tr=H,sc={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,tr.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,tr._)`{limit: ${e}}`},oc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:sc,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?tr.operators.GT:tr.operators.LT;e.fail$data((0,tr._)`Object.keys(${r}).length ${a} ${n}`)}};wn.default=oc;var En={};Object.defineProperty(En,"__esModule",{value:!0});const Yt=K,rr=H,ic=I,cc={message:({params:{missingProperty:e}})=>(0,rr.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,rr._)`{missingProperty: ${e}}`},lc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:cc,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:s,it:l}=e,{opts:o}=l;if(!s&&r.length===0)return;const d=r.length>=o.loopRequired;if(l.allErrors?u():f(),o.strictRequired){const O=e.parentSchema.properties,{definedProperties:S}=e.it;for(const P of r)if((O==null?void 0:O[P])===void 0&&!S.has(P)){const _=l.schemaEnv.baseId+l.errSchemaPath,v=`required property "${P}" is not defined at "${_}" (strictRequired)`;(0,ic.checkStrictMode)(l,v,l.opts.strictRequired)}}function u(){if(d||s)e.block$data(rr.nil,$);else for(const O of r)(0,Yt.checkReportMissingProp)(e,O)}function f(){const O=t.let("missing");if(d||s){const S=t.let("valid",!0);e.block$data(S,()=>C(O,S)),e.ok(S)}else t.if((0,Yt.checkMissingProp)(e,r,O)),(0,Yt.reportMissingProp)(e,O),t.else()}function $(){t.forOf("prop",n,O=>{e.setParams({missingProperty:O}),t.if((0,Yt.noPropertyInData)(t,a,O,o.ownProperties),()=>e.error())})}function C(O,S){e.setParams({missingProperty:O}),t.forOf(O,n,()=>{t.assign(S,(0,Yt.propertyInData)(t,a,O,o.ownProperties)),t.if((0,rr.not)(S),()=>{e.error(),t.break()})},rr.nil)}}};En.default=lc;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const nr=H,uc={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,nr.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,nr._)`{limit: ${e}}`},dc={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:uc,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?nr.operators.GT:nr.operators.LT;e.fail$data((0,nr._)`${r}.length ${a} ${n}`)}};bn.default=dc;var Sn={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});const ys=Za;ys.code='require("ajv/dist/runtime/equal").default';cr.default=ys;Object.defineProperty(Sn,"__esModule",{value:!0});const Kr=ue,de=H,fc=I,hc=cr,pc={message:({params:{i:e,j:t}})=>(0,de.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,de._)`{i: ${e}, j: ${t}}`},mc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:pc,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:s,schemaCode:l,it:o}=e;if(!n&&!a)return;const d=t.let("valid"),u=s.items?(0,Kr.getSchemaTypes)(s.items):[];e.block$data(d,f,(0,de._)`${l} === false`),e.ok(d);function f(){const S=t.let("i",(0,de._)`${r}.length`),P=t.let("j");e.setParams({i:S,j:P}),t.assign(d,!0),t.if((0,de._)`${S} > 1`,()=>($()?C:O)(S,P))}function $(){return u.length>0&&!u.some(S=>S==="object"||S==="array")}function C(S,P){const _=t.name("item"),v=(0,Kr.checkDataTypes)(u,_,o.opts.strictNumbers,Kr.DataType.Wrong),y=t.const("indices",(0,de._)`{}`);t.for((0,de._)`;${S}--;`,()=>{t.let(_,(0,de._)`${r}[${S}]`),t.if(v,(0,de._)`continue`),u.length>1&&t.if((0,de._)`typeof ${_} == "string"`,(0,de._)`${_} += "_"`),t.if((0,de._)`typeof ${y}[${_}] == "number"`,()=>{t.assign(P,(0,de._)`${y}[${_}]`),e.error(),t.assign(d,!1).break()}).code((0,de._)`${y}[${_}] = ${S}`)})}function O(S,P){const _=(0,fc.useFunc)(t,hc.default),v=t.name("outer");t.label(v).for((0,de._)`;${S}--;`,()=>t.for((0,de._)`${P} = ${S}; ${P}--;`,()=>t.if((0,de._)`${_}(${r}[${S}], ${r}[${P}])`,()=>{e.error(),t.assign(d,!1).break(v)})))}}};Sn.default=mc;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const Yr=H,vc=I,$c=cr,yc={message:"must be equal to constant",params:({schemaCode:e})=>(0,Yr._)`{allowedValue: ${e}}`},_c={keyword:"const",$data:!0,error:yc,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Yr._)`!${(0,vc.useFunc)(t,$c.default)}(${r}, ${a})`):e.fail((0,Yr._)`${s} !== ${r}`)}};Pn.default=_c;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const Zt=H,gc=I,wc=cr,Ec={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Zt._)`{allowedValues: ${e}}`},bc={keyword:"enum",schemaType:"array",$data:!0,error:Ec,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:l}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const o=a.length>=l.opts.loopEnum;let d;const u=()=>d??(d=(0,gc.useFunc)(t,wc.default));let f;if(o||n)f=t.let("valid"),e.block$data(f,$);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const O=t.const("vSchema",s);f=(0,Zt.or)(...a.map((S,P)=>C(O,P)))}e.pass(f);function $(){t.assign(f,!1),t.forOf("v",s,O=>t.if((0,Zt._)`${u()}(${r}, ${O})`,()=>t.assign(f,!0).break()))}function C(O,S){const P=a[S];return typeof P=="object"&&P!==null?(0,Zt._)`${u()}(${r}, ${O}[${S}])`:(0,Zt._)`${r} === ${P}`}}};Nn.default=bc;Object.defineProperty(mn,"__esModule",{value:!0});const Sc=vn,Pc=$n,Nc=yn,Oc=gn,Cc=wn,Tc=En,kc=bn,Rc=Sn,jc=Pn,Ic=Nn,Dc=[Sc.default,Pc.default,Nc.default,Oc.default,Cc.default,Tc.default,kc.default,Rc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},jc.default,Ic.default];mn.default=Dc;var On={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.validateAdditionalItems=void 0;const yt=H,Zr=I,Ac={message:({params:{len:e}})=>(0,yt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,yt._)`{limit: ${e}}`},Mc={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ac,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Zr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}_s(e,n)}};function _s(e,t){const{gen:r,schema:n,data:a,keyword:s,it:l}=e;l.items=!0;const o=r.const("len",(0,yt._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,yt._)`${o} <= ${t.length}`);else if(typeof n=="object"&&!(0,Zr.alwaysValidSchema)(l,n)){const u=r.var("valid",(0,yt._)`${o} <= ${t.length}`);r.if((0,yt.not)(u),()=>d(u)),e.ok(u)}function d(u){r.forRange("i",t.length,o,f=>{e.subschema({keyword:s,dataProp:f,dataPropType:Zr.Type.Num},u),l.allErrors||r.if((0,yt.not)(u),()=>r.break())})}}Ft.validateAdditionalItems=_s;Ft.default=Mc;var Cn={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.validateTuple=void 0;const ma=H,br=I,Vc=K,Fc={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return gs(e,"additionalItems",t);r.items=!0,!(0,br.alwaysValidSchema)(r,t)&&e.ok((0,Vc.validateArray)(e))}};function gs(e,t,r=e.schema){const{gen:n,parentSchema:a,data:s,keyword:l,it:o}=e;f(a),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=br.mergeEvaluated.items(n,r.length,o.items));const d=n.name("valid"),u=n.const("len",(0,ma._)`${s}.length`);r.forEach(($,C)=>{(0,br.alwaysValidSchema)(o,$)||(n.if((0,ma._)`${u} > ${C}`,()=>e.subschema({keyword:l,schemaProp:C,dataProp:C},d)),e.ok(d))});function f($){const{opts:C,errSchemaPath:O}=o,S=r.length,P=S===$.minItems&&(S===$.maxItems||$[t]===!1);if(C.strictTuples&&!P){const _=`"${l}" is ${S}-tuple, but minItems or maxItems/${t} are not specified or different at path "${O}"`;(0,br.checkStrictMode)(o,_,C.strictTuples)}}}Ut.validateTuple=gs;Ut.default=Fc;Object.defineProperty(Cn,"__esModule",{value:!0});const Uc=Ut,qc={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Uc.validateTuple)(e,"items")};Cn.default=qc;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const va=H,zc=I,Lc=K,Kc=Ft,Hc={message:({params:{len:e}})=>(0,va.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,va._)`{limit: ${e}}`},Gc={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Hc,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,zc.alwaysValidSchema)(n,t)&&(a?(0,Kc.validateAdditionalItems)(e,a):e.ok((0,Lc.validateArray)(e)))}};Tn.default=Gc;var kn={};Object.defineProperty(kn,"__esModule",{value:!0});const Ne=H,$r=I,Jc={message:({params:{min:e,max:t}})=>t===void 0?(0,Ne.str)`must contain at least ${e} valid item(s)`:(0,Ne.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ne._)`{minContains: ${e}}`:(0,Ne._)`{minContains: ${e}, maxContains: ${t}}`},Wc={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Jc,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;let l,o;const{minContains:d,maxContains:u}=n;s.opts.next?(l=d===void 0?1:d,o=u):l=1;const f=t.const("len",(0,Ne._)`${a}.length`);if(e.setParams({min:l,max:o}),o===void 0&&l===0){(0,$r.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&l>o){(0,$r.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,$r.alwaysValidSchema)(s,r)){let P=(0,Ne._)`${f} >= ${l}`;o!==void 0&&(P=(0,Ne._)`${P} && ${f} <= ${o}`),e.pass(P);return}s.items=!0;const $=t.name("valid");o===void 0&&l===1?O($,()=>t.if($,()=>t.break())):l===0?(t.let($,!0),o!==void 0&&t.if((0,Ne._)`${a}.length > 0`,C)):(t.let($,!1),C()),e.result($,()=>e.reset());function C(){const P=t.name("_valid"),_=t.let("count",0);O(P,()=>t.if(P,()=>S(_)))}function O(P,_){t.forRange("i",0,f,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:$r.Type.Num,compositeRule:!0},P),_()})}function S(P){t.code((0,Ne._)`${P}++`),o===void 0?t.if((0,Ne._)`${P} >= ${l}`,()=>t.assign($,!0).break()):(t.if((0,Ne._)`${P} > ${o}`,()=>t.assign($,!1).break()),l===1?t.assign($,!0):t.if((0,Ne._)`${P} >= ${l}`,()=>t.assign($,!0)))}}};kn.default=Wc;var ws={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=H,r=I,n=K;e.error={message:({params:{property:d,depsCount:u,deps:f}})=>{const $=u===1?"property":"properties";return(0,t.str)`must have ${$} ${f} when property ${d} is present`},params:({params:{property:d,depsCount:u,deps:f,missingProperty:$}})=>(0,t._)`{property: ${d},
    missingProperty: ${$},
    depsCount: ${u},
    deps: ${f}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(d){const[u,f]=s(d);l(d,u),o(d,f)}};function s({schema:d}){const u={},f={};for(const $ in d){if($==="__proto__")continue;const C=Array.isArray(d[$])?u:f;C[$]=d[$]}return[u,f]}function l(d,u=d.schema){const{gen:f,data:$,it:C}=d;if(Object.keys(u).length===0)return;const O=f.let("missing");for(const S in u){const P=u[S];if(P.length===0)continue;const _=(0,n.propertyInData)(f,$,S,C.opts.ownProperties);d.setParams({property:S,depsCount:P.length,deps:P.join(", ")}),C.allErrors?f.if(_,()=>{for(const v of P)(0,n.checkReportMissingProp)(d,v)}):(f.if((0,t._)`${_} && (${(0,n.checkMissingProp)(d,P,O)})`),(0,n.reportMissingProp)(d,O),f.else())}}e.validatePropertyDeps=l;function o(d,u=d.schema){const{gen:f,data:$,keyword:C,it:O}=d,S=f.name("valid");for(const P in u)(0,r.alwaysValidSchema)(O,u[P])||(f.if((0,n.propertyInData)(f,$,P,O.opts.ownProperties),()=>{const _=d.subschema({keyword:C,schemaProp:P},S);d.mergeValidEvaluated(_,S)},()=>f.var(S,!0)),d.ok(S))}e.validateSchemaDeps=o,e.default=a})(ws);var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});const Es=H,Bc=I,Qc={message:"property name must be valid",params:({params:e})=>(0,Es._)`{propertyName: ${e.propertyName}}`},Xc={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Qc,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,Bc.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",n,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},s),t.if((0,Es.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};Rn.default=Xc;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});const yr=K,Re=H,Yc=Ze,_r=I,Zc={message:"must NOT have additional properties",params:({params:e})=>(0,Re._)`{additionalProperty: ${e.additionalProperty}}`},xc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Zc,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:s,it:l}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:d}=l;if(l.props=!0,d.removeAdditional!=="all"&&(0,_r.alwaysValidSchema)(l,r))return;const u=(0,yr.allSchemaProperties)(n.properties),f=(0,yr.allSchemaProperties)(n.patternProperties);$(),e.ok((0,Re._)`${s} === ${Yc.default.errors}`);function $(){t.forIn("key",a,_=>{!u.length&&!f.length?S(_):t.if(C(_),()=>S(_))})}function C(_){let v;if(u.length>8){const y=(0,_r.schemaRefOrVal)(l,n.properties,"properties");v=(0,yr.isOwnProperty)(t,y,_)}else u.length?v=(0,Re.or)(...u.map(y=>(0,Re._)`${_} === ${y}`)):v=Re.nil;return f.length&&(v=(0,Re.or)(v,...f.map(y=>(0,Re._)`${(0,yr.usePattern)(e,y)}.test(${_})`))),(0,Re.not)(v)}function O(_){t.code((0,Re._)`delete ${a}[${_}]`)}function S(_){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){O(_);return}if(r===!1){e.setParams({additionalProperty:_}),e.error(),o||t.break();return}if(typeof r=="object"&&!(0,_r.alwaysValidSchema)(l,r)){const v=t.name("valid");d.removeAdditional==="failing"?(P(_,v,!1),t.if((0,Re.not)(v),()=>{e.reset(),O(_)})):(P(_,v),o||t.if((0,Re.not)(v),()=>t.break()))}}function P(_,v,y){const k={keyword:"additionalProperties",dataProp:_,dataPropType:_r.Type.Str};y===!1&&Object.assign(k,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(k,v)}}};Mr.default=xc;var jn={};Object.defineProperty(jn,"__esModule",{value:!0});const el=Ue,$a=K,Hr=I,ya=Mr,tl={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&ya.default.code(new el.KeywordCxt(s,ya.default,"additionalProperties"));const l=(0,$a.allSchemaProperties)(r);for(const $ of l)s.definedProperties.add($);s.opts.unevaluated&&l.length&&s.props!==!0&&(s.props=Hr.mergeEvaluated.props(t,(0,Hr.toHash)(l),s.props));const o=l.filter($=>!(0,Hr.alwaysValidSchema)(s,r[$]));if(o.length===0)return;const d=t.name("valid");for(const $ of o)u($)?f($):(t.if((0,$a.propertyInData)(t,a,$,s.opts.ownProperties)),f($),s.allErrors||t.else().var(d,!0),t.endIf()),e.it.definedProperties.add($),e.ok(d);function u($){return s.opts.useDefaults&&!s.compositeRule&&r[$].default!==void 0}function f($){e.subschema({keyword:"properties",schemaProp:$,dataProp:$},d)}}};jn.default=tl;var In={};Object.defineProperty(In,"__esModule",{value:!0});const _a=K,gr=H,ga=I,wa=I,rl={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:s}=e,{opts:l}=s,o=(0,_a.allSchemaProperties)(r),d=o.filter(P=>(0,ga.alwaysValidSchema)(s,r[P]));if(o.length===0||d.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const u=l.strictSchema&&!l.allowMatchingProperties&&a.properties,f=t.name("valid");s.props!==!0&&!(s.props instanceof gr.Name)&&(s.props=(0,wa.evaluatedPropsToName)(t,s.props));const{props:$}=s;C();function C(){for(const P of o)u&&O(P),s.allErrors?S(P):(t.var(f,!0),S(P),t.if(f))}function O(P){for(const _ in u)new RegExp(P).test(_)&&(0,ga.checkStrictMode)(s,`property ${_} matches pattern ${P} (use allowMatchingProperties)`)}function S(P){t.forIn("key",n,_=>{t.if((0,gr._)`${(0,_a.usePattern)(e,P)}.test(${_})`,()=>{const v=d.includes(P);v||e.subschema({keyword:"patternProperties",schemaProp:P,dataProp:_,dataPropType:wa.Type.Str},f),s.opts.unevaluated&&$!==!0?t.assign((0,gr._)`${$}[${_}]`,!0):!v&&!s.allErrors&&t.if((0,gr.not)(f),()=>t.break())})})}}};In.default=rl;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0});const nl=I,al={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,nl.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Dn.default=al;var An={};Object.defineProperty(An,"__esModule",{value:!0});const sl=K,ol={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:sl.validateUnion,error:{message:"must match a schema in anyOf"}};An.default=ol;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});const Sr=H,il=I,cl={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,Sr._)`{passingSchemas: ${e.passing}}`},ll={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:cl,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,l=t.let("valid",!1),o=t.let("passing",null),d=t.name("_valid");e.setParams({passing:o}),t.block(u),e.result(l,()=>e.reset(),()=>e.error(!0));function u(){s.forEach((f,$)=>{let C;(0,il.alwaysValidSchema)(a,f)?t.var(d,!0):C=e.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},d),$>0&&t.if((0,Sr._)`${d} && ${l}`).assign(l,!1).assign(o,(0,Sr._)`[${o}, ${$}]`).else(),t.if(d,()=>{t.assign(l,!0),t.assign(o,$),C&&e.mergeEvaluated(C,Sr.Name)})})}}};Mn.default=ll;var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});const ul=I,dl={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,l)=>{if((0,ul.alwaysValidSchema)(n,s))return;const o=e.subschema({keyword:"allOf",schemaProp:l},a);e.ok(a),e.mergeEvaluated(o)})}};Vn.default=dl;var Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});const Tr=H,bs=I,fl={message:({params:e})=>(0,Tr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Tr._)`{failingKeyword: ${e.ifClause}}`},hl={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:fl,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,bs.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=Ea(n,"then"),s=Ea(n,"else");if(!a&&!s)return;const l=t.let("valid",!0),o=t.name("_valid");if(d(),e.reset(),a&&s){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(o,u("then",f),u("else",f))}else a?t.if(o,u("then")):t.if((0,Tr.not)(o),u("else"));e.pass(l,()=>e.error(!0));function d(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);e.mergeEvaluated(f)}function u(f,$){return()=>{const C=e.subschema({keyword:f},o);t.assign(l,o),e.mergeValidEvaluated(C,l),$?t.assign($,(0,Tr._)`${f}`):e.setParams({ifClause:f})}}}};function Ea(e,t){const r=e.schema[t];return r!==void 0&&!(0,bs.alwaysValidSchema)(e,r)}Fn.default=hl;var Un={};Object.defineProperty(Un,"__esModule",{value:!0});const pl=I,ml={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,pl.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Un.default=ml;Object.defineProperty(On,"__esModule",{value:!0});const vl=Ft,$l=Cn,yl=Ut,_l=Tn,gl=kn,wl=ws,El=Rn,bl=Mr,Sl=jn,Pl=In,Nl=Dn,Ol=An,Cl=Mn,Tl=Vn,kl=Fn,Rl=Un;function jl(e=!1){const t=[Nl.default,Ol.default,Cl.default,Tl.default,kl.default,Rl.default,El.default,bl.default,wl.default,Sl.default,Pl.default];return e?t.push($l.default,_l.default):t.push(vl.default,yl.default),t.push(gl.default),t}On.default=jl;var qn={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});const ie=H,Il={message:({schemaCode:e})=>(0,ie.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ie._)`{format: ${e}}`},Dl={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Il,code(e,t){const{gen:r,data:n,$data:a,schema:s,schemaCode:l,it:o}=e,{opts:d,errSchemaPath:u,schemaEnv:f,self:$}=o;if(!d.validateFormats)return;a?C():O();function C(){const S=r.scopeValue("formats",{ref:$.formats,code:d.code.formats}),P=r.const("fDef",(0,ie._)`${S}[${l}]`),_=r.let("fType"),v=r.let("format");r.if((0,ie._)`typeof ${P} == "object" && !(${P} instanceof RegExp)`,()=>r.assign(_,(0,ie._)`${P}.type || "string"`).assign(v,(0,ie._)`${P}.validate`),()=>r.assign(_,(0,ie._)`"string"`).assign(v,P)),e.fail$data((0,ie.or)(y(),k()));function y(){return d.strictSchema===!1?ie.nil:(0,ie._)`${l} && !${v}`}function k(){const D=f.$async?(0,ie._)`(${P}.async ? await ${v}(${n}) : ${v}(${n}))`:(0,ie._)`${v}(${n})`,M=(0,ie._)`(typeof ${v} == "function" ? ${D} : ${v}.test(${n}))`;return(0,ie._)`${v} && ${v} !== true && ${_} === ${t} && !${M}`}}function O(){const S=$.formats[s];if(!S){y();return}if(S===!0)return;const[P,_,v]=k(S);P===t&&e.pass(D());function y(){if(d.strictSchema===!1){$.logger.warn(M());return}throw new Error(M());function M(){return`unknown format "${s}" ignored in schema at path "${u}"`}}function k(M){const Q=M instanceof RegExp?(0,ie.regexpCode)(M):d.code.formats?(0,ie._)`${d.code.formats}${(0,ie.getProperty)(s)}`:void 0,te=r.scopeValue("formats",{key:s,ref:M,code:Q});return typeof M=="object"&&!(M instanceof RegExp)?[M.type||"string",M.validate,(0,ie._)`${te}.validate`]:["string",M,te]}function D(){if(typeof S=="object"&&!(S instanceof RegExp)&&S.async){if(!f.$async)throw new Error("async format in sync schema");return(0,ie._)`await ${v}(${n})`}return typeof _=="function"?(0,ie._)`${v}(${n})`:(0,ie._)`${v}.test(${n})`}}}};zn.default=Dl;Object.defineProperty(qn,"__esModule",{value:!0});const Al=zn,Ml=[Al.default];qn.default=Ml;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.contentVocabulary=Mt.metadataVocabulary=void 0;Mt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Mt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(fn,"__esModule",{value:!0});const Vl=hn,Fl=mn,Ul=On,ql=qn,ba=Mt,zl=[Vl.default,Fl.default,(0,Ul.default)(),ql.default,ba.metadataVocabulary,ba.contentVocabulary];fn.default=zl;var Ln={},Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.DiscrError=void 0;var Sa;(function(e){e.Tag="tag",e.Mapping="mapping"})(Sa||(Vr.DiscrError=Sa={}));Object.defineProperty(Ln,"__esModule",{value:!0});const jt=H,xr=Vr,Pa=Ee,Ll=Vt,Kl=I,Hl={message:({params:{discrError:e,tagName:t}})=>e===xr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,jt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},Gl={keyword:"discriminator",type:"object",schemaType:"object",error:Hl,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:s}=e,{oneOf:l}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=n.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const d=t.let("valid",!1),u=t.const("tag",(0,jt._)`${r}${(0,jt.getProperty)(o)}`);t.if((0,jt._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:xr.DiscrError.Tag,tag:u,tagName:o})),e.ok(d);function f(){const O=C();t.if(!1);for(const S in O)t.elseIf((0,jt._)`${u} === ${S}`),t.assign(d,$(O[S]));t.else(),e.error(!1,{discrError:xr.DiscrError.Mapping,tag:u,tagName:o}),t.endIf()}function $(O){const S=t.name("valid"),P=e.subschema({keyword:"oneOf",schemaProp:O},S);return e.mergeEvaluated(P,jt.Name),S}function C(){var O;const S={},P=v(a);let _=!0;for(let D=0;D<l.length;D++){let M=l[D];if(M!=null&&M.$ref&&!(0,Kl.schemaHasRulesButRef)(M,s.self.RULES)){const te=M.$ref;if(M=Pa.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,te),M instanceof Pa.SchemaEnv&&(M=M.schema),M===void 0)throw new Ll.default(s.opts.uriResolver,s.baseId,te)}const Q=(O=M==null?void 0:M.properties)===null||O===void 0?void 0:O[o];if(typeof Q!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);_=_&&(P||v(M)),y(Q,D)}if(!_)throw new Error(`discriminator: "${o}" must be required`);return S;function v({required:D}){return Array.isArray(D)&&D.includes(o)}function y(D,M){if(D.const)k(D.const,M);else if(D.enum)for(const Q of D.enum)k(Q,M);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function k(D,M){if(typeof D!="string"||D in S)throw new Error(`discriminator: "${o}" values must be unique strings`);S[D]=M}}}};Ln.default=Gl;const Jl="http://json-schema.org/draft-07/schema#",Wl="http://json-schema.org/draft-07/schema#",Bl="Core schema meta-schema",Ql={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Xl=["object","boolean"],Yl={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Zl={$schema:Jl,$id:Wl,title:Bl,definitions:Ql,type:Xl,properties:Yl,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=Ma,n=fn,a=Ln,s=Zl,l=["/properties"],o="http://json-schema.org/draft-07/schema";class d extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(s,l):s;this.addMetaSchema(S,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.Ajv=d,e.exports=t=d,e.exports.Ajv=d,Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var u=Ue;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=H;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var $=ir;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var C=Vt;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return C.default}})})(Gr,Gr.exports);var xl=Gr.exports;const eu=qs(xl);function Na(e,t,r){const n=e.slice();return n[1]=t[r],n}function Oa(e){let t,r,n="<tr><th>Keyword</th> <th>Message</th> <th>Instance path</th> <th>Schema path</th></tr>",a,s,l=na(e[0]),o=[];for(let d=0;d<l.length;d+=1)o[d]=Ca(Na(e,l,d));return{c(){t=he("table"),r=he("thead"),r.innerHTML=n,a=Qe(),s=he("tbody");for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l(d){t=pe(d,"TABLE",{class:!0});var u=Oe(t);r=pe(u,"THEAD",{"data-svelte-h":!0}),sr(r)!=="svelte-viwj2b"&&(r.innerHTML=n),a=Xe(u),s=pe(u,"TBODY",{});var f=Oe(s);for(let $=0;$<o.length;$+=1)o[$].l(f);f.forEach(X),u.forEach(X),this.h()},h(){Ce(t,"class","styled-table full-width")},m(d,u){ye(d,t,u),$e(t,r),$e(t,a),$e(t,s);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(s,null)},p(d,u){if(u&1){l=na(d[0]);let f;for(f=0;f<l.length;f+=1){const $=Na(d,l,f);o[f]?o[f].p($,u):(o[f]=Ca($),o[f].c(),o[f].m(s,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},d(d){d&&X(t),As(o,d)}}}function Ca(e){let t,r,n=e[1].keyword+"",a,s,l,o=e[1].message+"",d,u,f,$=e[1].instancePath+"",C,O,S,P=e[1].schemaPath+"",_,v;return{c(){t=he("tr"),r=he("td"),a=hr(n),s=Qe(),l=he("td"),d=hr(o),u=Qe(),f=he("td"),C=hr($),O=Qe(),S=he("td"),_=hr(P),v=Qe()},l(y){t=pe(y,"TR",{});var k=Oe(t);r=pe(k,"TD",{});var D=Oe(r);a=pr(D,n),D.forEach(X),s=Xe(k),l=pe(k,"TD",{});var M=Oe(l);d=pr(M,o),M.forEach(X),u=Xe(k),f=pe(k,"TD",{});var Q=Oe(f);C=pr(Q,$),Q.forEach(X),O=Xe(k),S=pe(k,"TD",{});var te=Oe(S);_=pr(te,P),te.forEach(X),v=Xe(k),k.forEach(X)},m(y,k){ye(y,t,k),$e(t,r),$e(r,a),$e(t,s),$e(t,l),$e(l,d),$e(t,u),$e(t,f),$e(f,C),$e(t,O),$e(t,S),$e(S,_),$e(t,v)},p(y,k){k&1&&n!==(n=y[1].keyword+"")&&mr(a,n),k&1&&o!==(o=y[1].message+"")&&mr(d,o),k&1&&$!==($=y[1].instancePath+"")&&mr(C,$),k&1&&P!==(P=y[1].schemaPath+"")&&mr(_,P)},d(y){y&&X(t)}}}function tu(e){let t,r=e[0]&&e[0].length>0&&Oa(e);return{c(){r&&r.c(),t=ta()},l(n){r&&r.l(n),t=ta()},m(n,a){r&&r.m(n,a),ye(n,t,a)},p(n,[a]){n[0]&&n[0].length>0?r?r.p(n,a):(r=Oa(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:ra,o:ra,d(n){n&&X(t),r&&r.d(n)}}}function ru(e,t,r){let{validationErrors:n}=t;return e.$$set=a=>{"validationErrors"in a&&r(0,n=a.validationErrors)},[n]}class nu extends ka{constructor(t){super(),Ra(this,t,ru,tu,Ta,{validationErrors:0})}}function au(e){let t,r,n,a,s,l;function o(u){e[10](u)}let d={lang:Ia(),theme:e[8]};return e[0]!==void 0&&(d.value=e[0]),r=new ja({props:d}),kr.push(()=>jr(r,"value",o)),s=new Da({props:{message:e[2]}}),{c(){t=he("div"),Ie(r.$$.fragment),a=Qe(),Ie(s.$$.fragment),this.h()},l(u){t=pe(u,"DIV",{class:!0});var f=Oe(t);De(r.$$.fragment,f),f.forEach(X),a=Xe(u),De(s.$$.fragment,u),this.h()},h(){Ce(t,"class","textarea-wrapper svelte-1q62cm5")},m(u,f){ye(u,t,f),Ae(r,t,null),ye(u,a,f),Ae(s,u,f),l=!0},p(u,f){const $={};f&256&&($.theme=u[8]),!n&&f&1&&(n=!0,$.value=u[0],Rr(()=>n=!1)),r.$set($);const C={};f&4&&(C.message=u[2]),s.$set(C)},i(u){l||(Me(r.$$.fragment,u),Me(s.$$.fragment,u),l=!0)},o(u){Ve(r.$$.fragment,u),Ve(s.$$.fragment,u),l=!1},d(u){u&&(X(t),X(a)),Fe(r),Fe(s,u)}}}function su(e){let t,r,n,a;function s(o){e[9](o)}let l={};return e[0]!==void 0&&(l.textFile=e[0]),r=new Aa({props:l}),kr.push(()=>jr(r,"textFile",s)),{c(){t=he("div"),Ie(r.$$.fragment),this.h()},l(o){t=pe(o,"DIV",{class:!0,slot:!0});var d=Oe(t);De(r.$$.fragment,d),d.forEach(X),this.h()},h(){Ce(t,"class","toolbar"),Ce(t,"slot","header-left")},m(o,d){ye(o,t,d),Ae(r,t,null),a=!0},p(o,d){const u={};!n&&d&1&&(n=!0,u.textFile=o[0],Rr(()=>n=!1)),r.$set(u)},i(o){a||(Me(r.$$.fragment,o),a=!0)},o(o){Ve(r.$$.fragment,o),a=!1},d(o){o&&X(t),Fe(r)}}}function ou(e){let t,r,n,a,s,l;function o(u){e[12](u)}let d={lang:Ia(),theme:e[8]};return e[1]!==void 0&&(d.value=e[1]),r=new ja({props:d}),kr.push(()=>jr(r,"value",o)),s=new Da({props:{message:e[3]}}),{c(){t=he("div"),Ie(r.$$.fragment),a=Qe(),Ie(s.$$.fragment),this.h()},l(u){t=pe(u,"DIV",{class:!0});var f=Oe(t);De(r.$$.fragment,f),f.forEach(X),a=Xe(u),De(s.$$.fragment,u),this.h()},h(){Ce(t,"class","textarea-wrapper svelte-1q62cm5")},m(u,f){ye(u,t,f),Ae(r,t,null),ye(u,a,f),Ae(s,u,f),l=!0},p(u,f){const $={};f&256&&($.theme=u[8]),!n&&f&2&&(n=!0,$.value=u[1],Rr(()=>n=!1)),r.$set($);const C={};f&8&&(C.message=u[3]),s.$set(C)},i(u){l||(Me(r.$$.fragment,u),Me(s.$$.fragment,u),l=!0)},o(u){Ve(r.$$.fragment,u),Ve(s.$$.fragment,u),l=!1},d(u){u&&(X(t),X(a)),Fe(r),Fe(s,u)}}}function iu(e){let t,r,n,a;function s(o){e[11](o)}let l={};return e[1]!==void 0&&(l.textFile=e[1]),r=new Aa({props:l}),kr.push(()=>jr(r,"textFile",s)),{c(){t=he("div"),Ie(r.$$.fragment),this.h()},l(o){t=pe(o,"DIV",{class:!0,slot:!0});var d=Oe(t);De(r.$$.fragment,d),d.forEach(X),this.h()},h(){Ce(t,"class","toolbar"),Ce(t,"slot","header-left")},m(o,d){ye(o,t,d),Ae(r,t,null),a=!0},p(o,d){const u={};!n&&d&2&&(n=!0,u.textFile=o[1],Rr(()=>n=!1)),r.$set(u)},i(o){a||(Me(r.$$.fragment,o),a=!0)},o(o){Ve(r.$$.fragment,o),a=!1},d(o){o&&X(t),Fe(r)}}}function cu(e){let t,r="❌ The JSON is not valid against the schema.";return{c(){t=he("p"),t.textContent=r,this.h()},l(n){t=pe(n,"P",{class:!0,"data-svelte-h":!0}),sr(t)!=="svelte-137t7vh"&&(t.textContent=r),this.h()},h(){Ce(t,"class","svelte-1q62cm5")},m(n,a){ye(n,t,a)},d(n){n&&X(t)}}}function lu(e){let t,r="✅ The JSON is valid against the schema.";return{c(){t=he("p"),t.textContent=r,this.h()},l(n){t=pe(n,"P",{class:!0,"data-svelte-h":!0}),sr(t)!=="svelte-160u5bb"&&(t.textContent=r),this.h()},h(){Ce(t,"class","svelte-1q62cm5")},m(n,a){ye(n,t,a)},d(n){n&&X(t)}}}function uu(e){let t,r="Waiting for schema.";return{c(){t=he("p"),t.textContent=r,this.h()},l(n){t=pe(n,"P",{class:!0,"data-svelte-h":!0}),sr(t)!=="svelte-12er027"&&(t.textContent=r),this.h()},h(){Ce(t,"class","svelte-1q62cm5")},m(n,a){ye(n,t,a)},d(n){n&&X(t)}}}function du(e){let t,r="Waiting for JSON";return{c(){t=he("p"),t.textContent=r,this.h()},l(n){t=pe(n,"P",{class:!0,"data-svelte-h":!0}),sr(t)!=="svelte-1my6he6"&&(t.textContent=r),this.h()},h(){Ce(t,"class","svelte-1q62cm5")},m(n,a){ye(n,t,a)},d(n){n&&X(t)}}}function fu(e){let t,r,n,a;function s(d,u){if(!d[5])return du;if(!d[6])return uu;if(d[7]===!0)return lu;if(d[7]===!1)return cu}let l=s(e),o=l&&l(e);return n=new nu({props:{validationErrors:e[4]}}),{c(){t=he("div"),o&&o.c(),r=Qe(),Ie(n.$$.fragment),this.h()},l(d){t=pe(d,"DIV",{class:!0});var u=Oe(t);o&&o.l(u),r=Xe(u),De(n.$$.fragment,u),u.forEach(X),this.h()},h(){Ce(t,"class","output svelte-1q62cm5")},m(d,u){ye(d,t,u),o&&o.m(t,null),$e(t,r),Ae(n,t,null),a=!0},p(d,u){l!==(l=s(d))&&(o&&o.d(1),o=l&&l(d),o&&(o.c(),o.m(t,r)));const f={};u&16&&(f.validationErrors=d[4]),n.$set(f)},i(d){a||(Me(n.$$.fragment,d),a=!0)},o(d){Ve(n.$$.fragment,d),a=!1},d(d){d&&X(t),o&&o.d(),Fe(n)}}}function hu(e){let t,r,n,a,s,l;return t=new Ur({props:{title:"JSON",hasPadding:!1,fill:!0,$$slots:{"header-left":[su],default:[au]},$$scope:{ctx:e}}}),n=new Ur({props:{title:"JSON Schema",hasPadding:!1,fill:!0,$$slots:{"header-left":[iu],default:[ou]},$$scope:{ctx:e}}}),s=new Ur({props:{title:"Validation",isCollapsible:!1,isCompact:!0,$$slots:{default:[fu]},$$scope:{ctx:e}}}),{c(){Ie(t.$$.fragment),r=Qe(),Ie(n.$$.fragment),a=Qe(),Ie(s.$$.fragment)},l(o){De(t.$$.fragment,o),r=Xe(o),De(n.$$.fragment,o),a=Xe(o),De(s.$$.fragment,o)},m(o,d){Ae(t,o,d),ye(o,r,d),Ae(n,o,d),ye(o,a,d),Ae(s,o,d),l=!0},p(o,d){const u={};d&33029&&(u.$$scope={dirty:d,ctx:o}),t.$set(u);const f={};d&33034&&(f.$$scope={dirty:d,ctx:o}),n.$set(f);const $={};d&33008&&($.$$scope={dirty:d,ctx:o}),s.$set($)},i(o){l||(Me(t.$$.fragment,o),Me(n.$$.fragment,o),Me(s.$$.fragment,o),l=!0)},o(o){Ve(t.$$.fragment,o),Ve(n.$$.fragment,o),Ve(s.$$.fragment,o),l=!1},d(o){o&&(X(r),X(a)),Fe(t,o),Fe(n,o),Fe(s,o)}}}function pu(e){let t,r;return t=new Fs({props:{$$slots:{default:[hu]},$$scope:{ctx:e}}}),{c(){Ie(t.$$.fragment)},l(n){De(t.$$.fragment,n)},m(n,a){Ae(t,n,a),r=!0},p(n,[a]){const s={};a&33279&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){r||(Me(t.$$.fragment,n),r=!0)},o(n){Ve(t.$$.fragment,n),r=!1},d(n){Fe(t,n)}}}function mu(e,t,r){let n;Ms(e,Vs,y=>r(8,n=y));let a,s,l="",o="",d=[];const u=new eu;let f,$,C;function O(){!f||!$||(r(7,C=$(f)),r(4,d=$.errors))}function S(y){a=y,r(0,a)}function P(y){a=y,r(0,a)}function _(y){s=y,r(1,s)}function v(y){s=y,r(1,s)}return e.$$.update=()=>{if(e.$$.dirty&1){try{r(2,l=""),a&&r(5,f=JSON.parse(a))}catch(y){r(2,l=y.message)}O()}if(e.$$.dirty&2){try{if(r(6,$=void 0),r(3,o=""),s){const y=JSON.parse(s);r(6,$=u.compile(y))}}catch(y){r(3,o=y.message)}O()}},[a,s,l,o,d,f,$,C,n,S,P,_,v]}class Nu extends ka{constructor(t){super(),Ra(this,t,mu,pu,Ta,{})}}export{Nu as component};
