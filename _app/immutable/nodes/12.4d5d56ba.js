import{s as va,e as Gn,i as _e,B as Jn,d as ee,f as pe,a as Be,g as ve,h as Te,I as er,c as Qe,j as ke,v as ye,r as ps,l as ur,m as dr,n as fr,H as vs,p as Or,J as Cr}from"../chunks/scheduler.9e408aab.js";import{S as $a,i as ya,b as De,d as Ae,m as Me,a as Ve,t as Fe,e as Ue,f as Tr}from"../chunks/index.97a8dc8b.js";import{C as _a,W as ga,t as $s}from"../chunks/warning-box.a1f71427.js";import{j as wa}from"../chunks/index.f184ac4d.js";import{S as Ar}from"../chunks/stack-view.26aad225.js";import{T as ys}from"../chunks/tool.cfc1dc5e.js";import{c as _s,g as gs}from"../chunks/_commonjsHelpers.725317a4.js";import{e as Wn}from"../chunks/each.e59479a4.js";import{T as Ea}from"../chunks/text-file-picker.0baa67a2.js";var zr={exports:{}},ba={},qe={},Rt={},tr={},J={},xt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(_){if(super(),!e.IDENTIFIER.test(_))throw new Error("CodeGen: name must be a valid identifier");this.str=_}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(_){super(),this._items=typeof _=="string"?[_]:_}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const _=this._items[0];return _===""||_==='""'}get str(){var _;return(_=this._str)!==null&&_!==void 0?_:this._str=this._items.reduce((w,I)=>`${w}${I}`,"")}get names(){var _;return(_=this._names)!==null&&_!==void 0?_:this._names=this._items.reduce((w,I)=>(I instanceof r&&(w[I.str]=(w[I.str]||0)+1),w),{})}}e._Code=n,e.nil=new n("");function a(v,..._){const w=[v[0]];let I=0;for(;I<_.length;)i(w,_[I]),w.push(v[++I]);return new n(w)}e._=a;const s=new n("+");function d(v,..._){const w=[k(v[0])];let I=0;for(;I<_.length;)w.push(s),i(w,_[I]),w.push(s,k(v[++I]));return u(w),new n(w)}e.str=d;function i(v,_){_ instanceof n?v.push(..._._items):_ instanceof r?v.push(_):v.push($(_))}e.addCodeArg=i;function u(v){let _=1;for(;_<v.length-1;){if(v[_]===s){const w=l(v[_-1],v[_+1]);if(w!==void 0){v.splice(_-1,3,w);continue}v[_++]="+"}_++}}function l(v,_){if(_==='""')return v;if(v==='""')return _;if(typeof v=="string")return _ instanceof r||v[v.length-1]!=='"'?void 0:typeof _!="string"?`${v.slice(0,-1)}${_}"`:_[0]==='"'?v.slice(0,-1)+_.slice(1):void 0;if(typeof _=="string"&&_[0]==='"'&&!(v instanceof r))return`"${v}${_.slice(1)}`}function f(v,_){return _.emptyStr()?v:v.emptyStr()?_:d`${v}${_}`}e.strConcat=f;function $(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:k(Array.isArray(v)?v.join(","):v)}function R(v){return new n(k(v))}e.stringify=R;function k(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=k;function b(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new n(`.${v}`):a`[${v}]`}e.getProperty=b;function N(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new n(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=N;function y(v){return new n(v.toString())}e.regexpCode=y})(xt);var Lr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=xt;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var n;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:l,parent:f}={}){this._names={},this._prefixes=l,this._parent=f}toName(l){return l instanceof t.Name?l:this.name(l)}name(l){return new t.Name(this._newName(l))}_newName(l){const f=this._names[l]||this._nameGroup(l);return`${l}${f.index++}`}_nameGroup(l){var f,$;if(!(($=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||$===void 0)&&$.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}e.Scope=a;class s extends t.Name{constructor(l,f){super(f),this.prefix=l}setValue(l,{property:f,itemIndex:$}){this.value=l,this.scopePath=(0,t._)`.${new t.Name(f)}[${$}]`}}e.ValueScopeName=s;const d=(0,t._)`\n`;class i extends a{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?d:t.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,f){var $;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const R=this.toName(l),{prefix:k}=R,b=($=f.key)!==null&&$!==void 0?$:f.ref;let N=this._values[k];if(N){const _=N.get(b);if(_)return _}else N=this._values[k]=new Map;N.set(b,R);const y=this._scope[k]||(this._scope[k]=[]),v=y.length;return y[v]=f.ref,R.setValue(f,{property:k,itemIndex:v}),R}getValue(l,f){const $=this._values[l];if($)return $.get(f)}scopeRefs(l,f=this._values){return this._reduceValues(f,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${l}${$.scopePath}`})}scopeCode(l=this._values,f,$){return this._reduceValues(l,R=>{if(R.value===void 0)throw new Error(`CodeGen: name "${R}" has no value`);return R.value.code},f,$)}_reduceValues(l,f,$={},R){let k=t.nil;for(const b in l){const N=l[b];if(!N)continue;const y=$[b]=$[b]||new Map;N.forEach(v=>{if(y.has(v))return;y.set(v,n.Started);let _=f(v);if(_){const w=this.opts.es5?e.varKinds.var:e.varKinds.const;k=(0,t._)`${k}${w} ${v} = ${_};${this.opts._n}`}else if(_=R==null?void 0:R(v))k=(0,t._)`${k}${_}${this.opts._n}`;else throw new r(v);y.set(v,n.Completed)})}return k}}e.ValueScope=i})(Lr);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=xt,r=Lr;var n=xt;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Lr;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class s{optimizeNodes(){return this}optimizeNames(o,m){return this}}class d extends s{constructor(o,m,T){super(),this.varKind=o,this.name=m,this.rhs=T}render({es5:o,_n:m}){const T=o?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${V};`+m}optimizeNames(o,m){if(o[this.name.str])return this.rhs&&(this.rhs=de(this.rhs,o,m)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class i extends s{constructor(o,m,T){super(),this.lhs=o,this.rhs=m,this.sideEffects=T}render({_n:o}){return`${this.lhs} = ${this.rhs};`+o}optimizeNames(o,m){if(!(this.lhs instanceof t.Name&&!o[this.lhs.str]&&!this.sideEffects))return this.rhs=de(this.rhs,o,m),this}get names(){const o=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Pe(o,this.rhs)}}class u extends i{constructor(o,m,T,V){super(o,T,V),this.op=m}render({_n:o}){return`${this.lhs} ${this.op}= ${this.rhs};`+o}}class l extends s{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`${this.label}:`+o}}class f extends s{constructor(o){super(),this.label=o,this.names={}}render({_n:o}){return`break${this.label?` ${this.label}`:""};`+o}}class $ extends s{constructor(o){super(),this.error=o}render({_n:o}){return`throw ${this.error};`+o}get names(){return this.error.names}}class R extends s{constructor(o){super(),this.code=o}render({_n:o}){return`${this.code};`+o}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(o,m){return this.code=de(this.code,o,m),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class k extends s{constructor(o=[]){super(),this.nodes=o}render(o){return this.nodes.reduce((m,T)=>m+T.render(o),"")}optimizeNodes(){const{nodes:o}=this;let m=o.length;for(;m--;){const T=o[m].optimizeNodes();Array.isArray(T)?o.splice(m,1,...T):T?o[m]=T:o.splice(m,1)}return o.length>0?this:void 0}optimizeNames(o,m){const{nodes:T}=this;let V=T.length;for(;V--;){const F=T[V];F.optimizeNames(o,m)||(ot(o,F.names),T.splice(V,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((o,m)=>Y(o,m.names),{})}}class b extends k{render(o){return"{"+o._n+super.render(o)+"}"+o._n}}class N extends k{}class y extends b{}y.kind="else";class v extends b{constructor(o,m){super(m),this.condition=o}render(o){let m=`if(${this.condition})`+super.render(o);return this.else&&(m+="else "+this.else.render(o)),m}optimizeNodes(){super.optimizeNodes();const o=this.condition;if(o===!0)return this.nodes;let m=this.else;if(m){const T=m.optimizeNodes();m=this.else=Array.isArray(T)?new y(T):T}if(m)return o===!1?m instanceof v?m:m.nodes:this.nodes.length?this:new v(it(o),m instanceof v?[m]:m.nodes);if(!(o===!1||!this.nodes.length))return this}optimizeNames(o,m){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(o,m),!!(super.optimizeNames(o,m)||this.else))return this.condition=de(this.condition,o,m),this}get names(){const o=super.names;return Pe(o,this.condition),this.else&&Y(o,this.else.names),o}}v.kind="if";class _ extends b{}_.kind="for";class w extends _{constructor(o){super(),this.iteration=o}render(o){return`for(${this.iteration})`+super.render(o)}optimizeNames(o,m){if(super.optimizeNames(o,m))return this.iteration=de(this.iteration,o,m),this}get names(){return Y(super.names,this.iteration.names)}}class I extends _{constructor(o,m,T,V){super(),this.varKind=o,this.name=m,this.from=T,this.to=V}render(o){const m=o.es5?r.varKinds.var:this.varKind,{name:T,from:V,to:F}=this;return`for(${m} ${T}=${V}; ${T}<${F}; ${T}++)`+super.render(o)}get names(){const o=Pe(super.names,this.from);return Pe(o,this.to)}}class A extends _{constructor(o,m,T,V){super(),this.loop=o,this.varKind=m,this.name=T,this.iterable=V}render(o){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(o)}optimizeNames(o,m){if(super.optimizeNames(o,m))return this.iterable=de(this.iterable,o,m),this}get names(){return Y(super.names,this.iterable.names)}}class E extends b{constructor(o,m,T){super(),this.name=o,this.args=m,this.async=T}render(o){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(o)}}E.kind="func";class C extends k{render(o){return"return "+super.render(o)}}C.kind="return";class D extends b{render(o){let m="try"+super.render(o);return this.catch&&(m+=this.catch.render(o)),this.finally&&(m+=this.finally.render(o)),m}optimizeNodes(){var o,m;return super.optimizeNodes(),(o=this.catch)===null||o===void 0||o.optimizeNodes(),(m=this.finally)===null||m===void 0||m.optimizeNodes(),this}optimizeNames(o,m){var T,V;return super.optimizeNames(o,m),(T=this.catch)===null||T===void 0||T.optimizeNames(o,m),(V=this.finally)===null||V===void 0||V.optimizeNames(o,m),this}get names(){const o=super.names;return this.catch&&Y(o,this.catch.names),this.finally&&Y(o,this.finally.names),o}}class K extends b{constructor(o){super(),this.error=o}render(o){return`catch(${this.error})`+super.render(o)}}K.kind="catch";class W extends b{render(o){return"finally"+super.render(o)}}W.kind="finally";class oe{constructor(o,m={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...m,_n:m.lines?`
`:""},this._extScope=o,this._scope=new r.Scope({parent:o}),this._nodes=[new N]}toString(){return this._root.render(this.opts)}name(o){return this._scope.name(o)}scopeName(o){return this._extScope.name(o)}scopeValue(o,m){const T=this._extScope.value(o,m);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(o,m){return this._extScope.getValue(o,m)}scopeRefs(o){return this._extScope.scopeRefs(o,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(o,m,T,V){const F=this._scope.toName(m);return T!==void 0&&V&&(this._constants[F.str]=T),this._leafNode(new d(o,F,T)),F}const(o,m,T){return this._def(r.varKinds.const,o,m,T)}let(o,m,T){return this._def(r.varKinds.let,o,m,T)}var(o,m,T){return this._def(r.varKinds.var,o,m,T)}assign(o,m,T){return this._leafNode(new i(o,m,T))}add(o,m){return this._leafNode(new u(o,e.operators.ADD,m))}code(o){return typeof o=="function"?o():o!==t.nil&&this._leafNode(new R(o)),this}object(...o){const m=["{"];for(const[T,V]of o)m.length>1&&m.push(","),m.push(T),(T!==V||this.opts.es5)&&(m.push(":"),(0,t.addCodeArg)(m,V));return m.push("}"),new t._Code(m)}if(o,m,T){if(this._blockNode(new v(o)),m&&T)this.code(m).else().code(T).endIf();else if(m)this.code(m).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(o){return this._elseNode(new v(o))}else(){return this._elseNode(new y)}endIf(){return this._endBlockNode(v,y)}_for(o,m){return this._blockNode(o),m&&this.code(m).endFor(),this}for(o,m){return this._for(new w(o),m)}forRange(o,m,T,V,F=this.opts.es5?r.varKinds.var:r.varKinds.let){const B=this._scope.toName(o);return this._for(new I(F,B,m,T),()=>V(B))}forOf(o,m,T,V=r.varKinds.const){const F=this._scope.toName(o);if(this.opts.es5){const B=m instanceof t.Name?m:this.var("_arr",m);return this.forRange("_i",0,(0,t._)`${B}.length`,X=>{this.var(F,(0,t._)`${B}[${X}]`),T(F)})}return this._for(new A("of",V,F,m),()=>T(F))}forIn(o,m,T,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(o,(0,t._)`Object.keys(${m})`,T);const F=this._scope.toName(o);return this._for(new A("in",V,F,m),()=>T(F))}endFor(){return this._endBlockNode(_)}label(o){return this._leafNode(new l(o))}break(o){return this._leafNode(new f(o))}return(o){const m=new C;if(this._blockNode(m),this.code(o),m.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try(o,m,T){if(!m&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new D;if(this._blockNode(V),this.code(o),m){const F=this.name("e");this._currNode=V.catch=new K(F),m(F)}return T&&(this._currNode=V.finally=new W,this.code(T)),this._endBlockNode(K,W)}throw(o){return this._leafNode(new $(o))}block(o,m){return this._blockStarts.push(this._nodes.length),o&&this.code(o).endBlock(m),this}endBlock(o){const m=this._blockStarts.pop();if(m===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-m;if(T<0||o!==void 0&&T!==o)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${o} expected`);return this._nodes.length=m,this}func(o,m=t.nil,T,V){return this._blockNode(new E(o,m,T)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(E)}optimize(o=1){for(;o-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(o){return this._currNode.nodes.push(o),this}_blockNode(o){this._currNode.nodes.push(o),this._nodes.push(o)}_endBlockNode(o,m){const T=this._currNode;if(T instanceof o||m&&T instanceof m)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${m?`${o.kind}/${m.kind}`:o.kind}"`)}_elseNode(o){const m=this._currNode;if(!(m instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=m.else=o,this}get _root(){return this._nodes[0]}get _currNode(){const o=this._nodes;return o[o.length-1]}set _currNode(o){const m=this._nodes;m[m.length-1]=o}}e.CodeGen=oe;function Y(S,o){for(const m in o)S[m]=(S[m]||0)+(o[m]||0);return S}function Pe(S,o){return o instanceof t._CodeOrName?Y(S,o.names):S}function de(S,o,m){if(S instanceof t.Name)return T(S);if(!V(S))return S;return new t._Code(S._items.reduce((F,B)=>(B instanceof t.Name&&(B=T(B)),B instanceof t._Code?F.push(...B._items):F.push(B),F),[]));function T(F){const B=m[F.str];return B===void 0||o[F.str]!==1?F:(delete o[F.str],B)}function V(F){return F instanceof t._Code&&F._items.some(B=>B instanceof t.Name&&o[B.str]===1&&m[B.str]!==void 0)}}function ot(S,o){for(const m in o)S[m]=(S[m]||0)-(o[m]||0)}function it(S){return typeof S=="boolean"||typeof S=="number"||S===null?!S:(0,t._)`!${j(S)}`}e.not=it;const yt=g(e.operators.AND);function At(...S){return S.reduce(yt)}e.and=At;const _t=g(e.operators.OR);function M(...S){return S.reduce(_t)}e.or=M;function g(S){return(o,m)=>o===t.nil?m:m===t.nil?o:(0,t._)`${j(o)} ${S} ${j(m)}`}function j(S){return S instanceof t.Name?S:(0,t._)`(${S})`}})(J);var x={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=J,r=xt;function n(E){const C={};for(const D of E)C[D]=!0;return C}e.toHash=n;function a(E,C){return typeof C=="boolean"?C:Object.keys(C).length===0?!0:(s(E,C),!d(C,E.self.RULES.all))}e.alwaysValidSchema=a;function s(E,C=E.schema){const{opts:D,self:K}=E;if(!D.strictSchema||typeof C=="boolean")return;const W=K.RULES.keywords;for(const oe in C)W[oe]||A(E,`unknown keyword: "${oe}"`)}e.checkUnknownRules=s;function d(E,C){if(typeof E=="boolean")return!E;for(const D in E)if(C[D])return!0;return!1}e.schemaHasRules=d;function i(E,C){if(typeof E=="boolean")return!E;for(const D in E)if(D!=="$ref"&&C.all[D])return!0;return!1}e.schemaHasRulesButRef=i;function u({topSchemaRef:E,schemaPath:C},D,K,W){if(!W){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,t._)`${D}`}return(0,t._)`${E}${C}${(0,t.getProperty)(K)}`}e.schemaRefOrVal=u;function l(E){return R(decodeURIComponent(E))}e.unescapeFragment=l;function f(E){return encodeURIComponent($(E))}e.escapeFragment=f;function $(E){return typeof E=="number"?`${E}`:E.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=$;function R(E){return E.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=R;function k(E,C){if(Array.isArray(E))for(const D of E)C(D);else C(E)}e.eachItem=k;function b({mergeNames:E,mergeToName:C,mergeValues:D,resultToName:K}){return(W,oe,Y,Pe)=>{const de=Y===void 0?oe:Y instanceof t.Name?(oe instanceof t.Name?E(W,oe,Y):C(W,oe,Y),Y):oe instanceof t.Name?(C(W,Y,oe),oe):D(oe,Y);return Pe===t.Name&&!(de instanceof t.Name)?K(W,de):de}}e.mergeEvaluated={props:b({mergeNames:(E,C,D)=>E.if((0,t._)`${D} !== true && ${C} !== undefined`,()=>{E.if((0,t._)`${C} === true`,()=>E.assign(D,!0),()=>E.assign(D,(0,t._)`${D} || {}`).code((0,t._)`Object.assign(${D}, ${C})`))}),mergeToName:(E,C,D)=>E.if((0,t._)`${D} !== true`,()=>{C===!0?E.assign(D,!0):(E.assign(D,(0,t._)`${D} || {}`),y(E,D,C))}),mergeValues:(E,C)=>E===!0?!0:{...E,...C},resultToName:N}),items:b({mergeNames:(E,C,D)=>E.if((0,t._)`${D} !== true && ${C} !== undefined`,()=>E.assign(D,(0,t._)`${C} === true ? true : ${D} > ${C} ? ${D} : ${C}`)),mergeToName:(E,C,D)=>E.if((0,t._)`${D} !== true`,()=>E.assign(D,C===!0?!0:(0,t._)`${D} > ${C} ? ${D} : ${C}`)),mergeValues:(E,C)=>E===!0?!0:Math.max(E,C),resultToName:(E,C)=>E.var("items",C)})};function N(E,C){if(C===!0)return E.var("props",!0);const D=E.var("props",(0,t._)`{}`);return C!==void 0&&y(E,D,C),D}e.evaluatedPropsToName=N;function y(E,C,D){Object.keys(D).forEach(K=>E.assign((0,t._)`${C}${(0,t.getProperty)(K)}`,!0))}e.setEvaluated=y;const v={};function _(E,C){return E.scopeValue("func",{ref:C,code:v[C.code]||(v[C.code]=new r._Code(C.code))})}e.useFunc=_;var w;(function(E){E[E.Num=0]="Num",E[E.Str=1]="Str"})(w=e.Type||(e.Type={}));function I(E,C,D){if(E instanceof t.Name){const K=C===w.Num;return D?K?(0,t._)`"[" + ${E} + "]"`:(0,t._)`"['" + ${E} + "']"`:K?(0,t._)`"/" + ${E}`:(0,t._)`"/" + ${E}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,t.getProperty)(E).toString():"/"+$(E)}e.getErrorPath=I;function A(E,C,D=E.opts.strictSchema){if(D){if(C=`strict mode: ${C}`,D===!0)throw new Error(C);E.self.logger.warn(C)}}e.checkStrictMode=A})(x);var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});const $e=J,ws={data:new $e.Name("data"),valCxt:new $e.Name("valCxt"),instancePath:new $e.Name("instancePath"),parentData:new $e.Name("parentData"),parentDataProperty:new $e.Name("parentDataProperty"),rootData:new $e.Name("rootData"),dynamicAnchors:new $e.Name("dynamicAnchors"),vErrors:new $e.Name("vErrors"),errors:new $e.Name("errors"),this:new $e.Name("this"),self:new $e.Name("self"),scope:new $e.Name("scope"),json:new $e.Name("json"),jsonPos:new $e.Name("jsonPos"),jsonLen:new $e.Name("jsonLen"),jsonPart:new $e.Name("jsonPart")};Ye.default=ws;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=J,r=x,n=Ye;e.keywordError={message:({keyword:y})=>(0,t.str)`must pass "${y}" keyword validation`},e.keyword$DataError={message:({keyword:y,schemaType:v})=>v?(0,t.str)`"${y}" keyword must be ${v} ($data)`:(0,t.str)`"${y}" keyword is invalid ($data)`};function a(y,v=e.keywordError,_,w){const{it:I}=y,{gen:A,compositeRule:E,allErrors:C}=I,D=$(y,v,_);w??(E||C)?u(A,D):l(I,(0,t._)`[${D}]`)}e.reportError=a;function s(y,v=e.keywordError,_){const{it:w}=y,{gen:I,compositeRule:A,allErrors:E}=w,C=$(y,v,_);u(I,C),A||E||l(w,n.default.vErrors)}e.reportExtraError=s;function d(y,v){y.assign(n.default.errors,v),y.if((0,t._)`${n.default.vErrors} !== null`,()=>y.if(v,()=>y.assign((0,t._)`${n.default.vErrors}.length`,v),()=>y.assign(n.default.vErrors,null)))}e.resetErrorsCount=d;function i({gen:y,keyword:v,schemaValue:_,data:w,errsCount:I,it:A}){if(I===void 0)throw new Error("ajv implementation error");const E=y.name("err");y.forRange("i",I,n.default.errors,C=>{y.const(E,(0,t._)`${n.default.vErrors}[${C}]`),y.if((0,t._)`${E}.instancePath === undefined`,()=>y.assign((0,t._)`${E}.instancePath`,(0,t.strConcat)(n.default.instancePath,A.errorPath))),y.assign((0,t._)`${E}.schemaPath`,(0,t.str)`${A.errSchemaPath}/${v}`),A.opts.verbose&&(y.assign((0,t._)`${E}.schema`,_),y.assign((0,t._)`${E}.data`,w))})}e.extendErrors=i;function u(y,v){const _=y.const("err",v);y.if((0,t._)`${n.default.vErrors} === null`,()=>y.assign(n.default.vErrors,(0,t._)`[${_}]`),(0,t._)`${n.default.vErrors}.push(${_})`),y.code((0,t._)`${n.default.errors}++`)}function l(y,v){const{gen:_,validateName:w,schemaEnv:I}=y;I.$async?_.throw((0,t._)`new ${y.ValidationError}(${v})`):(_.assign((0,t._)`${w}.errors`,v),_.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(y,v,_){const{createErrors:w}=y.it;return w===!1?(0,t._)`{}`:R(y,v,_)}function R(y,v,_={}){const{gen:w,it:I}=y,A=[k(I,_),b(y,_)];return N(y,v,A),w.object(...A)}function k({errorPath:y},{instancePath:v}){const _=v?(0,t.str)`${y}${(0,r.getErrorPath)(v,r.Type.Str)}`:y;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,_)]}function b({keyword:y,it:{errSchemaPath:v}},{schemaPath:_,parentSchema:w}){let I=w?v:(0,t.str)`${v}/${y}`;return _&&(I=(0,t.str)`${I}${(0,r.getErrorPath)(_,r.Type.Str)}`),[f.schemaPath,I]}function N(y,{params:v,message:_},w){const{keyword:I,data:A,schemaValue:E,it:C}=y,{opts:D,propertyName:K,topSchemaRef:W,schemaPath:oe}=C;w.push([f.keyword,I],[f.params,typeof v=="function"?v(y):v||(0,t._)`{}`]),D.messages&&w.push([f.message,typeof _=="function"?_(y):_]),D.verbose&&w.push([f.schema,E],[f.parentSchema,(0,t._)`${W}${oe}`],[n.default.data,A]),K&&w.push([f.propertyName,K])}})(tr);Object.defineProperty(Rt,"__esModule",{value:!0});Rt.boolOrEmptySchema=Rt.topBoolOrEmptySchema=void 0;const Es=tr,bs=J,Ss=Ye,Ps={message:"boolean schema is false"};function Ns(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Sa(e,!1):typeof r=="object"&&r.$async===!0?t.return(Ss.default.data):(t.assign((0,bs._)`${n}.errors`,null),t.return(!0))}Rt.topBoolOrEmptySchema=Ns;function Os(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Sa(e)):r.var(t,!0)}Rt.boolOrEmptySchema=Os;function Sa(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,Es.reportError)(a,Ps,void 0,t)}var rr={},vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.getRules=vt.isJSONType=void 0;const Cs=["string","number","integer","boolean","null","object","array"],Ts=new Set(Cs);function ks(e){return typeof e=="string"&&Ts.has(e)}vt.isJSONType=ks;function Rs(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}vt.getRules=Rs;var xe={};Object.defineProperty(xe,"__esModule",{value:!0});xe.shouldUseRule=xe.shouldUseGroup=xe.schemaHasRulesForType=void 0;function Is({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Pa(e,n)}xe.schemaHasRulesForType=Is;function Pa(e,t){return t.rules.some(r=>Na(e,r))}xe.shouldUseGroup=Pa;function Na(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}xe.shouldUseRule=Na;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=vt,r=xe,n=tr,a=J,s=x;var d;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(d=e.DataType||(e.DataType={}));function i(w){const I=u(w.type);if(I.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!I.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&I.push("null")}return I}e.getSchemaTypes=i;function u(w){const I=Array.isArray(w)?w:w?[w]:[];if(I.every(t.isJSONType))return I;throw new Error("type must be JSONType or JSONType[]: "+I.join(","))}e.getJSONTypes=u;function l(w,I){const{gen:A,data:E,opts:C}=w,D=$(I,C.coerceTypes),K=I.length>0&&!(D.length===0&&I.length===1&&(0,r.schemaHasRulesForType)(w,I[0]));if(K){const W=N(I,E,C.strictNumbers,d.Wrong);A.if(W,()=>{D.length?R(w,I,D):v(w)})}return K}e.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function $(w,I){return I?w.filter(A=>f.has(A)||I==="array"&&A==="array"):[]}function R(w,I,A){const{gen:E,data:C,opts:D}=w,K=E.let("dataType",(0,a._)`typeof ${C}`),W=E.let("coerced",(0,a._)`undefined`);D.coerceTypes==="array"&&E.if((0,a._)`${K} == 'object' && Array.isArray(${C}) && ${C}.length == 1`,()=>E.assign(C,(0,a._)`${C}[0]`).assign(K,(0,a._)`typeof ${C}`).if(N(I,C,D.strictNumbers),()=>E.assign(W,C))),E.if((0,a._)`${W} !== undefined`);for(const Y of A)(f.has(Y)||Y==="array"&&D.coerceTypes==="array")&&oe(Y);E.else(),v(w),E.endIf(),E.if((0,a._)`${W} !== undefined`,()=>{E.assign(C,W),k(w,W)});function oe(Y){switch(Y){case"string":E.elseIf((0,a._)`${K} == "number" || ${K} == "boolean"`).assign(W,(0,a._)`"" + ${C}`).elseIf((0,a._)`${C} === null`).assign(W,(0,a._)`""`);return;case"number":E.elseIf((0,a._)`${K} == "boolean" || ${C} === null
              || (${K} == "string" && ${C} && ${C} == +${C})`).assign(W,(0,a._)`+${C}`);return;case"integer":E.elseIf((0,a._)`${K} === "boolean" || ${C} === null
              || (${K} === "string" && ${C} && ${C} == +${C} && !(${C} % 1))`).assign(W,(0,a._)`+${C}`);return;case"boolean":E.elseIf((0,a._)`${C} === "false" || ${C} === 0 || ${C} === null`).assign(W,!1).elseIf((0,a._)`${C} === "true" || ${C} === 1`).assign(W,!0);return;case"null":E.elseIf((0,a._)`${C} === "" || ${C} === 0 || ${C} === false`),E.assign(W,null);return;case"array":E.elseIf((0,a._)`${K} === "string" || ${K} === "number"
              || ${K} === "boolean" || ${C} === null`).assign(W,(0,a._)`[${C}]`)}}}function k({gen:w,parentData:I,parentDataProperty:A},E){w.if((0,a._)`${I} !== undefined`,()=>w.assign((0,a._)`${I}[${A}]`,E))}function b(w,I,A,E=d.Correct){const C=E===d.Correct?a.operators.EQ:a.operators.NEQ;let D;switch(w){case"null":return(0,a._)`${I} ${C} null`;case"array":D=(0,a._)`Array.isArray(${I})`;break;case"object":D=(0,a._)`${I} && typeof ${I} == "object" && !Array.isArray(${I})`;break;case"integer":D=K((0,a._)`!(${I} % 1) && !isNaN(${I})`);break;case"number":D=K();break;default:return(0,a._)`typeof ${I} ${C} ${w}`}return E===d.Correct?D:(0,a.not)(D);function K(W=a.nil){return(0,a.and)((0,a._)`typeof ${I} == "number"`,W,A?(0,a._)`isFinite(${I})`:a.nil)}}e.checkDataType=b;function N(w,I,A,E){if(w.length===1)return b(w[0],I,A,E);let C;const D=(0,s.toHash)(w);if(D.array&&D.object){const K=(0,a._)`typeof ${I} != "object"`;C=D.null?K:(0,a._)`!${I} || ${K}`,delete D.null,delete D.array,delete D.object}else C=a.nil;D.number&&delete D.integer;for(const K in D)C=(0,a.and)(C,b(K,I,A,E));return C}e.checkDataTypes=N;const y={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:I})=>typeof w=="string"?(0,a._)`{type: ${w}}`:(0,a._)`{type: ${I}}`};function v(w){const I=_(w);(0,n.reportError)(I,y)}e.reportTypeError=v;function _(w){const{gen:I,data:A,schema:E}=w,C=(0,s.schemaRefOrVal)(w,E,"type");return{gen:I,keyword:"type",data:A,schema:E.type,schemaCode:C,schemaValue:C,parentSchema:E,params:{},it:w}}})(rr);var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.assignDefaults=void 0;const Ot=J,js=x;function Ds(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)Bn(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,s)=>Bn(e,s,a.default))}kr.assignDefaults=Ds;function Bn(e,t,r){const{gen:n,compositeRule:a,data:s,opts:d}=e;if(r===void 0)return;const i=(0,Ot._)`${s}${(0,Ot.getProperty)(t)}`;if(a){(0,js.checkStrictMode)(e,`default is ignored for: ${i}`);return}let u=(0,Ot._)`${i} === undefined`;d.useDefaults==="empty"&&(u=(0,Ot._)`${u} || ${i} === null || ${i} === ""`),n.if(u,(0,Ot._)`${i} = ${(0,Ot.stringify)(r)}`)}var Xe={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.validateUnion=G.validateArray=G.usePattern=G.callValidateCode=G.schemaProperties=G.allSchemaProperties=G.noPropertyInData=G.propertyInData=G.isOwnProperty=G.hasPropFunc=G.reportMissingProp=G.checkMissingProp=G.checkReportMissingProp=void 0;const ne=J,Br=x,rt=Ye,As=x;function Ms(e,t){const{gen:r,data:n,it:a}=e;r.if(Xr(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,ne._)`${t}`},!0),e.error()})}G.checkReportMissingProp=Ms;function Vs({gen:e,data:t,it:{opts:r}},n,a){return(0,ne.or)(...n.map(s=>(0,ne.and)(Xr(e,t,s,r.ownProperties),(0,ne._)`${a} = ${s}`)))}G.checkMissingProp=Vs;function Fs(e,t){e.setParams({missingProperty:t},!0),e.error()}G.reportMissingProp=Fs;function Oa(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ne._)`Object.prototype.hasOwnProperty`})}G.hasPropFunc=Oa;function Qr(e,t,r){return(0,ne._)`${Oa(e)}.call(${t}, ${r})`}G.isOwnProperty=Qr;function Us(e,t,r,n){const a=(0,ne._)`${t}${(0,ne.getProperty)(r)} !== undefined`;return n?(0,ne._)`${a} && ${Qr(e,t,r)}`:a}G.propertyInData=Us;function Xr(e,t,r,n){const a=(0,ne._)`${t}${(0,ne.getProperty)(r)} === undefined`;return n?(0,ne.or)(a,(0,ne.not)(Qr(e,t,r))):a}G.noPropertyInData=Xr;function Ca(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}G.allSchemaProperties=Ca;function qs(e,t){return Ca(t).filter(r=>!(0,Br.alwaysValidSchema)(e,t[r]))}G.schemaProperties=qs;function zs({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:s},it:d},i,u,l){const f=l?(0,ne._)`${e}, ${t}, ${n}${a}`:t,$=[[rt.default.instancePath,(0,ne.strConcat)(rt.default.instancePath,s)],[rt.default.parentData,d.parentData],[rt.default.parentDataProperty,d.parentDataProperty],[rt.default.rootData,rt.default.rootData]];d.opts.dynamicRef&&$.push([rt.default.dynamicAnchors,rt.default.dynamicAnchors]);const R=(0,ne._)`${f}, ${r.object(...$)}`;return u!==ne.nil?(0,ne._)`${i}.call(${u}, ${R})`:(0,ne._)`${i}(${R})`}G.callValidateCode=zs;const Ls=(0,ne._)`new RegExp`;function Ks({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,s=a(r,n);return e.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,ne._)`${a.code==="new RegExp"?Ls:(0,As.useFunc)(e,a)}(${r}, ${n})`})}G.usePattern=Ks;function Hs(e){const{gen:t,data:r,keyword:n,it:a}=e,s=t.name("valid");if(a.allErrors){const i=t.let("valid",!0);return d(()=>t.assign(i,!1)),i}return t.var(s,!0),d(()=>t.break()),s;function d(i){const u=t.const("len",(0,ne._)`${r}.length`);t.forRange("i",0,u,l=>{e.subschema({keyword:n,dataProp:l,dataPropType:Br.Type.Num},s),t.if((0,ne.not)(s),i)})}}G.validateArray=Hs;function Gs(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(u=>(0,Br.alwaysValidSchema)(a,u))&&!a.opts.unevaluated)return;const d=t.let("valid",!1),i=t.name("_valid");t.block(()=>r.forEach((u,l)=>{const f=e.subschema({keyword:n,schemaProp:l,compositeRule:!0},i);t.assign(d,(0,ne._)`${d} || ${i}`),e.mergeValidEvaluated(f,i)||t.if((0,ne.not)(d))})),e.result(d,()=>e.reset(),()=>e.error(!0))}G.validateUnion=Gs;Object.defineProperty(Xe,"__esModule",{value:!0});Xe.validateKeywordUsage=Xe.validSchemaType=Xe.funcKeywordCode=Xe.macroKeywordCode=void 0;const ge=J,ht=Ye,Js=G,Ws=tr;function Bs(e,t){const{gen:r,keyword:n,schema:a,parentSchema:s,it:d}=e,i=t.macro.call(d.self,a,s,d),u=Ta(r,n,i);d.opts.validateSchema!==!1&&d.self.validateSchema(i,!0);const l=r.name("valid");e.subschema({schema:i,schemaPath:ge.nil,errSchemaPath:`${d.errSchemaPath}/${n}`,topSchemaRef:u,compositeRule:!0},l),e.pass(l,()=>e.error(!0))}Xe.macroKeywordCode=Bs;function Qs(e,t){var r;const{gen:n,keyword:a,schema:s,parentSchema:d,$data:i,it:u}=e;Ys(u,t);const l=!i&&t.compile?t.compile.call(u.self,s,d,u):t.validate,f=Ta(n,a,l),$=n.let("valid");e.block$data($,R),e.ok((r=t.valid)!==null&&r!==void 0?r:$);function R(){if(t.errors===!1)N(),t.modifying&&Qn(e),y(()=>e.error());else{const v=t.async?k():b();t.modifying&&Qn(e),y(()=>Xs(e,v))}}function k(){const v=n.let("ruleErrs",null);return n.try(()=>N((0,ge._)`await `),_=>n.assign($,!1).if((0,ge._)`${_} instanceof ${u.ValidationError}`,()=>n.assign(v,(0,ge._)`${_}.errors`),()=>n.throw(_))),v}function b(){const v=(0,ge._)`${f}.errors`;return n.assign(v,null),N(ge.nil),v}function N(v=t.async?(0,ge._)`await `:ge.nil){const _=u.opts.passContext?ht.default.this:ht.default.self,w=!("compile"in t&&!i||t.schema===!1);n.assign($,(0,ge._)`${v}${(0,Js.callValidateCode)(e,f,_,w)}`,t.modifying)}function y(v){var _;n.if((0,ge.not)((_=t.valid)!==null&&_!==void 0?_:$),v)}}Xe.funcKeywordCode=Qs;function Qn(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,ge._)`${n.parentData}[${n.parentDataProperty}]`))}function Xs(e,t){const{gen:r}=e;r.if((0,ge._)`Array.isArray(${t})`,()=>{r.assign(ht.default.vErrors,(0,ge._)`${ht.default.vErrors} === null ? ${t} : ${ht.default.vErrors}.concat(${t})`).assign(ht.default.errors,(0,ge._)`${ht.default.vErrors}.length`),(0,Ws.extendErrors)(e)},()=>e.error())}function Ys({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Ta(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,ge.stringify)(r)})}function Zs(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}Xe.validSchemaType=Zs;function xs({schema:e,opts:t,self:r,errSchemaPath:n},a,s){if(Array.isArray(a.keyword)?!a.keyword.includes(s):a.keyword!==s)throw new Error("ajv implementation error");const d=a.dependencies;if(d!=null&&d.some(i=>!Object.prototype.hasOwnProperty.call(e,i)))throw new Error(`parent schema must have dependencies of ${s}: ${d.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[s])){const u=`keyword "${s}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(u);else throw new Error(u)}}Xe.validateKeywordUsage=xs;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.extendSubschemaMode=st.extendSubschemaData=st.getSubschema=void 0;const We=J,ka=x;function eo(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:s,topSchemaRef:d}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const i=e.schema[t];return r===void 0?{schema:i,schemaPath:(0,We._)`${e.schemaPath}${(0,We.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:i[r],schemaPath:(0,We._)`${e.schemaPath}${(0,We.getProperty)(t)}${(0,We.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,ka.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||s===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:d,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}st.getSubschema=eo;function to(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:s,propertyName:d}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:i}=t;if(r!==void 0){const{errorPath:l,dataPathArr:f,opts:$}=t,R=i.let("data",(0,We._)`${t.data}${(0,We.getProperty)(r)}`,!0);u(R),e.errorPath=(0,We.str)`${l}${(0,ka.getErrorPath)(r,n,$.jsPropertySyntax)}`,e.parentDataProperty=(0,We._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(a!==void 0){const l=a instanceof We.Name?a:i.let("data",a,!0);u(l),d!==void 0&&(e.propertyName=d)}s&&(e.dataTypes=s);function u(l){e.data=l,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,l]}}st.extendSubschemaData=to;function ro(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:s}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),s!==void 0&&(e.allErrors=s),e.jtdDiscriminator=t,e.jtdMetadata=r}st.extendSubschemaMode=ro;var me={},Ra=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var d=s[a];if(!e(t[d],r[d]))return!1}return!0}return t!==t&&r!==r},Ia={exports:{}},at=Ia.exports=function(e,t,r){typeof t=="function"&&(r=t,t={}),r=t.cb||r;var n=typeof r=="function"?r:r.pre||function(){},a=r.post||function(){};yr(t,n,a,e,"",e)};at.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};at.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};at.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};at.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function yr(e,t,r,n,a,s,d,i,u,l){if(n&&typeof n=="object"&&!Array.isArray(n)){t(n,a,s,d,i,u,l);for(var f in n){var $=n[f];if(Array.isArray($)){if(f in at.arrayKeywords)for(var R=0;R<$.length;R++)yr(e,t,r,$[R],a+"/"+f+"/"+R,s,a,f,n,R)}else if(f in at.propsKeywords){if($&&typeof $=="object")for(var k in $)yr(e,t,r,$[k],a+"/"+f+"/"+no(k),s,a,f,n,k)}else(f in at.keywords||e.allKeys&&!(f in at.skipKeywords))&&yr(e,t,r,$,a+"/"+f,s,a,f,n)}r(n,a,s,d,i,u,l)}}function no(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}var ao=Ia.exports;Object.defineProperty(me,"__esModule",{value:!0});me.getSchemaRefs=me.resolveUrl=me.normalizeId=me._getFullPath=me.getFullPath=me.inlineRef=void 0;const so=x,oo=Ra,io=ao,co=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function lo(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Kr(e):t?ja(e)<=t:!1}me.inlineRef=lo;const uo=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Kr(e){for(const t in e){if(uo.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Kr)||typeof r=="object"&&Kr(r))return!0}return!1}function ja(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!co.has(r)&&(typeof e[r]=="object"&&(0,so.eachItem)(e[r],n=>t+=ja(n)),t===1/0))return 1/0}return t}function Da(e,t="",r){r!==!1&&(t=kt(t));const n=e.parse(t);return Aa(e,n)}me.getFullPath=Da;function Aa(e,t){return e.serialize(t).split("#")[0]+"#"}me._getFullPath=Aa;const fo=/#\/?$/;function kt(e){return e?e.replace(fo,""):""}me.normalizeId=kt;function ho(e,t,r){return r=kt(r),e.resolve(t,r)}me.resolveUrl=ho;const mo=/^[a-z_][-a-z0-9._]*$/i;function po(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=kt(e[r]||t),s={"":a},d=Da(n,a,!1),i={},u=new Set;return io(e,{allKeys:!0},($,R,k,b)=>{if(b===void 0)return;const N=d+R;let y=s[b];typeof $[r]=="string"&&(y=v.call(this,$[r])),_.call(this,$.$anchor),_.call(this,$.$dynamicAnchor),s[R]=y;function v(w){const I=this.opts.uriResolver.resolve;if(w=kt(y?I(y,w):w),u.has(w))throw f(w);u.add(w);let A=this.refs[w];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?l($,A.schema,w):w!==kt(N)&&(w[0]==="#"?(l($,i[w],w),i[w]=$):this.refs[w]=N),w}function _(w){if(typeof w=="string"){if(!mo.test(w))throw new Error(`invalid anchor "${w}"`);v.call(this,`#${w}`)}}}),i;function l($,R,k){if(R!==void 0&&!oo($,R))throw f(k)}function f($){return new Error(`reference "${$}" resolves to more than one schema`)}}me.getSchemaRefs=po;Object.defineProperty(qe,"__esModule",{value:!0});qe.getData=qe.KeywordCxt=qe.validateFunctionCode=void 0;const Ma=Rt,Xn=rr,Yr=xe,Er=rr,vo=kr,Bt=Xe,Mr=st,U=J,L=Ye,$o=me,et=x,Gt=tr;function yo(e){if(Ua(e)&&(qa(e),Fa(e))){wo(e);return}Va(e,()=>(0,Ma.topBoolOrEmptySchema)(e))}qe.validateFunctionCode=yo;function Va({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},s){a.code.es5?e.func(t,(0,U._)`${L.default.data}, ${L.default.valCxt}`,n.$async,()=>{e.code((0,U._)`"use strict"; ${Yn(r,a)}`),go(e,a),e.code(s)}):e.func(t,(0,U._)`${L.default.data}, ${_o(a)}`,n.$async,()=>e.code(Yn(r,a)).code(s))}function _o(e){return(0,U._)`{${L.default.instancePath}="", ${L.default.parentData}, ${L.default.parentDataProperty}, ${L.default.rootData}=${L.default.data}${e.dynamicRef?(0,U._)`, ${L.default.dynamicAnchors}={}`:U.nil}}={}`}function go(e,t){e.if(L.default.valCxt,()=>{e.var(L.default.instancePath,(0,U._)`${L.default.valCxt}.${L.default.instancePath}`),e.var(L.default.parentData,(0,U._)`${L.default.valCxt}.${L.default.parentData}`),e.var(L.default.parentDataProperty,(0,U._)`${L.default.valCxt}.${L.default.parentDataProperty}`),e.var(L.default.rootData,(0,U._)`${L.default.valCxt}.${L.default.rootData}`),t.dynamicRef&&e.var(L.default.dynamicAnchors,(0,U._)`${L.default.valCxt}.${L.default.dynamicAnchors}`)},()=>{e.var(L.default.instancePath,(0,U._)`""`),e.var(L.default.parentData,(0,U._)`undefined`),e.var(L.default.parentDataProperty,(0,U._)`undefined`),e.var(L.default.rootData,L.default.data),t.dynamicRef&&e.var(L.default.dynamicAnchors,(0,U._)`{}`)})}function wo(e){const{schema:t,opts:r,gen:n}=e;Va(e,()=>{r.$comment&&t.$comment&&La(e),No(e),n.let(L.default.vErrors,null),n.let(L.default.errors,0),r.unevaluated&&Eo(e),za(e),To(e)})}function Eo(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,U._)`${r}.evaluated`),t.if((0,U._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,U._)`${e.evaluated}.props`,(0,U._)`undefined`)),t.if((0,U._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,U._)`${e.evaluated}.items`,(0,U._)`undefined`))}function Yn(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,U._)`/*# sourceURL=${r} */`:U.nil}function bo(e,t){if(Ua(e)&&(qa(e),Fa(e))){So(e,t);return}(0,Ma.boolOrEmptySchema)(e,t)}function Fa({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function Ua(e){return typeof e.schema!="boolean"}function So(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&La(e),Oo(e),Co(e);const s=n.const("_errs",L.default.errors);za(e,s),n.var(t,(0,U._)`${s} === ${L.default.errors}`)}function qa(e){(0,et.checkUnknownRules)(e),Po(e)}function za(e,t){if(e.opts.jtd)return Zn(e,[],!1,t);const r=(0,Xn.getSchemaTypes)(e.schema),n=(0,Xn.coerceAndCheckDataType)(e,r);Zn(e,r,!n,t)}function Po(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,et.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function No(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,et.checkStrictMode)(e,"default is ignored in the schema root")}function Oo(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,$o.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Co(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function La({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const s=r.$comment;if(a.$comment===!0)e.code((0,U._)`${L.default.self}.logger.log(${s})`);else if(typeof a.$comment=="function"){const d=(0,U.str)`${n}/$comment`,i=e.scopeValue("root",{ref:t.root});e.code((0,U._)`${L.default.self}.opts.$comment(${s}, ${d}, ${i}.schema)`)}}function To(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:s}=e;r.$async?t.if((0,U._)`${L.default.errors} === 0`,()=>t.return(L.default.data),()=>t.throw((0,U._)`new ${a}(${L.default.vErrors})`)):(t.assign((0,U._)`${n}.errors`,L.default.vErrors),s.unevaluated&&ko(e),t.return((0,U._)`${L.default.errors} === 0`))}function ko({gen:e,evaluated:t,props:r,items:n}){r instanceof U.Name&&e.assign((0,U._)`${t}.props`,r),n instanceof U.Name&&e.assign((0,U._)`${t}.items`,n)}function Zn(e,t,r,n){const{gen:a,schema:s,data:d,allErrors:i,opts:u,self:l}=e,{RULES:f}=l;if(s.$ref&&(u.ignoreKeywordsWithRef||!(0,et.schemaHasRulesButRef)(s,f))){a.block(()=>Ga(e,"$ref",f.all.$ref.definition));return}u.jtd||Ro(e,t),a.block(()=>{for(const R of f.rules)$(R);$(f.post)});function $(R){(0,Yr.shouldUseGroup)(s,R)&&(R.type?(a.if((0,Er.checkDataType)(R.type,d,u.strictNumbers)),xn(e,R),t.length===1&&t[0]===R.type&&r&&(a.else(),(0,Er.reportTypeError)(e)),a.endIf()):xn(e,R),i||a.if((0,U._)`${L.default.errors} === ${n||0}`))}}function xn(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,vo.assignDefaults)(e,t.type),r.block(()=>{for(const s of t.rules)(0,Yr.shouldUseRule)(n,s)&&Ga(e,s.keyword,s.definition,t.type)})}function Ro(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Io(e,t),e.opts.allowUnionTypes||jo(e,t),Do(e,e.dataTypes))}function Io(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{Ka(e.dataTypes,r)||Zr(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),Mo(e,t)}}function jo(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&Zr(e,"use allowUnionTypes to allow union type keyword")}function Do(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,Yr.shouldUseRule)(e.schema,a)){const{type:s}=a.definition;s.length&&!s.some(d=>Ao(t,d))&&Zr(e,`missing type "${s.join(",")}" for keyword "${n}"`)}}}function Ao(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function Ka(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function Mo(e,t){const r=[];for(const n of e.dataTypes)Ka(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function Zr(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,et.checkStrictMode)(e,t,e.opts.strictTypes)}class Ha{constructor(t,r,n){if((0,Bt.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,et.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",Ja(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Bt.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",L.default.errors))}result(t,r,n){this.failResult((0,U.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,U.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,U._)`${r} !== undefined && (${(0,U.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Gt.reportExtraError:Gt.reportError)(this,this.def.error,r)}$dataError(){(0,Gt.reportError)(this,this.def.$dataError||Gt.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Gt.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=U.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=U.nil,r=U.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:s,def:d}=this;n.if((0,U.or)((0,U._)`${a} === undefined`,r)),t!==U.nil&&n.assign(t,!0),(s.length||d.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==U.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:s}=this;return(0,U.or)(d(),i());function d(){if(n.length){if(!(r instanceof U.Name))throw new Error("ajv implementation error");const u=Array.isArray(n)?n:[n];return(0,U._)`${(0,Er.checkDataTypes)(u,r,s.opts.strictNumbers,Er.DataType.Wrong)}`}return U.nil}function i(){if(a.validateSchema){const u=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,U._)`!${u}(${r})`}return U.nil}}subschema(t,r){const n=(0,Mr.getSubschema)(this.it,t);(0,Mr.extendSubschemaData)(n,this.it,t),(0,Mr.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return bo(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=et.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=et.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,U.Name)),!0}}qe.KeywordCxt=Ha;function Ga(e,t,r,n){const a=new Ha(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Bt.funcKeywordCode)(a,r):"macro"in r?(0,Bt.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Bt.funcKeywordCode)(a,r)}const Vo=/^\/(?:[^~]|~0|~1)*$/,Fo=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ja(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,s;if(e==="")return L.default.rootData;if(e[0]==="/"){if(!Vo.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,s=L.default.rootData}else{const l=Fo.exec(e);if(!l)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+l[1];if(a=l[2],a==="#"){if(f>=t)throw new Error(u("property/index",f));return n[t-f]}if(f>t)throw new Error(u("data",f));if(s=r[t-f],!a)return s}let d=s;const i=a.split("/");for(const l of i)l&&(s=(0,U._)`${s}${(0,U.getProperty)((0,et.unescapeJsonPointer)(l))}`,d=(0,U._)`${d} && ${s}`);return d;function u(l,f){return`Cannot access ${l} ${f} levels up, current level is ${t}`}}qe.getData=Ja;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});class Uo extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}nr.default=Uo;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});const Vr=me;class qo extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,Vr.resolveUrl)(t,r,n),this.missingSchema=(0,Vr.normalizeId)((0,Vr.getFullPath)(t,this.missingRef))}}ar.default=qo;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.resolveSchema=be.getCompilingSchema=be.resolveRef=be.compileSchema=be.SchemaEnv=void 0;const Re=J,zo=nr,ft=Ye,je=me,ea=x,Lo=qe;class Rr{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,je.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}be.SchemaEnv=Rr;function xr(e){const t=Wa.call(this,e);if(t)return t;const r=(0,je.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:s}=this.opts,d=new Re.CodeGen(this.scope,{es5:n,lines:a,ownProperties:s});let i;e.$async&&(i=d.scopeValue("Error",{ref:zo.default,code:(0,Re._)`require("ajv/dist/runtime/validation_error").default`}));const u=d.scopeName("validate");e.validateName=u;const l={gen:d,allErrors:this.opts.allErrors,data:ft.default.data,parentData:ft.default.parentData,parentDataProperty:ft.default.parentDataProperty,dataNames:[ft.default.data],dataPathArr:[Re.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,Re.stringify)(e.schema)}:{ref:e.schema}),validateName:u,ValidationError:i,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:Re.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,Re._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,Lo.validateFunctionCode)(l),d.optimize(this.opts.code.optimize);const $=d.toString();f=`${d.scopeRefs(ft.default.scope)}return ${$}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const k=new Function(`${ft.default.self}`,`${ft.default.scope}`,f)(this,this.scope.get());if(this.scope.value(u,{ref:k}),k.errors=null,k.schema=e.schema,k.schemaEnv=e,e.$async&&(k.$async=!0),this.opts.code.source===!0&&(k.source={validateName:u,validateCode:$,scopeValues:d._values}),this.opts.unevaluated){const{props:b,items:N}=l;k.evaluated={props:b instanceof Re.Name?void 0:b,items:N instanceof Re.Name?void 0:N,dynamicProps:b instanceof Re.Name,dynamicItems:N instanceof Re.Name},k.source&&(k.source.evaluated=(0,Re.stringify)(k.evaluated))}return e.validate=k,e}catch($){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),$}finally{this._compilations.delete(e)}}be.compileSchema=xr;function Ko(e,t,r){var n;r=(0,je.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let s=Jo.call(this,e,r);if(s===void 0){const d=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:i}=this.opts;d&&(s=new Rr({schema:d,schemaId:i,root:e,baseId:t}))}if(s!==void 0)return e.refs[r]=Ho.call(this,s)}be.resolveRef=Ko;function Ho(e){return(0,je.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:xr.call(this,e)}function Wa(e){for(const t of this._compilations)if(Go(t,e))return t}be.getCompilingSchema=Wa;function Go(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Jo(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||Ir.call(this,e,t)}function Ir(e,t){const r=this.opts.uriResolver.parse(t),n=(0,je._getFullPath)(this.opts.uriResolver,r);let a=(0,je.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Fr.call(this,r,e);const s=(0,je.normalizeId)(n),d=this.refs[s]||this.schemas[s];if(typeof d=="string"){const i=Ir.call(this,e,d);return typeof(i==null?void 0:i.schema)!="object"?void 0:Fr.call(this,r,i)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||xr.call(this,d),s===(0,je.normalizeId)(t)){const{schema:i}=d,{schemaId:u}=this.opts,l=i[u];return l&&(a=(0,je.resolveUrl)(this.opts.uriResolver,a,l)),new Rr({schema:i,schemaId:u,root:e,baseId:a})}return Fr.call(this,r,d)}}be.resolveSchema=Ir;const Wo=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Fr(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const i of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const u=r[(0,ea.unescapeFragment)(i)];if(u===void 0)return;r=u;const l=typeof r=="object"&&r[this.opts.schemaId];!Wo.has(i)&&l&&(t=(0,je.resolveUrl)(this.opts.uriResolver,t,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,ea.schemaHasRulesButRef)(r,this.RULES)){const i=(0,je.resolveUrl)(this.opts.uriResolver,t,r.$ref);s=Ir.call(this,n,i)}const{schemaId:d}=this.opts;if(s=s||new Rr({schema:r,schemaId:d,root:n,baseId:t}),s.schema!==s.root.schema)return s}const Bo="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Qo="Meta-schema for $data reference (JSON AnySchema extension proposal)",Xo="object",Yo=["$data"],Zo={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},xo=!1,ei={$id:Bo,description:Qo,type:Xo,required:Yo,properties:Zo,additionalProperties:xo};var en={},Hr={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(e,t){(function(r,n){n(t)})(_s,function(r){function n(){for(var h=arguments.length,c=Array(h),p=0;p<h;p++)c[p]=arguments[p];if(c.length>1){c[0]=c[0].slice(0,-1);for(var O=c.length-1,P=1;P<O;++P)c[P]=c[P].slice(1,-1);return c[O]=c[O].slice(1),c.join("")}else return c[0]}function a(h){return"(?:"+h+")"}function s(h){return h===void 0?"undefined":h===null?"null":Object.prototype.toString.call(h).split(" ").pop().split("]").shift().toLowerCase()}function d(h){return h.toUpperCase()}function i(h){return h!=null?h instanceof Array?h:typeof h.length!="number"||h.split||h.setInterval||h.call?[h]:Array.prototype.slice.call(h):[]}function u(h,c){var p=h;if(c)for(var O in c)p[O]=c[O];return p}function l(h){var c="[A-Za-z]",p="[0-9]",O=n(p,"[A-Fa-f]"),P=a(a("%[EFef]"+O+"%"+O+O+"%"+O+O)+"|"+a("%[89A-Fa-f]"+O+"%"+O+O)+"|"+a("%"+O+O)),q="[\\:\\/\\?\\#\\[\\]\\@]",z="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Z=n(q,z),re=h?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ce=h?"[\\uE000-\\uF8FF]":"[]",Q=n(c,p,"[\\-\\.\\_\\~]",re);a(c+n(c,p,"[\\+\\-\\.]")+"*"),a(a(P+"|"+n(Q,z,"[\\:]"))+"*");var te=a(a("25[0-5]")+"|"+a("2[0-4]"+p)+"|"+a("1"+p+p)+"|"+a("0?[1-9]"+p)+"|0?0?"+p),le=a(te+"\\."+te+"\\."+te+"\\."+te),H=a(O+"{1,4}"),ae=a(a(H+"\\:"+H)+"|"+le),fe=a(a(H+"\\:")+"{6}"+ae),se=a("\\:\\:"+a(H+"\\:")+"{5}"+ae),tt=a(a(H)+"?\\:\\:"+a(H+"\\:")+"{4}"+ae),He=a(a(a(H+"\\:")+"{0,1}"+H)+"?\\:\\:"+a(H+"\\:")+"{3}"+ae),Ge=a(a(a(H+"\\:")+"{0,2}"+H)+"?\\:\\:"+a(H+"\\:")+"{2}"+ae),Nt=a(a(a(H+"\\:")+"{0,3}"+H)+"?\\:\\:"+H+"\\:"+ae),ut=a(a(a(H+"\\:")+"{0,4}"+H)+"?\\:\\:"+ae),Oe=a(a(a(H+"\\:")+"{0,5}"+H)+"?\\:\\:"+H),Je=a(a(a(H+"\\:")+"{0,6}"+H)+"?\\:\\:"),dt=a([fe,se,tt,He,Ge,Nt,ut,Oe,Je].join("|")),Ze=a(a(Q+"|"+P)+"+");a("[vV]"+O+"+\\."+n(Q,z,"[\\:]")+"+"),a(a(P+"|"+n(Q,z))+"*");var Kt=a(P+"|"+n(Q,z,"[\\:\\@]"));return a(a(P+"|"+n(Q,z,"[\\@]"))+"+"),a(a(Kt+"|"+n("[\\/\\?]",ce))+"*"),{NOT_SCHEME:new RegExp(n("[^]",c,p,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(n("[^\\%\\:]",Q,z),"g"),NOT_HOST:new RegExp(n("[^\\%\\[\\]\\:]",Q,z),"g"),NOT_PATH:new RegExp(n("[^\\%\\/\\:\\@]",Q,z),"g"),NOT_PATH_NOSCHEME:new RegExp(n("[^\\%\\/\\@]",Q,z),"g"),NOT_QUERY:new RegExp(n("[^\\%]",Q,z,"[\\:\\@\\/\\?]",ce),"g"),NOT_FRAGMENT:new RegExp(n("[^\\%]",Q,z,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(n("[^]",Q,z),"g"),UNRESERVED:new RegExp(Q,"g"),OTHER_CHARS:new RegExp(n("[^\\%]",Q,Z),"g"),PCT_ENCODED:new RegExp(P,"g"),IPV4ADDRESS:new RegExp("^("+le+")$"),IPV6ADDRESS:new RegExp("^\\[?("+dt+")"+a(a("\\%25|\\%(?!"+O+"{2})")+"("+Ze+")")+"?\\]?$")}}var f=l(!1),$=l(!0),R=function(){function h(c,p){var O=[],P=!0,q=!1,z=void 0;try{for(var Z=c[Symbol.iterator](),re;!(P=(re=Z.next()).done)&&(O.push(re.value),!(p&&O.length===p));P=!0);}catch(ce){q=!0,z=ce}finally{try{!P&&Z.return&&Z.return()}finally{if(q)throw z}}return O}return function(c,p){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c))return h(c,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),k=function(h){if(Array.isArray(h)){for(var c=0,p=Array(h.length);c<h.length;c++)p[c]=h[c];return p}else return Array.from(h)},b=2147483647,N=36,y=1,v=26,_=38,w=700,I=72,A=128,E="-",C=/^xn--/,D=/[^\0-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,W={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},oe=N-y,Y=Math.floor,Pe=String.fromCharCode;function de(h){throw new RangeError(W[h])}function ot(h,c){for(var p=[],O=h.length;O--;)p[O]=c(h[O]);return p}function it(h,c){var p=h.split("@"),O="";p.length>1&&(O=p[0]+"@",h=p[1]),h=h.replace(K,".");var P=h.split("."),q=ot(P,c).join(".");return O+q}function yt(h){for(var c=[],p=0,O=h.length;p<O;){var P=h.charCodeAt(p++);if(P>=55296&&P<=56319&&p<O){var q=h.charCodeAt(p++);(q&64512)==56320?c.push(((P&1023)<<10)+(q&1023)+65536):(c.push(P),p--)}else c.push(P)}return c}var At=function(c){return String.fromCodePoint.apply(String,k(c))},_t=function(c){return c-48<10?c-22:c-65<26?c-65:c-97<26?c-97:N},M=function(c,p){return c+22+75*(c<26)-((p!=0)<<5)},g=function(c,p,O){var P=0;for(c=O?Y(c/w):c>>1,c+=Y(c/p);c>oe*v>>1;P+=N)c=Y(c/oe);return Y(P+(oe+1)*c/(c+_))},j=function(c){var p=[],O=c.length,P=0,q=A,z=I,Z=c.lastIndexOf(E);Z<0&&(Z=0);for(var re=0;re<Z;++re)c.charCodeAt(re)>=128&&de("not-basic"),p.push(c.charCodeAt(re));for(var ce=Z>0?Z+1:0;ce<O;){for(var Q=P,te=1,le=N;;le+=N){ce>=O&&de("invalid-input");var H=_t(c.charCodeAt(ce++));(H>=N||H>Y((b-P)/te))&&de("overflow"),P+=H*te;var ae=le<=z?y:le>=z+v?v:le-z;if(H<ae)break;var fe=N-ae;te>Y(b/fe)&&de("overflow"),te*=fe}var se=p.length+1;z=g(P-Q,se,Q==0),Y(P/se)>b-q&&de("overflow"),q+=Y(P/se),P%=se,p.splice(P++,0,q)}return String.fromCodePoint.apply(String,p)},S=function(c){var p=[];c=yt(c);var O=c.length,P=A,q=0,z=I,Z=!0,re=!1,ce=void 0;try{for(var Q=c[Symbol.iterator](),te;!(Z=(te=Q.next()).done);Z=!0){var le=te.value;le<128&&p.push(Pe(le))}}catch(Ht){re=!0,ce=Ht}finally{try{!Z&&Q.return&&Q.return()}finally{if(re)throw ce}}var H=p.length,ae=H;for(H&&p.push(E);ae<O;){var fe=b,se=!0,tt=!1,He=void 0;try{for(var Ge=c[Symbol.iterator](),Nt;!(se=(Nt=Ge.next()).done);se=!0){var ut=Nt.value;ut>=P&&ut<fe&&(fe=ut)}}catch(Ht){tt=!0,He=Ht}finally{try{!se&&Ge.return&&Ge.return()}finally{if(tt)throw He}}var Oe=ae+1;fe-P>Y((b-q)/Oe)&&de("overflow"),q+=(fe-P)*Oe,P=fe;var Je=!0,dt=!1,Ze=void 0;try{for(var Kt=c[Symbol.iterator](),zn;!(Je=(zn=Kt.next()).done);Je=!0){var Ln=zn.value;if(Ln<P&&++q>b&&de("overflow"),Ln==P){for(var ir=q,cr=N;;cr+=N){var lr=cr<=z?y:cr>=z+v?v:cr-z;if(ir<lr)break;var Kn=ir-lr,Hn=N-lr;p.push(Pe(M(lr+Kn%Hn,0))),ir=Y(Kn/Hn)}p.push(Pe(M(ir,0))),z=g(q,Oe,ae==H),q=0,++ae}}}catch(Ht){dt=!0,Ze=Ht}finally{try{!Je&&Kt.return&&Kt.return()}finally{if(dt)throw Ze}}++q,++P}return p.join("")},o=function(c){return it(c,function(p){return C.test(p)?j(p.slice(4).toLowerCase()):p})},m=function(c){return it(c,function(p){return D.test(p)?"xn--"+S(p):p})},T={version:"2.1.0",ucs2:{decode:yt,encode:At},decode:j,encode:S,toASCII:m,toUnicode:o},V={};function F(h){var c=h.charCodeAt(0),p=void 0;return c<16?p="%0"+c.toString(16).toUpperCase():c<128?p="%"+c.toString(16).toUpperCase():c<2048?p="%"+(c>>6|192).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase():p="%"+(c>>12|224).toString(16).toUpperCase()+"%"+(c>>6&63|128).toString(16).toUpperCase()+"%"+(c&63|128).toString(16).toUpperCase(),p}function B(h){for(var c="",p=0,O=h.length;p<O;){var P=parseInt(h.substr(p+1,2),16);if(P<128)c+=String.fromCharCode(P),p+=3;else if(P>=194&&P<224){if(O-p>=6){var q=parseInt(h.substr(p+4,2),16);c+=String.fromCharCode((P&31)<<6|q&63)}else c+=h.substr(p,6);p+=6}else if(P>=224){if(O-p>=9){var z=parseInt(h.substr(p+4,2),16),Z=parseInt(h.substr(p+7,2),16);c+=String.fromCharCode((P&15)<<12|(z&63)<<6|Z&63)}else c+=h.substr(p,9);p+=9}else c+=h.substr(p,3),p+=3}return c}function X(h,c){function p(O){var P=B(O);return P.match(c.UNRESERVED)?P:O}return h.scheme&&(h.scheme=String(h.scheme).replace(c.PCT_ENCODED,p).toLowerCase().replace(c.NOT_SCHEME,"")),h.userinfo!==void 0&&(h.userinfo=String(h.userinfo).replace(c.PCT_ENCODED,p).replace(c.NOT_USERINFO,F).replace(c.PCT_ENCODED,d)),h.host!==void 0&&(h.host=String(h.host).replace(c.PCT_ENCODED,p).toLowerCase().replace(c.NOT_HOST,F).replace(c.PCT_ENCODED,d)),h.path!==void 0&&(h.path=String(h.path).replace(c.PCT_ENCODED,p).replace(h.scheme?c.NOT_PATH:c.NOT_PATH_NOSCHEME,F).replace(c.PCT_ENCODED,d)),h.query!==void 0&&(h.query=String(h.query).replace(c.PCT_ENCODED,p).replace(c.NOT_QUERY,F).replace(c.PCT_ENCODED,d)),h.fragment!==void 0&&(h.fragment=String(h.fragment).replace(c.PCT_ENCODED,p).replace(c.NOT_FRAGMENT,F).replace(c.PCT_ENCODED,d)),h}function ie(h){return h.replace(/^0*(.*)/,"$1")||"0"}function ze(h,c){var p=h.match(c.IPV4ADDRESS)||[],O=R(p,2),P=O[1];return P?P.split(".").map(ie).join("."):h}function gt(h,c){var p=h.match(c.IPV6ADDRESS)||[],O=R(p,3),P=O[1],q=O[2];if(P){for(var z=P.toLowerCase().split("::").reverse(),Z=R(z,2),re=Z[0],ce=Z[1],Q=ce?ce.split(":").map(ie):[],te=re.split(":").map(ie),le=c.IPV4ADDRESS.test(te[te.length-1]),H=le?7:8,ae=te.length-H,fe=Array(H),se=0;se<H;++se)fe[se]=Q[se]||te[ae+se]||"";le&&(fe[H-1]=ze(fe[H-1],c));var tt=fe.reduce(function(Oe,Je,dt){if(!Je||Je==="0"){var Ze=Oe[Oe.length-1];Ze&&Ze.index+Ze.length===dt?Ze.length++:Oe.push({index:dt,length:1})}return Oe},[]),He=tt.sort(function(Oe,Je){return Je.length-Oe.length})[0],Ge=void 0;if(He&&He.length>1){var Nt=fe.slice(0,He.index),ut=fe.slice(He.index+He.length);Ge=Nt.join(":")+"::"+ut.join(":")}else Ge=fe.join(":");return q&&(Ge+="%"+q),Ge}else return h}var Mt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Vt="".match(/(){0}/)[1]===void 0;function Se(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p={},O=c.iri!==!1?$:f;c.reference==="suffix"&&(h=(c.scheme?c.scheme+":":"")+"//"+h);var P=h.match(Mt);if(P){Vt?(p.scheme=P[1],p.userinfo=P[3],p.host=P[4],p.port=parseInt(P[5],10),p.path=P[6]||"",p.query=P[7],p.fragment=P[8],isNaN(p.port)&&(p.port=P[5])):(p.scheme=P[1]||void 0,p.userinfo=h.indexOf("@")!==-1?P[3]:void 0,p.host=h.indexOf("//")!==-1?P[4]:void 0,p.port=parseInt(P[5],10),p.path=P[6]||"",p.query=h.indexOf("?")!==-1?P[7]:void 0,p.fragment=h.indexOf("#")!==-1?P[8]:void 0,isNaN(p.port)&&(p.port=h.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),p.host&&(p.host=gt(ze(p.host,O),O)),p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&!p.path&&p.query===void 0?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",c.reference&&c.reference!=="suffix"&&c.reference!==p.reference&&(p.error=p.error||"URI is not a "+c.reference+" reference.");var q=V[(c.scheme||p.scheme||"").toLowerCase()];if(!c.unicodeSupport&&(!q||!q.unicodeSupport)){if(p.host&&(c.domainHost||q&&q.domainHost))try{p.host=T.toASCII(p.host.replace(O.PCT_ENCODED,B).toLowerCase())}catch(z){p.error=p.error||"Host's domain name can not be converted to ASCII via punycode: "+z}X(p,f)}else X(p,O);q&&q.parse&&q.parse(p,c)}else p.error=p.error||"URI can not be parsed.";return p}function Ft(h,c){var p=c.iri!==!1?$:f,O=[];return h.userinfo!==void 0&&(O.push(h.userinfo),O.push("@")),h.host!==void 0&&O.push(gt(ze(String(h.host),p),p).replace(p.IPV6ADDRESS,function(P,q,z){return"["+q+(z?"%25"+z:"")+"]"})),(typeof h.port=="number"||typeof h.port=="string")&&(O.push(":"),O.push(String(h.port))),O.length?O.join(""):void 0}var wt=/^\.\.?\//,Et=/^\/\.(\/|$)/,bt=/^\/\.\.(\/|$)/,Ut=/^\/?(?:.|\n)*?(?=\/|$)/;function Le(h){for(var c=[];h.length;)if(h.match(wt))h=h.replace(wt,"");else if(h.match(Et))h=h.replace(Et,"/");else if(h.match(bt))h=h.replace(bt,"/"),c.pop();else if(h==="."||h==="..")h="";else{var p=h.match(Ut);if(p){var O=p[0];h=h.slice(O.length),c.push(O)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function we(h){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=c.iri?$:f,O=[],P=V[(c.scheme||h.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(h,c),h.host&&!p.IPV6ADDRESS.test(h.host)){if(c.domainHost||P&&P.domainHost)try{h.host=c.iri?T.toUnicode(h.host):T.toASCII(h.host.replace(p.PCT_ENCODED,B).toLowerCase())}catch(Z){h.error=h.error||"Host's domain name can not be converted to "+(c.iri?"Unicode":"ASCII")+" via punycode: "+Z}}X(h,p),c.reference!=="suffix"&&h.scheme&&(O.push(h.scheme),O.push(":"));var q=Ft(h,c);if(q!==void 0&&(c.reference!=="suffix"&&O.push("//"),O.push(q),h.path&&h.path.charAt(0)!=="/"&&O.push("/")),h.path!==void 0){var z=h.path;!c.absolutePath&&(!P||!P.absolutePath)&&(z=Le(z)),q===void 0&&(z=z.replace(/^\/\//,"/%2F")),O.push(z)}return h.query!==void 0&&(O.push("?"),O.push(h.query)),h.fragment!==void 0&&(O.push("#"),O.push(h.fragment)),O.join("")}function St(h,c){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},O=arguments[3],P={};return O||(h=Se(we(h,p),p),c=Se(we(c,p),p)),p=p||{},!p.tolerant&&c.scheme?(P.scheme=c.scheme,P.userinfo=c.userinfo,P.host=c.host,P.port=c.port,P.path=Le(c.path||""),P.query=c.query):(c.userinfo!==void 0||c.host!==void 0||c.port!==void 0?(P.userinfo=c.userinfo,P.host=c.host,P.port=c.port,P.path=Le(c.path||""),P.query=c.query):(c.path?(c.path.charAt(0)==="/"?P.path=Le(c.path):((h.userinfo!==void 0||h.host!==void 0||h.port!==void 0)&&!h.path?P.path="/"+c.path:h.path?P.path=h.path.slice(0,h.path.lastIndexOf("/")+1)+c.path:P.path=c.path,P.path=Le(P.path)),P.query=c.query):(P.path=h.path,c.query!==void 0?P.query=c.query:P.query=h.query),P.userinfo=h.userinfo,P.host=h.host,P.port=h.port),P.scheme=h.scheme),P.fragment=c.fragment,P}function qt(h,c,p){var O=u({scheme:"null"},p);return we(St(Se(h,O),Se(c,O),O,!0),O)}function ct(h,c){return typeof h=="string"?h=we(Se(h,c),c):s(h)==="object"&&(h=Se(we(h,c),c)),h}function zt(h,c,p){return typeof h=="string"?h=we(Se(h,p),p):s(h)==="object"&&(h=we(h,p)),typeof c=="string"?c=we(Se(c,p),p):s(c)==="object"&&(c=we(c,p)),h===c}function or(h,c){return h&&h.toString().replace(!c||!c.iri?f.ESCAPE:$.ESCAPE,F)}function Ne(h,c){return h&&h.toString().replace(!c||!c.iri?f.PCT_ENCODED:$.PCT_ENCODED,B)}var lt={scheme:"http",domainHost:!0,parse:function(c,p){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c},serialize:function(c,p){var O=String(c.scheme).toLowerCase()==="https";return(c.port===(O?443:80)||c.port==="")&&(c.port=void 0),c.path||(c.path="/"),c}},jn={scheme:"https",domainHost:lt.domainHost,parse:lt.parse,serialize:lt.serialize};function Dn(h){return typeof h.secure=="boolean"?h.secure:String(h.scheme).toLowerCase()==="wss"}var Lt={scheme:"ws",domainHost:!0,parse:function(c,p){var O=c;return O.secure=Dn(O),O.resourceName=(O.path||"/")+(O.query?"?"+O.query:""),O.path=void 0,O.query=void 0,O},serialize:function(c,p){if((c.port===(Dn(c)?443:80)||c.port==="")&&(c.port=void 0),typeof c.secure=="boolean"&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){var O=c.resourceName.split("?"),P=R(O,2),q=P[0],z=P[1];c.path=q&&q!=="/"?q:void 0,c.query=z,c.resourceName=void 0}return c.fragment=void 0,c}},An={scheme:"wss",domainHost:Lt.domainHost,parse:Lt.parse,serialize:Lt.serialize},as={},Mn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ke="[0-9A-Fa-f]",ss=a(a("%[EFef]"+Ke+"%"+Ke+Ke+"%"+Ke+Ke)+"|"+a("%[89A-Fa-f]"+Ke+"%"+Ke+Ke)+"|"+a("%"+Ke+Ke)),os="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",is="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",cs=n(is,'[\\"\\\\]'),ls="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",us=new RegExp(Mn,"g"),Pt=new RegExp(ss,"g"),ds=new RegExp(n("[^]",os,"[\\.]",'[\\"]',cs),"g"),Vn=new RegExp(n("[^]",Mn,ls),"g"),fs=Vn;function Dr(h){var c=B(h);return c.match(us)?c:h}var Fn={scheme:"mailto",parse:function(c,p){var O=c,P=O.to=O.path?O.path.split(","):[];if(O.path=void 0,O.query){for(var q=!1,z={},Z=O.query.split("&"),re=0,ce=Z.length;re<ce;++re){var Q=Z[re].split("=");switch(Q[0]){case"to":for(var te=Q[1].split(","),le=0,H=te.length;le<H;++le)P.push(te[le]);break;case"subject":O.subject=Ne(Q[1],p);break;case"body":O.body=Ne(Q[1],p);break;default:q=!0,z[Ne(Q[0],p)]=Ne(Q[1],p);break}}q&&(O.headers=z)}O.query=void 0;for(var ae=0,fe=P.length;ae<fe;++ae){var se=P[ae].split("@");if(se[0]=Ne(se[0]),p.unicodeSupport)se[1]=Ne(se[1],p).toLowerCase();else try{se[1]=T.toASCII(Ne(se[1],p).toLowerCase())}catch(tt){O.error=O.error||"Email address's domain name can not be converted to ASCII via punycode: "+tt}P[ae]=se.join("@")}return O},serialize:function(c,p){var O=c,P=i(c.to);if(P){for(var q=0,z=P.length;q<z;++q){var Z=String(P[q]),re=Z.lastIndexOf("@"),ce=Z.slice(0,re).replace(Pt,Dr).replace(Pt,d).replace(ds,F),Q=Z.slice(re+1);try{Q=p.iri?T.toUnicode(Q):T.toASCII(Ne(Q,p).toLowerCase())}catch(ae){O.error=O.error||"Email address's domain name can not be converted to "+(p.iri?"Unicode":"ASCII")+" via punycode: "+ae}P[q]=ce+"@"+Q}O.path=P.join(",")}var te=c.headers=c.headers||{};c.subject&&(te.subject=c.subject),c.body&&(te.body=c.body);var le=[];for(var H in te)te[H]!==as[H]&&le.push(H.replace(Pt,Dr).replace(Pt,d).replace(Vn,F)+"="+te[H].replace(Pt,Dr).replace(Pt,d).replace(fs,F));return le.length&&(O.query=le.join("&")),O}},hs=/^([^\:]+)\:(.*)/,Un={scheme:"urn",parse:function(c,p){var O=c.path&&c.path.match(hs),P=c;if(O){var q=p.scheme||P.scheme||"urn",z=O[1].toLowerCase(),Z=O[2],re=q+":"+(p.nid||z),ce=V[re];P.nid=z,P.nss=Z,P.path=void 0,ce&&(P=ce.parse(P,p))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(c,p){var O=p.scheme||c.scheme||"urn",P=c.nid,q=O+":"+(p.nid||P),z=V[q];z&&(c=z.serialize(c,p));var Z=c,re=c.nss;return Z.path=(P||p.nid)+":"+re,Z}},ms=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qn={scheme:"urn:uuid",parse:function(c,p){var O=c;return O.uuid=O.nss,O.nss=void 0,!p.tolerant&&(!O.uuid||!O.uuid.match(ms))&&(O.error=O.error||"UUID is not valid."),O},serialize:function(c,p){var O=c;return O.nss=(c.uuid||"").toLowerCase(),O}};V[lt.scheme]=lt,V[jn.scheme]=jn,V[Lt.scheme]=Lt,V[An.scheme]=An,V[Fn.scheme]=Fn,V[Un.scheme]=Un,V[qn.scheme]=qn,r.SCHEMES=V,r.pctEncChar=F,r.pctDecChars=B,r.parse=Se,r.removeDotSegments=Le,r.serialize=we,r.resolveComponents=St,r.resolve=qt,r.normalize=ct,r.equal=zt,r.escapeComponent=or,r.unescapeComponent=Ne,Object.defineProperty(r,"__esModule",{value:!0})})})(Hr,Hr.exports);var ti=Hr.exports;Object.defineProperty(en,"__esModule",{value:!0});const Ba=ti;Ba.code='require("ajv/dist/runtime/uri").default';en.default=Ba;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=qe;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=J;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=nr,a=ar,s=vt,d=be,i=J,u=me,l=rr,f=x,$=ei,R=en,k=(M,g)=>new RegExp(M,g);k.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],N=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),y={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},_=200;function w(M){var g,j,S,o,m,T,V,F,B,X,ie,ze,gt,Mt,Vt,Se,Ft,wt,Et,bt,Ut,Le,we,St,qt;const ct=M.strict,zt=(g=M.code)===null||g===void 0?void 0:g.optimize,or=zt===!0||zt===void 0?1:zt||0,Ne=(S=(j=M.code)===null||j===void 0?void 0:j.regExp)!==null&&S!==void 0?S:k,lt=(o=M.uriResolver)!==null&&o!==void 0?o:R.default;return{strictSchema:(T=(m=M.strictSchema)!==null&&m!==void 0?m:ct)!==null&&T!==void 0?T:!0,strictNumbers:(F=(V=M.strictNumbers)!==null&&V!==void 0?V:ct)!==null&&F!==void 0?F:!0,strictTypes:(X=(B=M.strictTypes)!==null&&B!==void 0?B:ct)!==null&&X!==void 0?X:"log",strictTuples:(ze=(ie=M.strictTuples)!==null&&ie!==void 0?ie:ct)!==null&&ze!==void 0?ze:"log",strictRequired:(Mt=(gt=M.strictRequired)!==null&&gt!==void 0?gt:ct)!==null&&Mt!==void 0?Mt:!1,code:M.code?{...M.code,optimize:or,regExp:Ne}:{optimize:or,regExp:Ne},loopRequired:(Vt=M.loopRequired)!==null&&Vt!==void 0?Vt:_,loopEnum:(Se=M.loopEnum)!==null&&Se!==void 0?Se:_,meta:(Ft=M.meta)!==null&&Ft!==void 0?Ft:!0,messages:(wt=M.messages)!==null&&wt!==void 0?wt:!0,inlineRefs:(Et=M.inlineRefs)!==null&&Et!==void 0?Et:!0,schemaId:(bt=M.schemaId)!==null&&bt!==void 0?bt:"$id",addUsedSchema:(Ut=M.addUsedSchema)!==null&&Ut!==void 0?Ut:!0,validateSchema:(Le=M.validateSchema)!==null&&Le!==void 0?Le:!0,validateFormats:(we=M.validateFormats)!==null&&we!==void 0?we:!0,unicodeRegExp:(St=M.unicodeRegExp)!==null&&St!==void 0?St:!0,int32range:(qt=M.int32range)!==null&&qt!==void 0?qt:!0,uriResolver:lt}}class I{constructor(g={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,g=this.opts={...g,...w(g)};const{es5:j,lines:S}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:N,es5:j,lines:S}),this.logger=Y(g.logger);const o=g.validateFormats;g.validateFormats=!1,this.RULES=(0,s.getRules)(),A.call(this,y,g,"NOT SUPPORTED"),A.call(this,v,g,"DEPRECATED","warn"),this._metaOpts=W.call(this),g.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),g.keywords&&K.call(this,g.keywords),typeof g.meta=="object"&&this.addMetaSchema(g.meta),C.call(this),g.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:g,meta:j,schemaId:S}=this.opts;let o=$;S==="id"&&(o={...$},o.id=o.$id,delete o.$id),j&&g&&this.addMetaSchema(o,o[S],!1)}defaultMeta(){const{meta:g,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof g=="object"?g[j]||g:void 0}validate(g,j){let S;if(typeof g=="string"){if(S=this.getSchema(g),!S)throw new Error(`no schema with key or ref "${g}"`)}else S=this.compile(g);const o=S(j);return"$async"in S||(this.errors=S.errors),o}compile(g,j){const S=this._addSchema(g,j);return S.validate||this._compileSchemaEnv(S)}compileAsync(g,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:S}=this.opts;return o.call(this,g,j);async function o(X,ie){await m.call(this,X.$schema);const ze=this._addSchema(X,ie);return ze.validate||T.call(this,ze)}async function m(X){X&&!this.getSchema(X)&&await o.call(this,{$ref:X},!0)}async function T(X){try{return this._compileSchemaEnv(X)}catch(ie){if(!(ie instanceof a.default))throw ie;return V.call(this,ie),await F.call(this,ie.missingSchema),T.call(this,X)}}function V({missingSchema:X,missingRef:ie}){if(this.refs[X])throw new Error(`AnySchema ${X} is loaded but ${ie} cannot be resolved`)}async function F(X){const ie=await B.call(this,X);this.refs[X]||await m.call(this,ie.$schema),this.refs[X]||this.addSchema(ie,X,j)}async function B(X){const ie=this._loading[X];if(ie)return ie;try{return await(this._loading[X]=S(X))}finally{delete this._loading[X]}}}addSchema(g,j,S,o=this.opts.validateSchema){if(Array.isArray(g)){for(const T of g)this.addSchema(T,void 0,S,o);return this}let m;if(typeof g=="object"){const{schemaId:T}=this.opts;if(m=g[T],m!==void 0&&typeof m!="string")throw new Error(`schema ${T} must be string`)}return j=(0,u.normalizeId)(j||m),this._checkUnique(j),this.schemas[j]=this._addSchema(g,S,j,o,!0),this}addMetaSchema(g,j,S=this.opts.validateSchema){return this.addSchema(g,j,!0,S),this}validateSchema(g,j){if(typeof g=="boolean")return!0;let S;if(S=g.$schema,S!==void 0&&typeof S!="string")throw new Error("$schema must be a string");if(S=S||this.opts.defaultMeta||this.defaultMeta(),!S)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const o=this.validate(S,g);if(!o&&j){const m="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(m);else throw new Error(m)}return o}getSchema(g){let j;for(;typeof(j=E.call(this,g))=="string";)g=j;if(j===void 0){const{schemaId:S}=this.opts,o=new d.SchemaEnv({schema:{},schemaId:S});if(j=d.resolveSchema.call(this,o,g),!j)return;this.refs[g]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(g){if(g instanceof RegExp)return this._removeAllSchemas(this.schemas,g),this._removeAllSchemas(this.refs,g),this;switch(typeof g){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=E.call(this,g);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[g],delete this.refs[g],this}case"object":{const j=g;this._cache.delete(j);let S=g[this.opts.schemaId];return S&&(S=(0,u.normalizeId)(S),delete this.schemas[S],delete this.refs[S]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(g){for(const j of g)this.addKeyword(j);return this}addKeyword(g,j){let S;if(typeof g=="string")S=g,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=S);else if(typeof g=="object"&&j===void 0){if(j=g,S=j.keyword,Array.isArray(S)&&!S.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(de.call(this,S,j),!j)return(0,f.eachItem)(S,m=>ot.call(this,m)),this;yt.call(this,j);const o={...j,type:(0,l.getJSONTypes)(j.type),schemaType:(0,l.getJSONTypes)(j.schemaType)};return(0,f.eachItem)(S,o.type.length===0?m=>ot.call(this,m,o):m=>o.type.forEach(T=>ot.call(this,m,o,T))),this}getKeyword(g){const j=this.RULES.all[g];return typeof j=="object"?j.definition:!!j}removeKeyword(g){const{RULES:j}=this;delete j.keywords[g],delete j.all[g];for(const S of j.rules){const o=S.rules.findIndex(m=>m.keyword===g);o>=0&&S.rules.splice(o,1)}return this}addFormat(g,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[g]=j,this}errorsText(g=this.errors,{separator:j=", ",dataVar:S="data"}={}){return!g||g.length===0?"No errors":g.map(o=>`${S}${o.instancePath} ${o.message}`).reduce((o,m)=>o+j+m)}$dataMetaSchema(g,j){const S=this.RULES.all;g=JSON.parse(JSON.stringify(g));for(const o of j){const m=o.split("/").slice(1);let T=g;for(const V of m)T=T[V];for(const V in S){const F=S[V];if(typeof F!="object")continue;const{$data:B}=F.definition,X=T[V];B&&X&&(T[V]=_t(X))}}return g}_removeAllSchemas(g,j){for(const S in g){const o=g[S];(!j||j.test(S))&&(typeof o=="string"?delete g[S]:o&&!o.meta&&(this._cache.delete(o.schema),delete g[S]))}}_addSchema(g,j,S,o=this.opts.validateSchema,m=this.opts.addUsedSchema){let T;const{schemaId:V}=this.opts;if(typeof g=="object")T=g[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof g!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(g);if(F!==void 0)return F;S=(0,u.normalizeId)(T||S);const B=u.getSchemaRefs.call(this,g,S);return F=new d.SchemaEnv({schema:g,schemaId:V,meta:j,baseId:S,localRefs:B}),this._cache.set(F.schema,F),m&&!S.startsWith("#")&&(S&&this._checkUnique(S),this.refs[S]=F),o&&this.validateSchema(g,!0),F}_checkUnique(g){if(this.schemas[g]||this.refs[g])throw new Error(`schema with key or id "${g}" already exists`)}_compileSchemaEnv(g){if(g.meta?this._compileMetaSchema(g):d.compileSchema.call(this,g),!g.validate)throw new Error("ajv implementation error");return g.validate}_compileMetaSchema(g){const j=this.opts;this.opts=this._metaOpts;try{d.compileSchema.call(this,g)}finally{this.opts=j}}}e.default=I,I.ValidationError=n.default,I.MissingRefError=a.default;function A(M,g,j,S="error"){for(const o in M){const m=o;m in g&&this.logger[S](`${j}: option ${o}. ${M[m]}`)}}function E(M){return M=(0,u.normalizeId)(M),this.schemas[M]||this.refs[M]}function C(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const g in M)this.addSchema(M[g],g)}function D(){for(const M in this.opts.formats){const g=this.opts.formats[M];g&&this.addFormat(M,g)}}function K(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const g in M){const j=M[g];j.keyword||(j.keyword=g),this.addKeyword(j)}}function W(){const M={...this.opts};for(const g of b)delete M[g];return M}const oe={log(){},warn(){},error(){}};function Y(M){if(M===!1)return oe;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const Pe=/^[a-z_$][a-z0-9_$:-]*$/i;function de(M,g){const{RULES:j}=this;if((0,f.eachItem)(M,S=>{if(j.keywords[S])throw new Error(`Keyword ${S} is already defined`);if(!Pe.test(S))throw new Error(`Keyword ${S} has invalid name`)}),!!g&&g.$data&&!("code"in g||"validate"in g))throw new Error('$data keyword must have "code" or "validate" function')}function ot(M,g,j){var S;const o=g==null?void 0:g.post;if(j&&o)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:m}=this;let T=o?m.post:m.rules.find(({type:F})=>F===j);if(T||(T={type:j,rules:[]},m.rules.push(T)),m.keywords[M]=!0,!g)return;const V={keyword:M,definition:{...g,type:(0,l.getJSONTypes)(g.type),schemaType:(0,l.getJSONTypes)(g.schemaType)}};g.before?it.call(this,T,V,g.before):T.rules.push(V),m.all[M]=V,(S=g.implements)===null||S===void 0||S.forEach(F=>this.addKeyword(F))}function it(M,g,j){const S=M.rules.findIndex(o=>o.keyword===j);S>=0?M.rules.splice(S,0,g):(M.rules.push(g),this.logger.warn(`rule ${j} is not defined`))}function yt(M){let{metaSchema:g}=M;g!==void 0&&(M.$data&&this.opts.$data&&(g=_t(g)),M.validateSchema=this.compile(g,!0))}const At={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function _t(M){return{anyOf:[M,At]}}})(ba);var tn={},rn={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});const ri={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};nn.default=ri;var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.callRef=$t.getValidate=void 0;const ni=ar,ta=G,Ee=J,Ct=Ye,ra=be,hr=x,ai={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:s,validateName:d,opts:i,self:u}=n,{root:l}=s;if((r==="#"||r==="#/")&&a===l.baseId)return $();const f=ra.resolveRef.call(u,l,a,r);if(f===void 0)throw new ni.default(n.opts.uriResolver,a,r);if(f instanceof ra.SchemaEnv)return R(f);return k(f);function $(){if(s===l)return _r(e,d,s,s.$async);const b=t.scopeValue("root",{ref:l});return _r(e,(0,Ee._)`${b}.validate`,l,l.$async)}function R(b){const N=Qa(e,b);_r(e,N,b,b.$async)}function k(b){const N=t.scopeValue("schema",i.code.source===!0?{ref:b,code:(0,Ee.stringify)(b)}:{ref:b}),y=t.name("valid"),v=e.subschema({schema:b,dataTypes:[],schemaPath:Ee.nil,topSchemaRef:N,errSchemaPath:r},y);e.mergeEvaluated(v),e.ok(y)}}};function Qa(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Ee._)`${r.scopeValue("wrapper",{ref:t})}.validate`}$t.getValidate=Qa;function _r(e,t,r,n){const{gen:a,it:s}=e,{allErrors:d,schemaEnv:i,opts:u}=s,l=u.passContext?Ct.default.this:Ee.nil;n?f():$();function f(){if(!i.$async)throw new Error("async schema referenced by sync schema");const b=a.let("valid");a.try(()=>{a.code((0,Ee._)`await ${(0,ta.callValidateCode)(e,t,l)}`),k(t),d||a.assign(b,!0)},N=>{a.if((0,Ee._)`!(${N} instanceof ${s.ValidationError})`,()=>a.throw(N)),R(N),d||a.assign(b,!1)}),e.ok(b)}function $(){e.result((0,ta.callValidateCode)(e,t,l),()=>k(t),()=>R(t))}function R(b){const N=(0,Ee._)`${b}.errors`;a.assign(Ct.default.vErrors,(0,Ee._)`${Ct.default.vErrors} === null ? ${N} : ${Ct.default.vErrors}.concat(${N})`),a.assign(Ct.default.errors,(0,Ee._)`${Ct.default.vErrors}.length`)}function k(b){var N;if(!s.opts.unevaluated)return;const y=(N=r==null?void 0:r.validate)===null||N===void 0?void 0:N.evaluated;if(s.props!==!0)if(y&&!y.dynamicProps)y.props!==void 0&&(s.props=hr.mergeEvaluated.props(a,y.props,s.props));else{const v=a.var("props",(0,Ee._)`${b}.evaluated.props`);s.props=hr.mergeEvaluated.props(a,v,s.props,Ee.Name)}if(s.items!==!0)if(y&&!y.dynamicItems)y.items!==void 0&&(s.items=hr.mergeEvaluated.items(a,y.items,s.items));else{const v=a.var("items",(0,Ee._)`${b}.evaluated.items`);s.items=hr.mergeEvaluated.items(a,v,s.items,Ee.Name)}}}$t.callRef=_r;$t.default=ai;Object.defineProperty(rn,"__esModule",{value:!0});const si=nn,oi=$t,ii=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",si.default,oi.default];rn.default=ii;var an={},sn={};Object.defineProperty(sn,"__esModule",{value:!0});const br=J,nt=br.operators,Sr={maximum:{okStr:"<=",ok:nt.LTE,fail:nt.GT},minimum:{okStr:">=",ok:nt.GTE,fail:nt.LT},exclusiveMaximum:{okStr:"<",ok:nt.LT,fail:nt.GTE},exclusiveMinimum:{okStr:">",ok:nt.GT,fail:nt.LTE}},ci={message:({keyword:e,schemaCode:t})=>(0,br.str)`must be ${Sr[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,br._)`{comparison: ${Sr[e].okStr}, limit: ${t}}`},li={keyword:Object.keys(Sr),type:"number",schemaType:"number",$data:!0,error:ci,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,br._)`${r} ${Sr[t].fail} ${n} || isNaN(${r})`)}};sn.default=li;var on={};Object.defineProperty(on,"__esModule",{value:!0});const Qt=J,ui={message:({schemaCode:e})=>(0,Qt.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,Qt._)`{multipleOf: ${e}}`},di={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ui,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,s=a.opts.multipleOfPrecision,d=t.let("res"),i=s?(0,Qt._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${s}`:(0,Qt._)`${d} !== parseInt(${d})`;e.fail$data((0,Qt._)`(${n} === 0 || (${d} = ${r}/${n}, ${i}))`)}};on.default=di;var cn={},ln={};Object.defineProperty(ln,"__esModule",{value:!0});function Xa(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}ln.default=Xa;Xa.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(cn,"__esModule",{value:!0});const mt=J,fi=x,hi=ln,mi={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,mt.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,mt._)`{limit: ${e}}`},pi={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:mi,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,s=t==="maxLength"?mt.operators.GT:mt.operators.LT,d=a.opts.unicode===!1?(0,mt._)`${r}.length`:(0,mt._)`${(0,fi.useFunc)(e.gen,hi.default)}(${r})`;e.fail$data((0,mt._)`${d} ${s} ${n}`)}};cn.default=pi;var un={};Object.defineProperty(un,"__esModule",{value:!0});const vi=G,Pr=J,$i={message:({schemaCode:e})=>(0,Pr.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,Pr._)`{pattern: ${e}}`},yi={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:$i,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:s}=e,d=s.opts.unicodeRegExp?"u":"",i=r?(0,Pr._)`(new RegExp(${a}, ${d}))`:(0,vi.usePattern)(e,n);e.fail$data((0,Pr._)`!${i}.test(${t})`)}};un.default=yi;var dn={};Object.defineProperty(dn,"__esModule",{value:!0});const Xt=J,_i={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Xt.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Xt._)`{limit: ${e}}`},gi={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:_i,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Xt.operators.GT:Xt.operators.LT;e.fail$data((0,Xt._)`Object.keys(${r}).length ${a} ${n}`)}};dn.default=gi;var fn={};Object.defineProperty(fn,"__esModule",{value:!0});const Jt=G,Yt=J,wi=x,Ei={message:({params:{missingProperty:e}})=>(0,Yt.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Yt._)`{missingProperty: ${e}}`},bi={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Ei,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:s,it:d}=e,{opts:i}=d;if(!s&&r.length===0)return;const u=r.length>=i.loopRequired;if(d.allErrors?l():f(),i.strictRequired){const k=e.parentSchema.properties,{definedProperties:b}=e.it;for(const N of r)if((k==null?void 0:k[N])===void 0&&!b.has(N)){const y=d.schemaEnv.baseId+d.errSchemaPath,v=`required property "${N}" is not defined at "${y}" (strictRequired)`;(0,wi.checkStrictMode)(d,v,d.opts.strictRequired)}}function l(){if(u||s)e.block$data(Yt.nil,$);else for(const k of r)(0,Jt.checkReportMissingProp)(e,k)}function f(){const k=t.let("missing");if(u||s){const b=t.let("valid",!0);e.block$data(b,()=>R(k,b)),e.ok(b)}else t.if((0,Jt.checkMissingProp)(e,r,k)),(0,Jt.reportMissingProp)(e,k),t.else()}function $(){t.forOf("prop",n,k=>{e.setParams({missingProperty:k}),t.if((0,Jt.noPropertyInData)(t,a,k,i.ownProperties),()=>e.error())})}function R(k,b){e.setParams({missingProperty:k}),t.forOf(k,n,()=>{t.assign(b,(0,Jt.propertyInData)(t,a,k,i.ownProperties)),t.if((0,Yt.not)(b),()=>{e.error(),t.break()})},Yt.nil)}}};fn.default=bi;var hn={};Object.defineProperty(hn,"__esModule",{value:!0});const Zt=J,Si={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Zt.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Zt._)`{limit: ${e}}`},Pi={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Si,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Zt.operators.GT:Zt.operators.LT;e.fail$data((0,Zt._)`${r}.length ${a} ${n}`)}};hn.default=Pi;var mn={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});const Ya=Ra;Ya.code='require("ajv/dist/runtime/equal").default';sr.default=Ya;Object.defineProperty(mn,"__esModule",{value:!0});const Ur=rr,he=J,Ni=x,Oi=sr,Ci={message:({params:{i:e,j:t}})=>(0,he.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,he._)`{i: ${e}, j: ${t}}`},Ti={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ci,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:s,schemaCode:d,it:i}=e;if(!n&&!a)return;const u=t.let("valid"),l=s.items?(0,Ur.getSchemaTypes)(s.items):[];e.block$data(u,f,(0,he._)`${d} === false`),e.ok(u);function f(){const b=t.let("i",(0,he._)`${r}.length`),N=t.let("j");e.setParams({i:b,j:N}),t.assign(u,!0),t.if((0,he._)`${b} > 1`,()=>($()?R:k)(b,N))}function $(){return l.length>0&&!l.some(b=>b==="object"||b==="array")}function R(b,N){const y=t.name("item"),v=(0,Ur.checkDataTypes)(l,y,i.opts.strictNumbers,Ur.DataType.Wrong),_=t.const("indices",(0,he._)`{}`);t.for((0,he._)`;${b}--;`,()=>{t.let(y,(0,he._)`${r}[${b}]`),t.if(v,(0,he._)`continue`),l.length>1&&t.if((0,he._)`typeof ${y} == "string"`,(0,he._)`${y} += "_"`),t.if((0,he._)`typeof ${_}[${y}] == "number"`,()=>{t.assign(N,(0,he._)`${_}[${y}]`),e.error(),t.assign(u,!1).break()}).code((0,he._)`${_}[${y}] = ${b}`)})}function k(b,N){const y=(0,Ni.useFunc)(t,Oi.default),v=t.name("outer");t.label(v).for((0,he._)`;${b}--;`,()=>t.for((0,he._)`${N} = ${b}; ${N}--;`,()=>t.if((0,he._)`${y}(${r}[${b}], ${r}[${N}])`,()=>{e.error(),t.assign(u,!1).break(v)})))}}};mn.default=Ti;var pn={};Object.defineProperty(pn,"__esModule",{value:!0});const Gr=J,ki=x,Ri=sr,Ii={message:"must be equal to constant",params:({schemaCode:e})=>(0,Gr._)`{allowedValue: ${e}}`},ji={keyword:"const",$data:!0,error:Ii,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:s}=e;n||s&&typeof s=="object"?e.fail$data((0,Gr._)`!${(0,ki.useFunc)(t,Ri.default)}(${r}, ${a})`):e.fail((0,Gr._)`${s} !== ${r}`)}};pn.default=ji;var vn={};Object.defineProperty(vn,"__esModule",{value:!0});const Wt=J,Di=x,Ai=sr,Mi={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Wt._)`{allowedValues: ${e}}`},Vi={keyword:"enum",schemaType:"array",$data:!0,error:Mi,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:s,it:d}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const i=a.length>=d.opts.loopEnum;let u;const l=()=>u??(u=(0,Di.useFunc)(t,Ai.default));let f;if(i||n)f=t.let("valid"),e.block$data(f,$);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const k=t.const("vSchema",s);f=(0,Wt.or)(...a.map((b,N)=>R(k,N)))}e.pass(f);function $(){t.assign(f,!1),t.forOf("v",s,k=>t.if((0,Wt._)`${l()}(${r}, ${k})`,()=>t.assign(f,!0).break()))}function R(k,b){const N=a[b];return typeof N=="object"&&N!==null?(0,Wt._)`${l()}(${r}, ${k}[${b}])`:(0,Wt._)`${r} === ${N}`}}};vn.default=Vi;Object.defineProperty(an,"__esModule",{value:!0});const Fi=sn,Ui=on,qi=cn,zi=un,Li=dn,Ki=fn,Hi=hn,Gi=mn,Ji=pn,Wi=vn,Bi=[Fi.default,Ui.default,qi.default,zi.default,Li.default,Ki.default,Hi.default,Gi.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Ji.default,Wi.default];an.default=Bi;var $n={},jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.validateAdditionalItems=void 0;const pt=J,Jr=x,Qi={message:({params:{len:e}})=>(0,pt.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,pt._)`{limit: ${e}}`},Xi={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Qi,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Jr.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Za(e,n)}};function Za(e,t){const{gen:r,schema:n,data:a,keyword:s,it:d}=e;d.items=!0;const i=r.const("len",(0,pt._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,pt._)`${i} <= ${t.length}`);else if(typeof n=="object"&&!(0,Jr.alwaysValidSchema)(d,n)){const l=r.var("valid",(0,pt._)`${i} <= ${t.length}`);r.if((0,pt.not)(l),()=>u(l)),e.ok(l)}function u(l){r.forRange("i",t.length,i,f=>{e.subschema({keyword:s,dataProp:f,dataPropType:Jr.Type.Num},l),d.allErrors||r.if((0,pt.not)(l),()=>r.break())})}}jt.validateAdditionalItems=Za;jt.default=Xi;var yn={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.validateTuple=void 0;const na=J,gr=x,Yi=G,Zi={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return xa(e,"additionalItems",t);r.items=!0,!(0,gr.alwaysValidSchema)(r,t)&&e.ok((0,Yi.validateArray)(e))}};function xa(e,t,r=e.schema){const{gen:n,parentSchema:a,data:s,keyword:d,it:i}=e;f(a),i.opts.unevaluated&&r.length&&i.items!==!0&&(i.items=gr.mergeEvaluated.items(n,r.length,i.items));const u=n.name("valid"),l=n.const("len",(0,na._)`${s}.length`);r.forEach(($,R)=>{(0,gr.alwaysValidSchema)(i,$)||(n.if((0,na._)`${l} > ${R}`,()=>e.subschema({keyword:d,schemaProp:R,dataProp:R},u)),e.ok(u))});function f($){const{opts:R,errSchemaPath:k}=i,b=r.length,N=b===$.minItems&&(b===$.maxItems||$[t]===!1);if(R.strictTuples&&!N){const y=`"${d}" is ${b}-tuple, but minItems or maxItems/${t} are not specified or different at path "${k}"`;(0,gr.checkStrictMode)(i,y,R.strictTuples)}}}Dt.validateTuple=xa;Dt.default=Zi;Object.defineProperty(yn,"__esModule",{value:!0});const xi=Dt,ec={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,xi.validateTuple)(e,"items")};yn.default=ec;var _n={};Object.defineProperty(_n,"__esModule",{value:!0});const aa=J,tc=x,rc=G,nc=jt,ac={message:({params:{len:e}})=>(0,aa.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,aa._)`{limit: ${e}}`},sc={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:ac,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,tc.alwaysValidSchema)(n,t)&&(a?(0,nc.validateAdditionalItems)(e,a):e.ok((0,rc.validateArray)(e)))}};_n.default=sc;var gn={};Object.defineProperty(gn,"__esModule",{value:!0});const Ce=J,mr=x,oc={message:({params:{min:e,max:t}})=>t===void 0?(0,Ce.str)`must contain at least ${e} valid item(s)`:(0,Ce.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,Ce._)`{minContains: ${e}}`:(0,Ce._)`{minContains: ${e}, maxContains: ${t}}`},ic={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:oc,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;let d,i;const{minContains:u,maxContains:l}=n;s.opts.next?(d=u===void 0?1:u,i=l):d=1;const f=t.const("len",(0,Ce._)`${a}.length`);if(e.setParams({min:d,max:i}),i===void 0&&d===0){(0,mr.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(i!==void 0&&d>i){(0,mr.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,mr.alwaysValidSchema)(s,r)){let N=(0,Ce._)`${f} >= ${d}`;i!==void 0&&(N=(0,Ce._)`${N} && ${f} <= ${i}`),e.pass(N);return}s.items=!0;const $=t.name("valid");i===void 0&&d===1?k($,()=>t.if($,()=>t.break())):d===0?(t.let($,!0),i!==void 0&&t.if((0,Ce._)`${a}.length > 0`,R)):(t.let($,!1),R()),e.result($,()=>e.reset());function R(){const N=t.name("_valid"),y=t.let("count",0);k(N,()=>t.if(N,()=>b(y)))}function k(N,y){t.forRange("i",0,f,v=>{e.subschema({keyword:"contains",dataProp:v,dataPropType:mr.Type.Num,compositeRule:!0},N),y()})}function b(N){t.code((0,Ce._)`${N}++`),i===void 0?t.if((0,Ce._)`${N} >= ${d}`,()=>t.assign($,!0).break()):(t.if((0,Ce._)`${N} > ${i}`,()=>t.assign($,!1).break()),d===1?t.assign($,!0):t.if((0,Ce._)`${N} >= ${d}`,()=>t.assign($,!0)))}}};gn.default=ic;var es={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=J,r=x,n=G;e.error={message:({params:{property:u,depsCount:l,deps:f}})=>{const $=l===1?"property":"properties";return(0,t.str)`must have ${$} ${f} when property ${u} is present`},params:({params:{property:u,depsCount:l,deps:f,missingProperty:$}})=>(0,t._)`{property: ${u},
    missingProperty: ${$},
    depsCount: ${l},
    deps: ${f}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(u){const[l,f]=s(u);d(u,l),i(u,f)}};function s({schema:u}){const l={},f={};for(const $ in u){if($==="__proto__")continue;const R=Array.isArray(u[$])?l:f;R[$]=u[$]}return[l,f]}function d(u,l=u.schema){const{gen:f,data:$,it:R}=u;if(Object.keys(l).length===0)return;const k=f.let("missing");for(const b in l){const N=l[b];if(N.length===0)continue;const y=(0,n.propertyInData)(f,$,b,R.opts.ownProperties);u.setParams({property:b,depsCount:N.length,deps:N.join(", ")}),R.allErrors?f.if(y,()=>{for(const v of N)(0,n.checkReportMissingProp)(u,v)}):(f.if((0,t._)`${y} && (${(0,n.checkMissingProp)(u,N,k)})`),(0,n.reportMissingProp)(u,k),f.else())}}e.validatePropertyDeps=d;function i(u,l=u.schema){const{gen:f,data:$,keyword:R,it:k}=u,b=f.name("valid");for(const N in l)(0,r.alwaysValidSchema)(k,l[N])||(f.if((0,n.propertyInData)(f,$,N,k.opts.ownProperties),()=>{const y=u.subschema({keyword:R,schemaProp:N},b);u.mergeValidEvaluated(y,b)},()=>f.var(b,!0)),u.ok(b))}e.validateSchemaDeps=i,e.default=a})(es);var wn={};Object.defineProperty(wn,"__esModule",{value:!0});const ts=J,cc=x,lc={message:"property name must be valid",params:({params:e})=>(0,ts._)`{propertyName: ${e.propertyName}}`},uc={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:lc,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,cc.alwaysValidSchema)(a,r))return;const s=t.name("valid");t.forIn("key",n,d=>{e.setParams({propertyName:d}),e.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},s),t.if((0,ts.not)(s),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(s)}};wn.default=uc;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});const pr=G,Ie=J,dc=Ye,vr=x,fc={message:"must NOT have additional properties",params:({params:e})=>(0,Ie._)`{additionalProperty: ${e.additionalProperty}}`},hc={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:fc,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:s,it:d}=e;if(!s)throw new Error("ajv implementation error");const{allErrors:i,opts:u}=d;if(d.props=!0,u.removeAdditional!=="all"&&(0,vr.alwaysValidSchema)(d,r))return;const l=(0,pr.allSchemaProperties)(n.properties),f=(0,pr.allSchemaProperties)(n.patternProperties);$(),e.ok((0,Ie._)`${s} === ${dc.default.errors}`);function $(){t.forIn("key",a,y=>{!l.length&&!f.length?b(y):t.if(R(y),()=>b(y))})}function R(y){let v;if(l.length>8){const _=(0,vr.schemaRefOrVal)(d,n.properties,"properties");v=(0,pr.isOwnProperty)(t,_,y)}else l.length?v=(0,Ie.or)(...l.map(_=>(0,Ie._)`${y} === ${_}`)):v=Ie.nil;return f.length&&(v=(0,Ie.or)(v,...f.map(_=>(0,Ie._)`${(0,pr.usePattern)(e,_)}.test(${y})`))),(0,Ie.not)(v)}function k(y){t.code((0,Ie._)`delete ${a}[${y}]`)}function b(y){if(u.removeAdditional==="all"||u.removeAdditional&&r===!1){k(y);return}if(r===!1){e.setParams({additionalProperty:y}),e.error(),i||t.break();return}if(typeof r=="object"&&!(0,vr.alwaysValidSchema)(d,r)){const v=t.name("valid");u.removeAdditional==="failing"?(N(y,v,!1),t.if((0,Ie.not)(v),()=>{e.reset(),k(y)})):(N(y,v),i||t.if((0,Ie.not)(v),()=>t.break()))}}function N(y,v,_){const w={keyword:"additionalProperties",dataProp:y,dataPropType:vr.Type.Str};_===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(w,v)}}};jr.default=hc;var En={};Object.defineProperty(En,"__esModule",{value:!0});const mc=qe,sa=G,qr=x,oa=jr,pc={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:s}=e;s.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&oa.default.code(new mc.KeywordCxt(s,oa.default,"additionalProperties"));const d=(0,sa.allSchemaProperties)(r);for(const $ of d)s.definedProperties.add($);s.opts.unevaluated&&d.length&&s.props!==!0&&(s.props=qr.mergeEvaluated.props(t,(0,qr.toHash)(d),s.props));const i=d.filter($=>!(0,qr.alwaysValidSchema)(s,r[$]));if(i.length===0)return;const u=t.name("valid");for(const $ of i)l($)?f($):(t.if((0,sa.propertyInData)(t,a,$,s.opts.ownProperties)),f($),s.allErrors||t.else().var(u,!0),t.endIf()),e.it.definedProperties.add($),e.ok(u);function l($){return s.opts.useDefaults&&!s.compositeRule&&r[$].default!==void 0}function f($){e.subschema({keyword:"properties",schemaProp:$,dataProp:$},u)}}};En.default=pc;var bn={};Object.defineProperty(bn,"__esModule",{value:!0});const ia=G,$r=J,ca=x,la=x,vc={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:s}=e,{opts:d}=s,i=(0,ia.allSchemaProperties)(r),u=i.filter(N=>(0,ca.alwaysValidSchema)(s,r[N]));if(i.length===0||u.length===i.length&&(!s.opts.unevaluated||s.props===!0))return;const l=d.strictSchema&&!d.allowMatchingProperties&&a.properties,f=t.name("valid");s.props!==!0&&!(s.props instanceof $r.Name)&&(s.props=(0,la.evaluatedPropsToName)(t,s.props));const{props:$}=s;R();function R(){for(const N of i)l&&k(N),s.allErrors?b(N):(t.var(f,!0),b(N),t.if(f))}function k(N){for(const y in l)new RegExp(N).test(y)&&(0,ca.checkStrictMode)(s,`property ${y} matches pattern ${N} (use allowMatchingProperties)`)}function b(N){t.forIn("key",n,y=>{t.if((0,$r._)`${(0,ia.usePattern)(e,N)}.test(${y})`,()=>{const v=u.includes(N);v||e.subschema({keyword:"patternProperties",schemaProp:N,dataProp:y,dataPropType:la.Type.Str},f),s.opts.unevaluated&&$!==!0?t.assign((0,$r._)`${$}[${y}]`,!0):!v&&!s.allErrors&&t.if((0,$r.not)(f),()=>t.break())})})}}};bn.default=vc;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const $c=x,yc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,$c.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};Sn.default=yc;var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});const _c=G,gc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:_c.validateUnion,error:{message:"must match a schema in anyOf"}};Pn.default=gc;var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});const wr=J,wc=x,Ec={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,wr._)`{passingSchemas: ${e.passing}}`},bc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ec,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const s=r,d=t.let("valid",!1),i=t.let("passing",null),u=t.name("_valid");e.setParams({passing:i}),t.block(l),e.result(d,()=>e.reset(),()=>e.error(!0));function l(){s.forEach((f,$)=>{let R;(0,wc.alwaysValidSchema)(a,f)?t.var(u,!0):R=e.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},u),$>0&&t.if((0,wr._)`${u} && ${d}`).assign(d,!1).assign(i,(0,wr._)`[${i}, ${$}]`).else(),t.if(u,()=>{t.assign(d,!0),t.assign(i,$),R&&e.mergeEvaluated(R,wr.Name)})})}}};Nn.default=bc;var On={};Object.defineProperty(On,"__esModule",{value:!0});const Sc=x,Pc={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((s,d)=>{if((0,Sc.alwaysValidSchema)(n,s))return;const i=e.subschema({keyword:"allOf",schemaProp:d},a);e.ok(a),e.mergeEvaluated(i)})}};On.default=Pc;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});const Nr=J,rs=x,Nc={message:({params:e})=>(0,Nr.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,Nr._)`{failingKeyword: ${e.ifClause}}`},Oc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Nc,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,rs.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=ua(n,"then"),s=ua(n,"else");if(!a&&!s)return;const d=t.let("valid",!0),i=t.name("_valid");if(u(),e.reset(),a&&s){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(i,l("then",f),l("else",f))}else a?t.if(i,l("then")):t.if((0,Nr.not)(i),l("else"));e.pass(d,()=>e.error(!0));function u(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},i);e.mergeEvaluated(f)}function l(f,$){return()=>{const R=e.subschema({keyword:f},i);t.assign(d,i),e.mergeValidEvaluated(R,d),$?t.assign($,(0,Nr._)`${f}`):e.setParams({ifClause:f})}}}};function ua(e,t){const r=e.schema[t];return r!==void 0&&!(0,rs.alwaysValidSchema)(e,r)}Cn.default=Oc;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});const Cc=x,Tc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Cc.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};Tn.default=Tc;Object.defineProperty($n,"__esModule",{value:!0});const kc=jt,Rc=yn,Ic=Dt,jc=_n,Dc=gn,Ac=es,Mc=wn,Vc=jr,Fc=En,Uc=bn,qc=Sn,zc=Pn,Lc=Nn,Kc=On,Hc=Cn,Gc=Tn;function Jc(e=!1){const t=[qc.default,zc.default,Lc.default,Kc.default,Hc.default,Gc.default,Mc.default,Vc.default,Ac.default,Fc.default,Uc.default];return e?t.push(Rc.default,jc.default):t.push(kc.default,Ic.default),t.push(Dc.default),t}$n.default=Jc;var kn={},Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});const ue=J,Wc={message:({schemaCode:e})=>(0,ue.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,ue._)`{format: ${e}}`},Bc={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Wc,code(e,t){const{gen:r,data:n,$data:a,schema:s,schemaCode:d,it:i}=e,{opts:u,errSchemaPath:l,schemaEnv:f,self:$}=i;if(!u.validateFormats)return;a?R():k();function R(){const b=r.scopeValue("formats",{ref:$.formats,code:u.code.formats}),N=r.const("fDef",(0,ue._)`${b}[${d}]`),y=r.let("fType"),v=r.let("format");r.if((0,ue._)`typeof ${N} == "object" && !(${N} instanceof RegExp)`,()=>r.assign(y,(0,ue._)`${N}.type || "string"`).assign(v,(0,ue._)`${N}.validate`),()=>r.assign(y,(0,ue._)`"string"`).assign(v,N)),e.fail$data((0,ue.or)(_(),w()));function _(){return u.strictSchema===!1?ue.nil:(0,ue._)`${d} && !${v}`}function w(){const I=f.$async?(0,ue._)`(${N}.async ? await ${v}(${n}) : ${v}(${n}))`:(0,ue._)`${v}(${n})`,A=(0,ue._)`(typeof ${v} == "function" ? ${I} : ${v}.test(${n}))`;return(0,ue._)`${v} && ${v} !== true && ${y} === ${t} && !${A}`}}function k(){const b=$.formats[s];if(!b){_();return}if(b===!0)return;const[N,y,v]=w(b);N===t&&e.pass(I());function _(){if(u.strictSchema===!1){$.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function w(A){const E=A instanceof RegExp?(0,ue.regexpCode)(A):u.code.formats?(0,ue._)`${u.code.formats}${(0,ue.getProperty)(s)}`:void 0,C=r.scopeValue("formats",{key:s,ref:A,code:E});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,ue._)`${C}.validate`]:["string",A,C]}function I(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!f.$async)throw new Error("async format in sync schema");return(0,ue._)`await ${v}(${n})`}return typeof y=="function"?(0,ue._)`${v}(${n})`:(0,ue._)`${v}.test(${n})`}}}};Rn.default=Bc;Object.defineProperty(kn,"__esModule",{value:!0});const Qc=Rn,Xc=[Qc.default];kn.default=Xc;var It={};Object.defineProperty(It,"__esModule",{value:!0});It.contentVocabulary=It.metadataVocabulary=void 0;It.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];It.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(tn,"__esModule",{value:!0});const Yc=rn,Zc=an,xc=$n,el=kn,da=It,tl=[Yc.default,Zc.default,(0,xc.default)(),el.default,da.metadataVocabulary,da.contentVocabulary];tn.default=tl;var In={},ns={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(ns);Object.defineProperty(In,"__esModule",{value:!0});const Tt=J,Wr=ns,fa=be,rl=x,nl={message:({params:{discrError:e,tagName:t}})=>e===Wr.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Tt._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},al={keyword:"discriminator",type:"object",schemaType:"object",error:nl,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:s}=e,{oneOf:d}=a;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const i=n.propertyName;if(typeof i!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!d)throw new Error("discriminator: requires oneOf keyword");const u=t.let("valid",!1),l=t.const("tag",(0,Tt._)`${r}${(0,Tt.getProperty)(i)}`);t.if((0,Tt._)`typeof ${l} == "string"`,()=>f(),()=>e.error(!1,{discrError:Wr.DiscrError.Tag,tag:l,tagName:i})),e.ok(u);function f(){const k=R();t.if(!1);for(const b in k)t.elseIf((0,Tt._)`${l} === ${b}`),t.assign(u,$(k[b]));t.else(),e.error(!1,{discrError:Wr.DiscrError.Mapping,tag:l,tagName:i}),t.endIf()}function $(k){const b=t.name("valid"),N=e.subschema({keyword:"oneOf",schemaProp:k},b);return e.mergeEvaluated(N,Tt.Name),b}function R(){var k;const b={},N=v(a);let y=!0;for(let I=0;I<d.length;I++){let A=d[I];A!=null&&A.$ref&&!(0,rl.schemaHasRulesButRef)(A,s.self.RULES)&&(A=fa.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,A==null?void 0:A.$ref),A instanceof fa.SchemaEnv&&(A=A.schema));const E=(k=A==null?void 0:A.properties)===null||k===void 0?void 0:k[i];if(typeof E!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${i}"`);y=y&&(N||v(A)),_(E,I)}if(!y)throw new Error(`discriminator: "${i}" must be required`);return b;function v({required:I}){return Array.isArray(I)&&I.includes(i)}function _(I,A){if(I.const)w(I.const,A);else if(I.enum)for(const E of I.enum)w(E,A);else throw new Error(`discriminator: "properties/${i}" must have "const" or "enum"`)}function w(I,A){if(typeof I!="string"||I in b)throw new Error(`discriminator: "${i}" values must be unique strings`);b[I]=A}}}};In.default=al;const sl="http://json-schema.org/draft-07/schema#",ol="http://json-schema.org/draft-07/schema#",il="Core schema meta-schema",cl={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ll=["object","boolean"],ul={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},dl={$schema:sl,$id:ol,title:il,definitions:cl,type:ll,properties:ul,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=ba,n=tn,a=In,s=dl,d=["/properties"],i="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(s,d):s;this.addMetaSchema(b,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.exports=t=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var l=qe;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var f=J;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var $=nr;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var R=ar;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return R.default}})})(zr,zr.exports);var fl=zr.exports;const hl=gs(fl);function ha(e,t,r){const n=e.slice();return n[1]=t[r],n}function ma(e){let t,r,n="<tr><th>Keyword</th> <th>Message</th> <th>Instance path</th> <th>Schema path</th></tr>",a,s,d=Wn(e[0]),i=[];for(let u=0;u<d.length;u+=1)i[u]=pa(ha(e,d,u));return{c(){t=pe("table"),r=pe("thead"),r.innerHTML=n,a=Be(),s=pe("tbody");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){t=ve(u,"TABLE",{class:!0});var l=Te(t);r=ve(l,"THEAD",{"data-svelte-h":!0}),er(r)!=="svelte-viwj2b"&&(r.innerHTML=n),a=Qe(l),s=ve(l,"TBODY",{});var f=Te(s);for(let $=0;$<i.length;$+=1)i[$].l(f);f.forEach(ee),l.forEach(ee),this.h()},h(){ke(t,"class","styled-table full-width")},m(u,l){_e(u,t,l),ye(t,r),ye(t,a),ye(t,s);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(s,null)},p(u,l){if(l&1){d=Wn(u[0]);let f;for(f=0;f<d.length;f+=1){const $=ha(u,d,f);i[f]?i[f].p($,l):(i[f]=pa($),i[f].c(),i[f].m(s,null))}for(;f<i.length;f+=1)i[f].d(1);i.length=d.length}},d(u){u&&ee(t),ps(i,u)}}}function pa(e){let t,r,n=e[1].keyword+"",a,s,d,i=e[1].message+"",u,l,f,$=e[1].instancePath+"",R,k,b,N=e[1].schemaPath+"",y,v;return{c(){t=pe("tr"),r=pe("td"),a=ur(n),s=Be(),d=pe("td"),u=ur(i),l=Be(),f=pe("td"),R=ur($),k=Be(),b=pe("td"),y=ur(N),v=Be()},l(_){t=ve(_,"TR",{});var w=Te(t);r=ve(w,"TD",{});var I=Te(r);a=dr(I,n),I.forEach(ee),s=Qe(w),d=ve(w,"TD",{});var A=Te(d);u=dr(A,i),A.forEach(ee),l=Qe(w),f=ve(w,"TD",{});var E=Te(f);R=dr(E,$),E.forEach(ee),k=Qe(w),b=ve(w,"TD",{});var C=Te(b);y=dr(C,N),C.forEach(ee),v=Qe(w),w.forEach(ee)},m(_,w){_e(_,t,w),ye(t,r),ye(r,a),ye(t,s),ye(t,d),ye(d,u),ye(t,l),ye(t,f),ye(f,R),ye(t,k),ye(t,b),ye(b,y),ye(t,v)},p(_,w){w&1&&n!==(n=_[1].keyword+"")&&fr(a,n),w&1&&i!==(i=_[1].message+"")&&fr(u,i),w&1&&$!==($=_[1].instancePath+"")&&fr(R,$),w&1&&N!==(N=_[1].schemaPath+"")&&fr(y,N)},d(_){_&&ee(t)}}}function ml(e){let t,r=e[0]&&e[0].length>0&&ma(e);return{c(){r&&r.c(),t=Gn()},l(n){r&&r.l(n),t=Gn()},m(n,a){r&&r.m(n,a),_e(n,t,a)},p(n,[a]){n[0]&&n[0].length>0?r?r.p(n,a):(r=ma(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:Jn,o:Jn,d(n){n&&ee(t),r&&r.d(n)}}}function pl(e,t,r){let{validationErrors:n}=t;return e.$$set=a=>{"validationErrors"in a&&r(0,n=a.validationErrors)},[n]}class vl extends $a{constructor(t){super(),ya(this,t,pl,ml,va,{validationErrors:0})}}function $l(e){let t,r,n,a,s,d;function i(l){e[10](l)}let u={lang:wa(),theme:e[8]};return e[0]!==void 0&&(u.value=e[0]),r=new _a({props:u}),Or.push(()=>Tr(r,"value",i)),s=new ga({props:{message:e[2]}}),{c(){t=pe("div"),De(r.$$.fragment),a=Be(),De(s.$$.fragment),this.h()},l(l){t=ve(l,"DIV",{class:!0});var f=Te(t);Ae(r.$$.fragment,f),f.forEach(ee),a=Qe(l),Ae(s.$$.fragment,l),this.h()},h(){ke(t,"class","textarea-wrapper svelte-1q62cm5")},m(l,f){_e(l,t,f),Me(r,t,null),_e(l,a,f),Me(s,l,f),d=!0},p(l,f){const $={};f&256&&($.theme=l[8]),!n&&f&1&&(n=!0,$.value=l[0],Cr(()=>n=!1)),r.$set($);const R={};f&4&&(R.message=l[2]),s.$set(R)},i(l){d||(Ve(r.$$.fragment,l),Ve(s.$$.fragment,l),d=!0)},o(l){Fe(r.$$.fragment,l),Fe(s.$$.fragment,l),d=!1},d(l){l&&(ee(t),ee(a)),Ue(r),Ue(s,l)}}}function yl(e){let t,r,n,a;function s(i){e[9](i)}let d={};return e[0]!==void 0&&(d.textFile=e[0]),r=new Ea({props:d}),Or.push(()=>Tr(r,"textFile",s)),{c(){t=pe("div"),De(r.$$.fragment),this.h()},l(i){t=ve(i,"DIV",{class:!0,slot:!0});var u=Te(t);Ae(r.$$.fragment,u),u.forEach(ee),this.h()},h(){ke(t,"class","toolbar"),ke(t,"slot","header-left")},m(i,u){_e(i,t,u),Me(r,t,null),a=!0},p(i,u){const l={};!n&&u&1&&(n=!0,l.textFile=i[0],Cr(()=>n=!1)),r.$set(l)},i(i){a||(Ve(r.$$.fragment,i),a=!0)},o(i){Fe(r.$$.fragment,i),a=!1},d(i){i&&ee(t),Ue(r)}}}function _l(e){let t,r,n,a,s,d;function i(l){e[12](l)}let u={lang:wa(),theme:e[8]};return e[1]!==void 0&&(u.value=e[1]),r=new _a({props:u}),Or.push(()=>Tr(r,"value",i)),s=new ga({props:{message:e[3]}}),{c(){t=pe("div"),De(r.$$.fragment),a=Be(),De(s.$$.fragment),this.h()},l(l){t=ve(l,"DIV",{class:!0});var f=Te(t);Ae(r.$$.fragment,f),f.forEach(ee),a=Qe(l),Ae(s.$$.fragment,l),this.h()},h(){ke(t,"class","textarea-wrapper svelte-1q62cm5")},m(l,f){_e(l,t,f),Me(r,t,null),_e(l,a,f),Me(s,l,f),d=!0},p(l,f){const $={};f&256&&($.theme=l[8]),!n&&f&2&&(n=!0,$.value=l[1],Cr(()=>n=!1)),r.$set($);const R={};f&8&&(R.message=l[3]),s.$set(R)},i(l){d||(Ve(r.$$.fragment,l),Ve(s.$$.fragment,l),d=!0)},o(l){Fe(r.$$.fragment,l),Fe(s.$$.fragment,l),d=!1},d(l){l&&(ee(t),ee(a)),Ue(r),Ue(s,l)}}}function gl(e){let t,r,n,a;function s(i){e[11](i)}let d={};return e[1]!==void 0&&(d.textFile=e[1]),r=new Ea({props:d}),Or.push(()=>Tr(r,"textFile",s)),{c(){t=pe("div"),De(r.$$.fragment),this.h()},l(i){t=ve(i,"DIV",{class:!0,slot:!0});var u=Te(t);Ae(r.$$.fragment,u),u.forEach(ee),this.h()},h(){ke(t,"class","toolbar"),ke(t,"slot","header-left")},m(i,u){_e(i,t,u),Me(r,t,null),a=!0},p(i,u){const l={};!n&&u&2&&(n=!0,l.textFile=i[1],Cr(()=>n=!1)),r.$set(l)},i(i){a||(Ve(r.$$.fragment,i),a=!0)},o(i){Fe(r.$$.fragment,i),a=!1},d(i){i&&ee(t),Ue(r)}}}function wl(e){let t,r="❌ The JSON is not valid against the schema.";return{c(){t=pe("p"),t.textContent=r,this.h()},l(n){t=ve(n,"P",{class:!0,"data-svelte-h":!0}),er(t)!=="svelte-137t7vh"&&(t.textContent=r),this.h()},h(){ke(t,"class","svelte-1q62cm5")},m(n,a){_e(n,t,a)},d(n){n&&ee(t)}}}function El(e){let t,r="✅ The JSON is valid against the schema.";return{c(){t=pe("p"),t.textContent=r,this.h()},l(n){t=ve(n,"P",{class:!0,"data-svelte-h":!0}),er(t)!=="svelte-160u5bb"&&(t.textContent=r),this.h()},h(){ke(t,"class","svelte-1q62cm5")},m(n,a){_e(n,t,a)},d(n){n&&ee(t)}}}function bl(e){let t,r="Waiting for schema.";return{c(){t=pe("p"),t.textContent=r,this.h()},l(n){t=ve(n,"P",{class:!0,"data-svelte-h":!0}),er(t)!=="svelte-12er027"&&(t.textContent=r),this.h()},h(){ke(t,"class","svelte-1q62cm5")},m(n,a){_e(n,t,a)},d(n){n&&ee(t)}}}function Sl(e){let t,r="Waiting for JSON";return{c(){t=pe("p"),t.textContent=r,this.h()},l(n){t=ve(n,"P",{class:!0,"data-svelte-h":!0}),er(t)!=="svelte-1my6he6"&&(t.textContent=r),this.h()},h(){ke(t,"class","svelte-1q62cm5")},m(n,a){_e(n,t,a)},d(n){n&&ee(t)}}}function Pl(e){let t,r,n,a;function s(u,l){if(!u[5])return Sl;if(!u[6])return bl;if(u[7]===!0)return El;if(u[7]===!1)return wl}let d=s(e),i=d&&d(e);return n=new vl({props:{validationErrors:e[4]}}),{c(){t=pe("div"),i&&i.c(),r=Be(),De(n.$$.fragment),this.h()},l(u){t=ve(u,"DIV",{class:!0});var l=Te(t);i&&i.l(l),r=Qe(l),Ae(n.$$.fragment,l),l.forEach(ee),this.h()},h(){ke(t,"class","output svelte-1q62cm5")},m(u,l){_e(u,t,l),i&&i.m(t,null),ye(t,r),Me(n,t,null),a=!0},p(u,l){d!==(d=s(u))&&(i&&i.d(1),i=d&&d(u),i&&(i.c(),i.m(t,r)));const f={};l&16&&(f.validationErrors=u[4]),n.$set(f)},i(u){a||(Ve(n.$$.fragment,u),a=!0)},o(u){Fe(n.$$.fragment,u),a=!1},d(u){u&&ee(t),i&&i.d(),Ue(n)}}}function Nl(e){let t,r,n,a,s,d;return t=new Ar({props:{title:"JSON",hasPadding:!1,$$slots:{"header-left":[yl],default:[$l]},$$scope:{ctx:e}}}),n=new Ar({props:{title:"JSON Schema",hasPadding:!1,$$slots:{"header-left":[gl],default:[_l]},$$scope:{ctx:e}}}),s=new Ar({props:{title:"Validation",isCollapsible:!1,height:"auto",isCompact:!0,$$slots:{default:[Pl]},$$scope:{ctx:e}}}),{c(){De(t.$$.fragment),r=Be(),De(n.$$.fragment),a=Be(),De(s.$$.fragment)},l(i){Ae(t.$$.fragment,i),r=Qe(i),Ae(n.$$.fragment,i),a=Qe(i),Ae(s.$$.fragment,i)},m(i,u){Me(t,i,u),_e(i,r,u),Me(n,i,u),_e(i,a,u),Me(s,i,u),d=!0},p(i,u){const l={};u&33029&&(l.$$scope={dirty:u,ctx:i}),t.$set(l);const f={};u&33034&&(f.$$scope={dirty:u,ctx:i}),n.$set(f);const $={};u&33008&&($.$$scope={dirty:u,ctx:i}),s.$set($)},i(i){d||(Ve(t.$$.fragment,i),Ve(n.$$.fragment,i),Ve(s.$$.fragment,i),d=!0)},o(i){Fe(t.$$.fragment,i),Fe(n.$$.fragment,i),Fe(s.$$.fragment,i),d=!1},d(i){i&&(ee(r),ee(a)),Ue(t,i),Ue(n,i),Ue(s,i)}}}function Ol(e){let t,r;return t=new ys({props:{$$slots:{default:[Nl]},$$scope:{ctx:e}}}),{c(){De(t.$$.fragment)},l(n){Ae(t.$$.fragment,n)},m(n,a){Me(t,n,a),r=!0},p(n,[a]){const s={};a&33279&&(s.$$scope={dirty:a,ctx:n}),t.$set(s)},i(n){r||(Ve(t.$$.fragment,n),r=!0)},o(n){Fe(t.$$.fragment,n),r=!1},d(n){Ue(t,n)}}}function Cl(e,t,r){let n;vs(e,$s,_=>r(8,n=_));let a,s,d="",i="",u=[];const l=new hl;let f,$,R;function k(){!f||!$||(r(7,R=$(f)),r(4,u=$.errors))}function b(_){a=_,r(0,a)}function N(_){a=_,r(0,a)}function y(_){s=_,r(1,s)}function v(_){s=_,r(1,s)}return e.$$.update=()=>{if(e.$$.dirty&1){try{r(2,d=""),a&&r(5,f=JSON.parse(a))}catch(_){r(2,d=_.message)}k()}if(e.$$.dirty&2){try{if(r(6,$=void 0),r(3,i=""),s){const _=JSON.parse(s);r(6,$=l.compile(_))}}catch(_){r(3,i=_.message)}k()}},[a,s,d,i,u,f,$,R,n,b,N,y,v]}class Fl extends $a{constructor(t){super(),ya(this,t,Cl,Ol,va,{})}}export{Fl as component};
