import{s as j,e as b,i as v,B as H,d as y,o as D,P as Z,f as z,g as q,h as K,j as T,k as c,u as _,L as N,M as X,p as Y}from"./scheduler.9e408aab.js";import{S as F,i as G}from"./index.97a8dc8b.js";const J=o=>o.replace(/-_$/g,"").replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase(),O=(o,t)=>{const e=o.getBoundingClientRect().width+2,n=window.getComputedStyle(o),a=parseInt(n.getPropertyValue("padding-left"),10),f=parseInt(n.getPropertyValue("padding-right"),10),s=a+f,h=e-s;return Math.round(Math.min(t,h||t))},Q=(o,t=null,i)=>{const e=o.getBoundingClientRect(),n=window.innerWidth||document.documentElement.clientWidth,a=window.innerHeight||document.documentElement.clientHeight;let f=e.bottom>0&&e.top<a&&e.right>0&&e.left<n;if(t){const s=t.getBoundingClientRect();return i==="top"||i==="bottom"?f=s.bottom+s.height<a&&s.top<a:f=s.right+s.width<n&&s.left<n,f}return f},U=(o,t,i,e)=>{if(!o||!t)return e;const n=o.getBoundingClientRect(),a=t.getBoundingClientRect();switch(i){case"top":e.top=n.top,e.left=n.left+n.width/2;break;case"bottom":e.top=n.top-a.height,e.left=n.left+n.width/2;break;case"left":e.left=n.left,e.top=n.top+n.height/2;break;case"right":e.left=n.right-a.width,e.top=n.top+n.height/2;break}return e.top+=window.scrollY,e.left+=window.scrollX,e},x={left:"right",right:"left",top:"bottom",bottom:"top"};function V(o){let t,i,e=!o[11]&&p(o);return{c(){t=z("div"),e&&e.c(),this.h()},l(n){t=q(n,"DIV",{class:!0,style:!0});var a=K(t);e&&e.l(a),a.forEach(y),this.h()},h(){T(t,"class",i="tooltip animation-"+o[8]+" "+o[0]+" "+o[4]+" svelte-hla1ha"),c(t,"bottom","auto"),c(t,"right","auto"),c(t,"left",o[10].left+"px"),c(t,"min-width",o[7]+"px"),c(t,"max-width",o[3]+"px"),c(t,"text-align",o[2]),c(t,"top",o[10].top+"px"),_(t,"show",o[9]),_(t,"arrowless",!o[5])},m(n,a){v(n,t,a),e&&e.m(t,null),o[19](t)},p(n,a){n[11]?e&&(e.d(1),e=null):e?e.p(n,a):(e=p(n),e.c(),e.m(t,null)),a&273&&i!==(i="tooltip animation-"+n[8]+" "+n[0]+" "+n[4]+" svelte-hla1ha")&&T(t,"class",i),a&1024&&c(t,"left",n[10].left+"px"),a&128&&c(t,"min-width",n[7]+"px"),a&8&&c(t,"max-width",n[3]+"px"),a&4&&c(t,"text-align",n[2]),a&1024&&c(t,"top",n[10].top+"px"),a&785&&_(t,"show",n[9]),a&305&&_(t,"arrowless",!n[5])},d(n){n&&y(t),e&&e.d(),o[19](null)}}}function p(o){let t,i;return{c(){t=new N(!1),i=b(),this.h()},l(e){t=X(e,!1),i=b(),this.h()},h(){t.a=i},m(e,n){t.m(o[1],e,n),v(e,i,n)},p(e,n){n&2&&t.p(e[1])},d(e){e&&(y(i),t.d())}}}function $(o){let t,i=o[1]&&V(o);return{c(){i&&i.c(),t=b()},l(e){i&&i.l(e),t=b()},m(e,n){i&&i.m(e,n),v(e,t,n)},p(e,[n]){e[1]?i?i.p(e,n):(i=V(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:H,o:H,d(e){e&&y(t),i&&i.d(e)}}}function tt(o,t,i){let e,{targetElement:n=null}=t,{action:a="hover"}=t,{content:f=""}=t,{align:s="left"}=t,{position:h="top"}=t,{maxWidth:m=200}=t,{style:u=null}=t,{theme:L=""}=t,{animation:g=""}=t,{delay:k=200}=t,{arrow:W=!0}=t,{autoPosition:E=!1}=t,{show:P=!1}=t,r=null,A=0,d=null,R=null,w=!1,C={bottom:0,top:0,right:0,left:0};const B=g?k:0;D(()=>{if(r!==null&&(e&&!d&&(d=new f.component({target:r,props:{action:a,...f.props}})),i(7,A=O(r,m)),u&&typeof u=="object"))for(let l in u){const M=J(l),S=u[l];r.style.setProperty(`--tooltip-${M}`,S)}E&&!Q(r,n,h)&&i(0,h=x[h]),i(10,C=U(n,r,h,C)),g&&i(8,R=g),setTimeout(()=>i(9,w=!0),B)}),Z(()=>{d&&(d.$destroy(),d=null)});function I(l){Y[l?"unshift":"push"](()=>{r=l,i(6,r)})}return o.$$set=l=>{"targetElement"in l&&i(12,n=l.targetElement),"action"in l&&i(13,a=l.action),"content"in l&&i(1,f=l.content),"align"in l&&i(2,s=l.align),"position"in l&&i(0,h=l.position),"maxWidth"in l&&i(3,m=l.maxWidth),"style"in l&&i(14,u=l.style),"theme"in l&&i(4,L=l.theme),"animation"in l&&i(15,g=l.animation),"delay"in l&&i(16,k=l.delay),"arrow"in l&&i(5,W=l.arrow),"autoPosition"in l&&i(17,E=l.autoPosition),"show"in l&&i(18,P=l.show)},o.$$.update=()=>{o.$$.dirty&2&&i(11,e=typeof f=="object"),o.$$.dirty&262208&&(r&&P?setTimeout(()=>i(9,w=!0),B):i(9,w=!1))},[h,f,s,m,L,W,r,A,R,w,C,e,n,a,u,g,k,E,P,I]}class et extends F{constructor(t){super(),G(this,t,tt,$,j,{targetElement:12,action:13,content:1,align:2,position:0,maxWidth:3,style:14,theme:4,animation:15,delay:16,arrow:5,autoPosition:17,show:18})}}const it=et,lt=(o,t)=>{let i=null,e=o.getAttribute("title"),n=(t==null?void 0:t.action)||o.getAttribute("action")||"hover";const a={...t,targetElement:o};e&&(o.removeAttribute("title"),a.content=e);const f=()=>{i?h():s()},s=()=>{i||(i=new it({target:o,props:a}))},h=()=>{i&&(i.$destroy(),i=null)},m=()=>{o!==null&&(u(),a.show&&s(),n==="click"&&o.addEventListener("click",f),n==="hover"&&(o.addEventListener("mouseenter",s),o.addEventListener("mouseleave",h)))},u=()=>{o!==null&&(o.removeEventListener("click",f),o.removeEventListener("mouseenter",s),o.removeEventListener("mouseleave",h))};return m(),{destroy(){u(),e&&o.setAttribute("title",e)}}};export{lt as t};
